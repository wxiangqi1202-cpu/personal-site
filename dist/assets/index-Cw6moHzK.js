(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function TT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d0={exports:{}},Bc={},f0={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ul=Symbol.for("react.element"),kT=Symbol.for("react.portal"),CT=Symbol.for("react.fragment"),ST=Symbol.for("react.strict_mode"),IT=Symbol.for("react.profiler"),PT=Symbol.for("react.provider"),AT=Symbol.for("react.context"),RT=Symbol.for("react.forward_ref"),DT=Symbol.for("react.suspense"),OT=Symbol.for("react.memo"),NT=Symbol.for("react.lazy"),Cy=Symbol.iterator;function MT(t){return t===null||typeof t!="object"?null:(t=Cy&&t[Cy]||t["@@iterator"],typeof t=="function"?t:null)}var p0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m0=Object.assign,g0={};function To(t,e,n){this.props=t,this.context=e,this.refs=g0,this.updater=n||p0}To.prototype.isReactComponent={};To.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};To.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function y0(){}y0.prototype=To.prototype;function Cp(t,e,n){this.props=t,this.context=e,this.refs=g0,this.updater=n||p0}var Sp=Cp.prototype=new y0;Sp.constructor=Cp;m0(Sp,To.prototype);Sp.isPureReactComponent=!0;var Sy=Array.isArray,w0=Object.prototype.hasOwnProperty,Ip={current:null},v0={key:!0,ref:!0,__self:!0,__source:!0};function _0(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)w0.call(e,i)&&!v0.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];r.children=u}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ul,type:t,key:s,ref:o,props:r,_owner:Ip.current}}function VT(t,e){return{$$typeof:ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pp(t){return typeof t=="object"&&t!==null&&t.$$typeof===ul}function LT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Iy=/\/+/g;function Hh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LT(""+t.key):e.toString(36)}function yu(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ul:case kT:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Hh(o,0):i,Sy(r)?(n="",t!=null&&(n=t.replace(Iy,"$&/")+"/"),yu(r,e,n,"",function(c){return c})):r!=null&&(Pp(r)&&(r=VT(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Iy,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",Sy(t))for(var a=0;a<t.length;a++){s=t[a];var u=i+Hh(s,a);o+=yu(s,e,n,u,r)}else if(u=MT(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=i+Hh(s,a++),o+=yu(s,e,n,u,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zl(t,e,n){if(t==null)return t;var i=[],r=0;return yu(t,i,"","",function(s){return e.call(n,s,r++)}),i}function zT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},wu={transition:null},FT={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:wu,ReactCurrentOwner:Ip};function b0(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:zl,forEach:function(t,e,n){zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zl(t,function(){e++}),e},toArray:function(t){return zl(t,function(e){return e})||[]},only:function(t){if(!Pp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=To;ne.Fragment=CT;ne.Profiler=IT;ne.PureComponent=Cp;ne.StrictMode=ST;ne.Suspense=DT;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FT;ne.act=b0;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m0({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ip.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)w0.call(e,u)&&!v0.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:ul,type:t.type,key:r,ref:s,props:i,_owner:o}};ne.createContext=function(t){return t={$$typeof:AT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PT,_context:t},t.Consumer=t};ne.createElement=_0;ne.createFactory=function(t){var e=_0.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:RT,render:t}};ne.isValidElement=Pp;ne.lazy=function(t){return{$$typeof:NT,_payload:{_status:-1,_result:t},_init:zT}};ne.memo=function(t,e){return{$$typeof:OT,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=wu.transition;wu.transition={};try{t()}finally{wu.transition=e}};ne.unstable_act=b0;ne.useCallback=function(t,e){return Ot.current.useCallback(t,e)};ne.useContext=function(t){return Ot.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};ne.useEffect=function(t,e){return Ot.current.useEffect(t,e)};ne.useId=function(){return Ot.current.useId()};ne.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return Ot.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};ne.useRef=function(t){return Ot.current.useRef(t)};ne.useState=function(t){return Ot.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return Ot.current.useTransition()};ne.version="18.3.1";f0.exports=ne;var Ge=f0.exports;const zr=TT(Ge);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT=Ge,BT=Symbol.for("react.element"),$T=Symbol.for("react.fragment"),UT=Object.prototype.hasOwnProperty,qT=jT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HT={key:!0,ref:!0,__self:!0,__source:!0};function E0(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)UT.call(e,i)&&!HT.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:BT,type:t,key:s,ref:o,props:r,_owner:qT.current}}Bc.Fragment=$T;Bc.jsx=E0;Bc.jsxs=E0;d0.exports=Bc;var A=d0.exports,x0={exports:{}},en={},T0={exports:{}},k0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Y){var ee=q.length;q.push(Y);e:for(;0<ee;){var Te=ee-1>>>1,Oe=q[Te];if(0<r(Oe,Y))q[Te]=Y,q[ee]=Oe,ee=Te;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var Y=q[0],ee=q.pop();if(ee!==Y){q[0]=ee;e:for(var Te=0,Oe=q.length,fr=Oe>>>1;Te<fr;){var on=2*(Te+1)-1,pr=q[on],_n=on+1,_i=q[_n];if(0>r(pr,ee))_n<Oe&&0>r(_i,pr)?(q[Te]=_i,q[_n]=ee,Te=_n):(q[Te]=pr,q[on]=ee,Te=on);else if(_n<Oe&&0>r(_i,ee))q[Te]=_i,q[_n]=ee,Te=_n;else break e}}return Y}function r(q,Y){var ee=q.sortIndex-Y.sortIndex;return ee!==0?ee:q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,m=3,g=!1,b=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(q){for(var Y=n(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=q)i(c),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(c)}}function R(q){if(S=!1,k(q),!b)if(n(u)!==null)b=!0,Lo(V);else{var Y=n(c);Y!==null&&zo(R,Y.startTime-q)}}function V(q,Y){b=!1,S&&(S=!1,_(y),y=-1),g=!0;var ee=m;try{for(k(Y),f=n(u);f!==null&&(!(f.expirationTime>Y)||q&&!I());){var Te=f.callback;if(typeof Te=="function"){f.callback=null,m=f.priorityLevel;var Oe=Te(f.expirationTime<=Y);Y=t.unstable_now(),typeof Oe=="function"?f.callback=Oe:f===n(u)&&i(u),k(Y)}else i(u);f=n(u)}if(f!==null)var fr=!0;else{var on=n(c);on!==null&&zo(R,on.startTime-Y),fr=!1}return fr}finally{f=null,m=ee,g=!1}}var F=!1,E=null,y=-1,x=5,C=-1;function I(){return!(t.unstable_now()-C<x)}function D(){if(E!==null){var q=t.unstable_now();C=q;var Y=!0;try{Y=E(!0,q)}finally{Y?T():(F=!1,E=null)}}else F=!1}var T;if(typeof v=="function")T=function(){v(D)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,ti=ve.port2;ve.port1.onmessage=D,T=function(){ti.postMessage(null)}}else T=function(){P(D,0)};function Lo(q){E=q,F||(F=!0,T())}function zo(q,Y){y=P(function(){q(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,Lo(V))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(q){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var ee=m;m=Y;try{return q()}finally{m=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=m;m=q;try{return Y()}finally{m=ee}},t.unstable_scheduleCallback=function(q,Y,ee){var Te=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Te+ee:Te):ee=Te,q){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ee+Oe,q={id:d++,callback:Y,priorityLevel:q,startTime:ee,expirationTime:Oe,sortIndex:-1},ee>Te?(q.sortIndex=ee,e(c,q),n(u)===null&&q===n(c)&&(S?(_(y),y=-1):S=!0,zo(R,ee-Te))):(q.sortIndex=Oe,e(u,q),b||g||(b=!0,Lo(V))),q},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(q){var Y=m;return function(){var ee=m;m=Y;try{return q.apply(this,arguments)}finally{m=ee}}}})(k0);T0.exports=k0;var WT=T0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT=Ge,Jt=WT;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C0=new Set,Da={};function ns(t,e){no(t,e),no(t+"Capture",e)}function no(t,e){for(Da[t]=e,t=0;t<e.length;t++)C0.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kd=Object.prototype.hasOwnProperty,QT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Py={},Ay={};function KT(t){return Kd.call(Ay,t)?!0:Kd.call(Py,t)?!1:QT.test(t)?Ay[t]=!0:(Py[t]=!0,!1)}function XT(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YT(t,e,n,i){if(e===null||typeof e>"u"||XT(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ap=/[\-:]([a-z])/g;function Rp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ap,Rp);ut[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ap,Rp);ut[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ap,Rp);ut[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dp(t,e,n,i){var r=ut.hasOwnProperty(e)?ut[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YT(e,n,r,i)&&(n=null),i||r===null?KT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var vi=GT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fl=Symbol.for("react.element"),xs=Symbol.for("react.portal"),Ts=Symbol.for("react.fragment"),Op=Symbol.for("react.strict_mode"),Xd=Symbol.for("react.profiler"),S0=Symbol.for("react.provider"),I0=Symbol.for("react.context"),Np=Symbol.for("react.forward_ref"),Yd=Symbol.for("react.suspense"),Jd=Symbol.for("react.suspense_list"),Mp=Symbol.for("react.memo"),Ii=Symbol.for("react.lazy"),P0=Symbol.for("react.offscreen"),Ry=Symbol.iterator;function ta(t){return t===null||typeof t!="object"?null:(t=Ry&&t[Ry]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,Wh;function ca(t){if(Wh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wh=e&&e[1]||""}return`
`+Wh+t}var Gh=!1;function Qh(t,e){if(!t||Gh)return"";Gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var u=`
`+r[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Gh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ca(t):""}function JT(t){switch(t.tag){case 5:return ca(t.type);case 16:return ca("Lazy");case 13:return ca("Suspense");case 19:return ca("SuspenseList");case 0:case 2:case 15:return t=Qh(t.type,!1),t;case 11:return t=Qh(t.type.render,!1),t;case 1:return t=Qh(t.type,!0),t;default:return""}}function Zd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ts:return"Fragment";case xs:return"Portal";case Xd:return"Profiler";case Op:return"StrictMode";case Yd:return"Suspense";case Jd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case I0:return(t.displayName||"Context")+".Consumer";case S0:return(t._context.displayName||"Context")+".Provider";case Np:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mp:return e=t.displayName||null,e!==null?e:Zd(t.type)||"Memo";case Ii:e=t._payload,t=t._init;try{return Zd(t(e))}catch{}}return null}function ZT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zd(e);case 8:return e===Op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ek(t){var e=A0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jl(t){t._valueTracker||(t._valueTracker=ek(t))}function R0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=A0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function zu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ef(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dy(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=er(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function D0(t,e){e=e.checked,e!=null&&Dp(t,"checked",e,!1)}function tf(t,e){D0(t,e);var n=er(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nf(t,e.type,n):e.hasOwnProperty("defaultValue")&&nf(t,e.type,er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Oy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nf(t,e,n){(e!=="number"||zu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ha=Array.isArray;function zs(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+er(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function rf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ny(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(ha(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:er(n)}}function O0(t,e){var n=er(e.value),i=er(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function My(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function N0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?N0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bl,M0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bl=Bl||document.createElement("div"),Bl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tk=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(t){tk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ya[e]=ya[t]})});function V0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ya.hasOwnProperty(t)&&ya[t]?(""+e).trim():e+"px"}function L0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=V0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var nk=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function of(t,e){if(e){if(nk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function af(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=null;function Vp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uf=null,Fs=null,js=null;function Vy(t){if(t=dl(t)){if(typeof uf!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Wc(e),uf(t.stateNode,t.type,e))}}function z0(t){Fs?js?js.push(t):js=[t]:Fs=t}function F0(){if(Fs){var t=Fs,e=js;if(js=Fs=null,Vy(t),e)for(t=0;t<e.length;t++)Vy(e[t])}}function j0(t,e){return t(e)}function B0(){}var Kh=!1;function $0(t,e,n){if(Kh)return t(e,n);Kh=!0;try{return j0(t,e,n)}finally{Kh=!1,(Fs!==null||js!==null)&&(B0(),F0())}}function Na(t,e){var n=t.stateNode;if(n===null)return null;var i=Wc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var cf=!1;if(di)try{var na={};Object.defineProperty(na,"passive",{get:function(){cf=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{cf=!1}function ik(t,e,n,i,r,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var wa=!1,Fu=null,ju=!1,hf=null,rk={onError:function(t){wa=!0,Fu=t}};function sk(t,e,n,i,r,s,o,a,u){wa=!1,Fu=null,ik.apply(rk,arguments)}function ok(t,e,n,i,r,s,o,a,u){if(sk.apply(this,arguments),wa){if(wa){var c=Fu;wa=!1,Fu=null}else throw Error(j(198));ju||(ju=!0,hf=c)}}function is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function U0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ly(t){if(is(t)!==t)throw Error(j(188))}function ak(t){var e=t.alternate;if(!e){if(e=is(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Ly(r),t;if(s===i)return Ly(r),e;s=s.sibling}throw Error(j(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==i)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function q0(t){return t=ak(t),t!==null?H0(t):null}function H0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=H0(t);if(e!==null)return e;t=t.sibling}return null}var W0=Jt.unstable_scheduleCallback,zy=Jt.unstable_cancelCallback,lk=Jt.unstable_shouldYield,uk=Jt.unstable_requestPaint,Ve=Jt.unstable_now,ck=Jt.unstable_getCurrentPriorityLevel,Lp=Jt.unstable_ImmediatePriority,G0=Jt.unstable_UserBlockingPriority,Bu=Jt.unstable_NormalPriority,hk=Jt.unstable_LowPriority,Q0=Jt.unstable_IdlePriority,$c=null,Hn=null;function dk(t){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot($c,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:mk,fk=Math.log,pk=Math.LN2;function mk(t){return t>>>=0,t===0?32:31-(fk(t)/pk|0)|0}var $l=64,Ul=4194304;function da(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $u(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=da(a):(s&=o,s!==0&&(i=da(s)))}else o=n&~r,o!==0?i=da(o):s!==0&&(i=da(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Pn(e),r=1<<n,i|=t[n],e&=~r;return i}function gk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yk(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pn(s),a=1<<o,u=r[o];u===-1?(!(a&n)||a&i)&&(r[o]=gk(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function df(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K0(){var t=$l;return $l<<=1,!($l&4194240)&&($l=64),t}function Xh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function wk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Pn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function zp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Pn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var fe=0;function X0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y0,Fp,J0,Z0,e2,ff=!1,ql=[],ji=null,Bi=null,$i=null,Ma=new Map,Va=new Map,Ai=[],vk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fy(t,e){switch(t){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Ma.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Va.delete(e.pointerId)}}function ia(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=dl(e),e!==null&&Fp(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function _k(t,e,n,i,r){switch(e){case"focusin":return ji=ia(ji,t,e,n,i,r),!0;case"dragenter":return Bi=ia(Bi,t,e,n,i,r),!0;case"mouseover":return $i=ia($i,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ma.set(s,ia(Ma.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Va.set(s,ia(Va.get(s)||null,t,e,n,i,r)),!0}return!1}function t2(t){var e=Ar(t.target);if(e!==null){var n=is(e);if(n!==null){if(e=n.tag,e===13){if(e=U0(n),e!==null){t.blockedOn=e,e2(t.priority,function(){J0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);lf=i,n.target.dispatchEvent(i),lf=null}else return e=dl(n),e!==null&&Fp(e),t.blockedOn=n,!1;e.shift()}return!0}function jy(t,e,n){vu(t)&&n.delete(e)}function bk(){ff=!1,ji!==null&&vu(ji)&&(ji=null),Bi!==null&&vu(Bi)&&(Bi=null),$i!==null&&vu($i)&&($i=null),Ma.forEach(jy),Va.forEach(jy)}function ra(t,e){t.blockedOn===e&&(t.blockedOn=null,ff||(ff=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,bk)))}function La(t){function e(r){return ra(r,t)}if(0<ql.length){ra(ql[0],t);for(var n=1;n<ql.length;n++){var i=ql[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ji!==null&&ra(ji,t),Bi!==null&&ra(Bi,t),$i!==null&&ra($i,t),Ma.forEach(e),Va.forEach(e),n=0;n<Ai.length;n++)i=Ai[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ai.length&&(n=Ai[0],n.blockedOn===null);)t2(n),n.blockedOn===null&&Ai.shift()}var Bs=vi.ReactCurrentBatchConfig,Uu=!0;function Ek(t,e,n,i){var r=fe,s=Bs.transition;Bs.transition=null;try{fe=1,jp(t,e,n,i)}finally{fe=r,Bs.transition=s}}function xk(t,e,n,i){var r=fe,s=Bs.transition;Bs.transition=null;try{fe=4,jp(t,e,n,i)}finally{fe=r,Bs.transition=s}}function jp(t,e,n,i){if(Uu){var r=pf(t,e,n,i);if(r===null)od(t,e,i,qu,n),Fy(t,i);else if(_k(r,t,e,n,i))i.stopPropagation();else if(Fy(t,i),e&4&&-1<vk.indexOf(t)){for(;r!==null;){var s=dl(r);if(s!==null&&Y0(s),s=pf(t,e,n,i),s===null&&od(t,e,i,qu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else od(t,e,i,null,n)}}var qu=null;function pf(t,e,n,i){if(qu=null,t=Vp(i),t=Ar(t),t!==null)if(e=is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=U0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qu=t,null}function n2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ck()){case Lp:return 1;case G0:return 4;case Bu:case hk:return 16;case Q0:return 536870912;default:return 16}default:return 16}}var Oi=null,Bp=null,_u=null;function i2(){if(_u)return _u;var t,e=Bp,n=e.length,i,r="value"in Oi?Oi.value:Oi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return _u=r.slice(t,1<i?1-i:void 0)}function bu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hl(){return!0}function By(){return!1}function tn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Hl:By,this.isPropagationStopped=By,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),e}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$p=tn(ko),hl=Ie({},ko,{view:0,detail:0}),Tk=tn(hl),Yh,Jh,sa,Uc=Ie({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Up,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sa&&(sa&&t.type==="mousemove"?(Yh=t.screenX-sa.screenX,Jh=t.screenY-sa.screenY):Jh=Yh=0,sa=t),Yh)},movementY:function(t){return"movementY"in t?t.movementY:Jh}}),$y=tn(Uc),kk=Ie({},Uc,{dataTransfer:0}),Ck=tn(kk),Sk=Ie({},hl,{relatedTarget:0}),Zh=tn(Sk),Ik=Ie({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),Pk=tn(Ik),Ak=Ie({},ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rk=tn(Ak),Dk=Ie({},ko,{data:0}),Uy=tn(Dk),Ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mk[t])?!!e[t]:!1}function Up(){return Vk}var Lk=Ie({},hl,{key:function(t){if(t.key){var e=Ok[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Up,charCode:function(t){return t.type==="keypress"?bu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zk=tn(Lk),Fk=Ie({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qy=tn(Fk),jk=Ie({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Up}),Bk=tn(jk),$k=Ie({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uk=tn($k),qk=Ie({},Uc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hk=tn(qk),Wk=[9,13,27,32],qp=di&&"CompositionEvent"in window,va=null;di&&"documentMode"in document&&(va=document.documentMode);var Gk=di&&"TextEvent"in window&&!va,r2=di&&(!qp||va&&8<va&&11>=va),Hy=" ",Wy=!1;function s2(t,e){switch(t){case"keyup":return Wk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ks=!1;function Qk(t,e){switch(t){case"compositionend":return o2(e);case"keypress":return e.which!==32?null:(Wy=!0,Hy);case"textInput":return t=e.data,t===Hy&&Wy?null:t;default:return null}}function Kk(t,e){if(ks)return t==="compositionend"||!qp&&s2(t,e)?(t=i2(),_u=Bp=Oi=null,ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return r2&&e.locale!=="ko"?null:e.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xk[t.type]:e==="textarea"}function a2(t,e,n,i){z0(i),e=Hu(e,"onChange"),0<e.length&&(n=new $p("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var _a=null,za=null;function Yk(t){w2(t,0)}function qc(t){var e=Is(t);if(R0(e))return t}function Jk(t,e){if(t==="change")return e}var l2=!1;if(di){var ed;if(di){var td="oninput"in document;if(!td){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),td=typeof Qy.oninput=="function"}ed=td}else ed=!1;l2=ed&&(!document.documentMode||9<document.documentMode)}function Ky(){_a&&(_a.detachEvent("onpropertychange",u2),za=_a=null)}function u2(t){if(t.propertyName==="value"&&qc(za)){var e=[];a2(e,za,t,Vp(t)),$0(Yk,e)}}function Zk(t,e,n){t==="focusin"?(Ky(),_a=e,za=n,_a.attachEvent("onpropertychange",u2)):t==="focusout"&&Ky()}function eC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qc(za)}function tC(t,e){if(t==="click")return qc(e)}function nC(t,e){if(t==="input"||t==="change")return qc(e)}function iC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var On=typeof Object.is=="function"?Object.is:iC;function Fa(t,e){if(On(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Kd.call(e,r)||!On(t[r],e[r]))return!1}return!0}function Xy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yy(t,e){var n=Xy(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xy(n)}}function c2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?c2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function h2(){for(var t=window,e=zu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zu(t.document)}return e}function Hp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rC(t){var e=h2(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&c2(n.ownerDocument.documentElement,n)){if(i!==null&&Hp(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Yy(n,s);var o=Yy(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sC=di&&"documentMode"in document&&11>=document.documentMode,Cs=null,mf=null,ba=null,gf=!1;function Jy(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gf||Cs==null||Cs!==zu(i)||(i=Cs,"selectionStart"in i&&Hp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ba&&Fa(ba,i)||(ba=i,i=Hu(mf,"onSelect"),0<i.length&&(e=new $p("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Cs)))}function Wl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ss={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionend:Wl("Transition","TransitionEnd")},nd={},d2={};di&&(d2=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Hc(t){if(nd[t])return nd[t];if(!Ss[t])return t;var e=Ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in d2)return nd[t]=e[n];return t}var f2=Hc("animationend"),p2=Hc("animationiteration"),m2=Hc("animationstart"),g2=Hc("transitionend"),y2=new Map,Zy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(t,e){y2.set(t,e),ns(e,[t])}for(var id=0;id<Zy.length;id++){var rd=Zy[id],oC=rd.toLowerCase(),aC=rd[0].toUpperCase()+rd.slice(1);cr(oC,"on"+aC)}cr(f2,"onAnimationEnd");cr(p2,"onAnimationIteration");cr(m2,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(g2,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lC=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function ew(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,ok(i,e,void 0,t),t.currentTarget=null}function w2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&r.isPropagationStopped())break e;ew(r,a,c),s=u}else for(o=0;o<i.length;o++){if(a=i[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&r.isPropagationStopped())break e;ew(r,a,c),s=u}}}if(ju)throw t=hf,ju=!1,hf=null,t}function be(t,e){var n=e[bf];n===void 0&&(n=e[bf]=new Set);var i=t+"__bubble";n.has(i)||(v2(e,t,2,!1),n.add(i))}function sd(t,e,n){var i=0;e&&(i|=4),v2(n,t,i,e)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function ja(t){if(!t[Gl]){t[Gl]=!0,C0.forEach(function(n){n!=="selectionchange"&&(lC.has(n)||sd(n,!1,t),sd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gl]||(e[Gl]=!0,sd("selectionchange",!1,e))}}function v2(t,e,n,i){switch(n2(e)){case 1:var r=Ek;break;case 4:r=xk;break;default:r=jp}n=r.bind(null,e,n,t),r=void 0,!cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function od(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ar(a),o===null)return;if(u=o.tag,u===5||u===6){i=s=o;continue e}a=a.parentNode}}i=i.return}$0(function(){var c=s,d=Vp(n),f=[];e:{var m=y2.get(t);if(m!==void 0){var g=$p,b=t;switch(t){case"keypress":if(bu(n)===0)break e;case"keydown":case"keyup":g=zk;break;case"focusin":b="focus",g=Zh;break;case"focusout":b="blur",g=Zh;break;case"beforeblur":case"afterblur":g=Zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=$y;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Ck;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Bk;break;case f2:case p2:case m2:g=Pk;break;case g2:g=Uk;break;case"scroll":g=Tk;break;case"wheel":g=Hk;break;case"copy":case"cut":case"paste":g=Rk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=qy}var S=(e&4)!==0,P=!S&&t==="scroll",_=S?m!==null?m+"Capture":null:m;S=[];for(var v=c,k;v!==null;){k=v;var R=k.stateNode;if(k.tag===5&&R!==null&&(k=R,_!==null&&(R=Na(v,_),R!=null&&S.push(Ba(v,R,k)))),P)break;v=v.return}0<S.length&&(m=new g(m,b,null,n,d),f.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==lf&&(b=n.relatedTarget||n.fromElement)&&(Ar(b)||b[fi]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=c,b=b?Ar(b):null,b!==null&&(P=is(b),b!==P||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=c),g!==b)){if(S=$y,R="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(S=qy,R="onPointerLeave",_="onPointerEnter",v="pointer"),P=g==null?m:Is(g),k=b==null?m:Is(b),m=new S(R,v+"leave",g,n,d),m.target=P,m.relatedTarget=k,R=null,Ar(d)===c&&(S=new S(_,v+"enter",b,n,d),S.target=k,S.relatedTarget=P,R=S),P=R,g&&b)t:{for(S=g,_=b,v=0,k=S;k;k=ms(k))v++;for(k=0,R=_;R;R=ms(R))k++;for(;0<v-k;)S=ms(S),v--;for(;0<k-v;)_=ms(_),k--;for(;v--;){if(S===_||_!==null&&S===_.alternate)break t;S=ms(S),_=ms(_)}S=null}else S=null;g!==null&&tw(f,m,g,S,!1),b!==null&&P!==null&&tw(f,P,b,S,!0)}}e:{if(m=c?Is(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var V=Jk;else if(Gy(m))if(l2)V=nC;else{V=eC;var F=Zk}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=tC);if(V&&(V=V(t,c))){a2(f,V,n,d);break e}F&&F(t,m,c),t==="focusout"&&(F=m._wrapperState)&&F.controlled&&m.type==="number"&&nf(m,"number",m.value)}switch(F=c?Is(c):window,t){case"focusin":(Gy(F)||F.contentEditable==="true")&&(Cs=F,mf=c,ba=null);break;case"focusout":ba=mf=Cs=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Jy(f,n,d);break;case"selectionchange":if(sC)break;case"keydown":case"keyup":Jy(f,n,d)}var E;if(qp)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ks?s2(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(r2&&n.locale!=="ko"&&(ks||y!=="onCompositionStart"?y==="onCompositionEnd"&&ks&&(E=i2()):(Oi=d,Bp="value"in Oi?Oi.value:Oi.textContent,ks=!0)),F=Hu(c,y),0<F.length&&(y=new Uy(y,t,null,n,d),f.push({event:y,listeners:F}),E?y.data=E:(E=o2(n),E!==null&&(y.data=E)))),(E=Gk?Qk(t,n):Kk(t,n))&&(c=Hu(c,"onBeforeInput"),0<c.length&&(d=new Uy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=E))}w2(f,e)})}function Ba(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Na(t,n),s!=null&&i.unshift(Ba(t,s,r)),s=Na(t,e),s!=null&&i.push(Ba(t,s,r))),t=t.return}return i}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tw(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===i)break;a.tag===5&&c!==null&&(a=c,r?(u=Na(n,s),u!=null&&o.unshift(Ba(n,u,a))):r||(u=Na(n,s),u!=null&&o.push(Ba(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uC=/\r\n?/g,cC=/\u0000|\uFFFD/g;function nw(t){return(typeof t=="string"?t:""+t).replace(uC,`
`).replace(cC,"")}function Ql(t,e,n){if(e=nw(e),nw(t)!==e&&n)throw Error(j(425))}function Wu(){}var yf=null,wf=null;function vf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,hC=typeof clearTimeout=="function"?clearTimeout:void 0,iw=typeof Promise=="function"?Promise:void 0,dC=typeof queueMicrotask=="function"?queueMicrotask:typeof iw<"u"?function(t){return iw.resolve(null).then(t).catch(fC)}:_f;function fC(t){setTimeout(function(){throw t})}function ad(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),La(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);La(e)}function Ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Co=Math.random().toString(36).slice(2),Un="__reactFiber$"+Co,$a="__reactProps$"+Co,fi="__reactContainer$"+Co,bf="__reactEvents$"+Co,pC="__reactListeners$"+Co,mC="__reactHandles$"+Co;function Ar(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rw(t);t!==null;){if(n=t[Un])return n;t=rw(t)}return e}t=n,n=t.parentNode}return null}function dl(t){return t=t[Un]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Wc(t){return t[$a]||null}var Ef=[],Ps=-1;function hr(t){return{current:t}}function xe(t){0>Ps||(t.current=Ef[Ps],Ef[Ps]=null,Ps--)}function ye(t,e){Ps++,Ef[Ps]=t.current,t.current=e}var tr={},Et=hr(tr),jt=hr(!1),qr=tr;function io(t,e){var n=t.type.contextTypes;if(!n)return tr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Bt(t){return t=t.childContextTypes,t!=null}function Gu(){xe(jt),xe(Et)}function sw(t,e,n){if(Et.current!==tr)throw Error(j(168));ye(Et,e),ye(jt,n)}function _2(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(j(108,ZT(t)||"Unknown",r));return Ie({},n,i)}function Qu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tr,qr=Et.current,ye(Et,t),ye(jt,jt.current),!0}function ow(t,e,n){var i=t.stateNode;if(!i)throw Error(j(169));n?(t=_2(t,e,qr),i.__reactInternalMemoizedMergedChildContext=t,xe(jt),xe(Et),ye(Et,t)):xe(jt),ye(jt,n)}var ii=null,Gc=!1,ld=!1;function b2(t){ii===null?ii=[t]:ii.push(t)}function gC(t){Gc=!0,b2(t)}function dr(){if(!ld&&ii!==null){ld=!0;var t=0,e=fe;try{var n=ii;for(fe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}ii=null,Gc=!1}catch(r){throw ii!==null&&(ii=ii.slice(t+1)),W0(Lp,dr),r}finally{fe=e,ld=!1}}return null}var As=[],Rs=0,Ku=null,Xu=0,ln=[],un=0,Hr=null,si=1,oi="";function Cr(t,e){As[Rs++]=Xu,As[Rs++]=Ku,Ku=t,Xu=e}function E2(t,e,n){ln[un++]=si,ln[un++]=oi,ln[un++]=Hr,Hr=t;var i=si;t=oi;var r=32-Pn(i)-1;i&=~(1<<r),n+=1;var s=32-Pn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,si=1<<32-Pn(e)+r|n<<r|i,oi=s+t}else si=1<<s|n<<r|i,oi=t}function Wp(t){t.return!==null&&(Cr(t,1),E2(t,1,0))}function Gp(t){for(;t===Ku;)Ku=As[--Rs],As[Rs]=null,Xu=As[--Rs],As[Rs]=null;for(;t===Hr;)Hr=ln[--un],ln[un]=null,oi=ln[--un],ln[un]=null,si=ln[--un],ln[un]=null}var Xt=null,Qt=null,ke=!1,kn=null;function x2(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function aw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=Ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hr!==null?{id:si,overflow:oi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Qt=null,!0):!1;default:return!1}}function xf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tf(t){if(ke){var e=Qt;if(e){var n=e;if(!aw(t,e)){if(xf(t))throw Error(j(418));e=Ui(n.nextSibling);var i=Xt;e&&aw(t,e)?x2(i,n):(t.flags=t.flags&-4097|2,ke=!1,Xt=t)}}else{if(xf(t))throw Error(j(418));t.flags=t.flags&-4097|2,ke=!1,Xt=t}}}function lw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function Kl(t){if(t!==Xt)return!1;if(!ke)return lw(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vf(t.type,t.memoizedProps)),e&&(e=Qt)){if(xf(t))throw T2(),Error(j(418));for(;e;)x2(t,e),e=Ui(e.nextSibling)}if(lw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=Ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Xt?Ui(t.stateNode.nextSibling):null;return!0}function T2(){for(var t=Qt;t;)t=Ui(t.nextSibling)}function ro(){Qt=Xt=null,ke=!1}function Qp(t){kn===null?kn=[t]:kn.push(t)}var yC=vi.ReactCurrentBatchConfig;function oa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var i=n.stateNode}if(!i)throw Error(j(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Xl(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uw(t){var e=t._init;return e(t._payload)}function k2(t){function e(_,v){if(t){var k=_.deletions;k===null?(_.deletions=[v],_.flags|=16):k.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function i(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function r(_,v){return _=Gi(_,v),_.index=0,_.sibling=null,_}function s(_,v,k){return _.index=k,t?(k=_.alternate,k!==null?(k=k.index,k<v?(_.flags|=2,v):k):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,k,R){return v===null||v.tag!==6?(v=md(k,_.mode,R),v.return=_,v):(v=r(v,k),v.return=_,v)}function u(_,v,k,R){var V=k.type;return V===Ts?d(_,v,k.props.children,R,k.key):v!==null&&(v.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ii&&uw(V)===v.type)?(R=r(v,k.props),R.ref=oa(_,v,k),R.return=_,R):(R=Iu(k.type,k.key,k.props,null,_.mode,R),R.ref=oa(_,v,k),R.return=_,R)}function c(_,v,k,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==k.containerInfo||v.stateNode.implementation!==k.implementation?(v=gd(k,_.mode,R),v.return=_,v):(v=r(v,k.children||[]),v.return=_,v)}function d(_,v,k,R,V){return v===null||v.tag!==7?(v=jr(k,_.mode,R,V),v.return=_,v):(v=r(v,k),v.return=_,v)}function f(_,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return v=md(""+v,_.mode,k),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fl:return k=Iu(v.type,v.key,v.props,null,_.mode,k),k.ref=oa(_,null,v),k.return=_,k;case xs:return v=gd(v,_.mode,k),v.return=_,v;case Ii:var R=v._init;return f(_,R(v._payload),k)}if(ha(v)||ta(v))return v=jr(v,_.mode,k,null),v.return=_,v;Xl(_,v)}return null}function m(_,v,k,R){var V=v!==null?v.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return V!==null?null:a(_,v,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Fl:return k.key===V?u(_,v,k,R):null;case xs:return k.key===V?c(_,v,k,R):null;case Ii:return V=k._init,m(_,v,V(k._payload),R)}if(ha(k)||ta(k))return V!==null?null:d(_,v,k,R,null);Xl(_,k)}return null}function g(_,v,k,R,V){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(k)||null,a(v,_,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Fl:return _=_.get(R.key===null?k:R.key)||null,u(v,_,R,V);case xs:return _=_.get(R.key===null?k:R.key)||null,c(v,_,R,V);case Ii:var F=R._init;return g(_,v,k,F(R._payload),V)}if(ha(R)||ta(R))return _=_.get(k)||null,d(v,_,R,V,null);Xl(v,R)}return null}function b(_,v,k,R){for(var V=null,F=null,E=v,y=v=0,x=null;E!==null&&y<k.length;y++){E.index>y?(x=E,E=null):x=E.sibling;var C=m(_,E,k[y],R);if(C===null){E===null&&(E=x);break}t&&E&&C.alternate===null&&e(_,E),v=s(C,v,y),F===null?V=C:F.sibling=C,F=C,E=x}if(y===k.length)return n(_,E),ke&&Cr(_,y),V;if(E===null){for(;y<k.length;y++)E=f(_,k[y],R),E!==null&&(v=s(E,v,y),F===null?V=E:F.sibling=E,F=E);return ke&&Cr(_,y),V}for(E=i(_,E);y<k.length;y++)x=g(E,_,y,k[y],R),x!==null&&(t&&x.alternate!==null&&E.delete(x.key===null?y:x.key),v=s(x,v,y),F===null?V=x:F.sibling=x,F=x);return t&&E.forEach(function(I){return e(_,I)}),ke&&Cr(_,y),V}function S(_,v,k,R){var V=ta(k);if(typeof V!="function")throw Error(j(150));if(k=V.call(k),k==null)throw Error(j(151));for(var F=V=null,E=v,y=v=0,x=null,C=k.next();E!==null&&!C.done;y++,C=k.next()){E.index>y?(x=E,E=null):x=E.sibling;var I=m(_,E,C.value,R);if(I===null){E===null&&(E=x);break}t&&E&&I.alternate===null&&e(_,E),v=s(I,v,y),F===null?V=I:F.sibling=I,F=I,E=x}if(C.done)return n(_,E),ke&&Cr(_,y),V;if(E===null){for(;!C.done;y++,C=k.next())C=f(_,C.value,R),C!==null&&(v=s(C,v,y),F===null?V=C:F.sibling=C,F=C);return ke&&Cr(_,y),V}for(E=i(_,E);!C.done;y++,C=k.next())C=g(E,_,y,C.value,R),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?y:C.key),v=s(C,v,y),F===null?V=C:F.sibling=C,F=C);return t&&E.forEach(function(D){return e(_,D)}),ke&&Cr(_,y),V}function P(_,v,k,R){if(typeof k=="object"&&k!==null&&k.type===Ts&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Fl:e:{for(var V=k.key,F=v;F!==null;){if(F.key===V){if(V=k.type,V===Ts){if(F.tag===7){n(_,F.sibling),v=r(F,k.props.children),v.return=_,_=v;break e}}else if(F.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ii&&uw(V)===F.type){n(_,F.sibling),v=r(F,k.props),v.ref=oa(_,F,k),v.return=_,_=v;break e}n(_,F);break}else e(_,F);F=F.sibling}k.type===Ts?(v=jr(k.props.children,_.mode,R,k.key),v.return=_,_=v):(R=Iu(k.type,k.key,k.props,null,_.mode,R),R.ref=oa(_,v,k),R.return=_,_=R)}return o(_);case xs:e:{for(F=k.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===k.containerInfo&&v.stateNode.implementation===k.implementation){n(_,v.sibling),v=r(v,k.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=gd(k,_.mode,R),v.return=_,_=v}return o(_);case Ii:return F=k._init,P(_,v,F(k._payload),R)}if(ha(k))return b(_,v,k,R);if(ta(k))return S(_,v,k,R);Xl(_,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,v!==null&&v.tag===6?(n(_,v.sibling),v=r(v,k),v.return=_,_=v):(n(_,v),v=md(k,_.mode,R),v.return=_,_=v),o(_)):n(_,v)}return P}var so=k2(!0),C2=k2(!1),Yu=hr(null),Ju=null,Ds=null,Kp=null;function Xp(){Kp=Ds=Ju=null}function Yp(t){var e=Yu.current;xe(Yu),t._currentValue=e}function kf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function $s(t,e){Ju=t,Kp=Ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(Kp!==t)if(t={context:t,memoizedValue:e,next:null},Ds===null){if(Ju===null)throw Error(j(308));Ds=t,Ju.dependencies={lanes:0,firstContext:t}}else Ds=Ds.next=t;return e}var Rr=null;function Jp(t){Rr===null?Rr=[t]:Rr.push(t)}function S2(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Jp(e)):(n.next=r.next,r.next=n),e.interleaved=n,pi(t,i)}function pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pi=!1;function Zp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,le&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,pi(t,n)}return r=i.interleaved,r===null?(e.next=e,Jp(i)):(e.next=r.next,r.next=e),i.interleaved=e,pi(t,n)}function Eu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,zp(t,n)}}function cw(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zu(t,e,n,i){var r=t.updateQueue;Pi=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=r.baseState;o=0,d=c=u=null,a=s;do{var m=a.lane,g=a.eventTime;if((i&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,S=a;switch(m=e,g=n,S.tag){case 1:if(b=S.payload,typeof b=="function"){f=b.call(g,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,m=typeof b=="function"?b.call(g,f,m):b,m==null)break e;f=Ie({},f,m);break e;case 2:Pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=r.effects,m===null?r.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,u=f):d=d.next=g,o|=m;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;m=a,a=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(d===null&&(u=f),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Gr|=o,t.lanes=o,t.memoizedState=f}}function hw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(j(191,r));r.call(i)}}}var fl={},Wn=hr(fl),Ua=hr(fl),qa=hr(fl);function Dr(t){if(t===fl)throw Error(j(174));return t}function em(t,e){switch(ye(qa,e),ye(Ua,t),ye(Wn,fl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sf(e,t)}xe(Wn),ye(Wn,e)}function oo(){xe(Wn),xe(Ua),xe(qa)}function P2(t){Dr(qa.current);var e=Dr(Wn.current),n=sf(e,t.type);e!==n&&(ye(Ua,t),ye(Wn,n))}function tm(t){Ua.current===t&&(xe(Wn),xe(Ua))}var Ce=hr(0);function ec(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ud=[];function nm(){for(var t=0;t<ud.length;t++)ud[t]._workInProgressVersionPrimary=null;ud.length=0}var xu=vi.ReactCurrentDispatcher,cd=vi.ReactCurrentBatchConfig,Wr=0,Se=null,We=null,Ze=null,tc=!1,Ea=!1,Ha=0,wC=0;function dt(){throw Error(j(321))}function im(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!On(t[n],e[n]))return!1;return!0}function rm(t,e,n,i,r,s){if(Wr=s,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xu.current=t===null||t.memoizedState===null?EC:xC,t=n(i,r),Ea){s=0;do{if(Ea=!1,Ha=0,25<=s)throw Error(j(301));s+=1,Ze=We=null,e.updateQueue=null,xu.current=TC,t=n(i,r)}while(Ea)}if(xu.current=nc,e=We!==null&&We.next!==null,Wr=0,Ze=We=Se=null,tc=!1,e)throw Error(j(300));return t}function sm(){var t=Ha!==0;return Ha=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Se.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function gn(){if(We===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=Ze===null?Se.memoizedState:Ze.next;if(e!==null)Ze=e,We=t;else{if(t===null)throw Error(j(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ze===null?Se.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function Wa(t,e){return typeof e=="function"?e(t):e}function hd(t){var e=gn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var i=We,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((Wr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=i):u=u.next=f,Se.lanes|=d,Gr|=d}c=c.next}while(c!==null&&c!==s);u===null?o=i:u.next=a,On(i,e.memoizedState)||(Ft=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=u,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Se.lanes|=s,Gr|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dd(t){var e=gn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);On(s,e.memoizedState)||(Ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function A2(){}function R2(t,e){var n=Se,i=gn(),r=e(),s=!On(i.memoizedState,r);if(s&&(i.memoizedState=r,Ft=!0),i=i.queue,om(N2.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Ga(9,O2.bind(null,n,i,r,e),void 0,null),tt===null)throw Error(j(349));Wr&30||D2(n,e,r)}return r}function D2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function O2(t,e,n,i){e.value=n,e.getSnapshot=i,M2(e)&&V2(t)}function N2(t,e,n){return n(function(){M2(e)&&V2(t)})}function M2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!On(t,n)}catch{return!0}}function V2(t){var e=pi(t,1);e!==null&&An(e,t,1,-1)}function dw(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:t},e.queue=t,t=t.dispatch=bC.bind(null,Se,t),[e.memoizedState,t]}function Ga(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function L2(){return gn().memoizedState}function Tu(t,e,n,i){var r=Fn();Se.flags|=t,r.memoizedState=Ga(1|e,n,void 0,i===void 0?null:i)}function Qc(t,e,n,i){var r=gn();i=i===void 0?null:i;var s=void 0;if(We!==null){var o=We.memoizedState;if(s=o.destroy,i!==null&&im(i,o.deps)){r.memoizedState=Ga(e,n,s,i);return}}Se.flags|=t,r.memoizedState=Ga(1|e,n,s,i)}function fw(t,e){return Tu(8390656,8,t,e)}function om(t,e){return Qc(2048,8,t,e)}function z2(t,e){return Qc(4,2,t,e)}function F2(t,e){return Qc(4,4,t,e)}function j2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B2(t,e,n){return n=n!=null?n.concat([t]):null,Qc(4,4,j2.bind(null,e,t),n)}function am(){}function $2(t,e){var n=gn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&im(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function U2(t,e){var n=gn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&im(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function q2(t,e,n){return Wr&21?(On(n,e)||(n=K0(),Se.lanes|=n,Gr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function vC(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var i=cd.transition;cd.transition={};try{t(!1),e()}finally{fe=n,cd.transition=i}}function H2(){return gn().memoizedState}function _C(t,e,n){var i=Wi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},W2(t))G2(e,n);else if(n=S2(t,e,n,i),n!==null){var r=At();An(n,t,i,r),Q2(n,e,i)}}function bC(t,e,n){var i=Wi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(W2(t))G2(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,On(a,o)){var u=e.interleaved;u===null?(r.next=r,Jp(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}n=S2(t,e,r,i),n!==null&&(r=At(),An(n,t,i,r),Q2(n,e,i))}}function W2(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function G2(t,e){Ea=tc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Q2(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,zp(t,n)}}var nc={readContext:mn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},EC={readContext:mn,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:fw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tu(4194308,4,j2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tu(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Fn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=_C.bind(null,Se,t),[i.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:dw,useDebugValue:am,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=dw(!1),e=t[0];return t=vC.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Se,r=Fn();if(ke){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),tt===null)throw Error(j(349));Wr&30||D2(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,fw(N2.bind(null,i,s,t),[t]),i.flags|=2048,Ga(9,O2.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Fn(),e=tt.identifierPrefix;if(ke){var n=oi,i=si;n=(i&~(1<<32-Pn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ha++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xC={readContext:mn,useCallback:$2,useContext:mn,useEffect:om,useImperativeHandle:B2,useInsertionEffect:z2,useLayoutEffect:F2,useMemo:U2,useReducer:hd,useRef:L2,useState:function(){return hd(Wa)},useDebugValue:am,useDeferredValue:function(t){var e=gn();return q2(e,We.memoizedState,t)},useTransition:function(){var t=hd(Wa)[0],e=gn().memoizedState;return[t,e]},useMutableSource:A2,useSyncExternalStore:R2,useId:H2,unstable_isNewReconciler:!1},TC={readContext:mn,useCallback:$2,useContext:mn,useEffect:om,useImperativeHandle:B2,useInsertionEffect:z2,useLayoutEffect:F2,useMemo:U2,useReducer:dd,useRef:L2,useState:function(){return dd(Wa)},useDebugValue:am,useDeferredValue:function(t){var e=gn();return We===null?e.memoizedState=t:q2(e,We.memoizedState,t)},useTransition:function(){var t=dd(Wa)[0],e=gn().memoizedState;return[t,e]},useMutableSource:A2,useSyncExternalStore:R2,useId:H2,unstable_isNewReconciler:!1};function En(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kc={isMounted:function(t){return(t=t._reactInternals)?is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=At(),r=Wi(t),s=li(i,r);s.payload=e,n!=null&&(s.callback=n),e=qi(t,s,r),e!==null&&(An(e,t,r,i),Eu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=At(),r=Wi(t),s=li(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qi(t,s,r),e!==null&&(An(e,t,r,i),Eu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=At(),i=Wi(t),r=li(n,i);r.tag=2,e!=null&&(r.callback=e),e=qi(t,r,i),e!==null&&(An(e,t,i,n),Eu(e,t,i))}};function pw(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fa(n,i)||!Fa(r,s):!0}function K2(t,e,n){var i=!1,r=tr,s=e.contextType;return typeof s=="object"&&s!==null?s=mn(s):(r=Bt(e)?qr:Et.current,i=e.contextTypes,s=(i=i!=null)?io(t,r):tr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function mw(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Kc.enqueueReplaceState(e,e.state,null)}function Sf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Zp(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=mn(s):(s=Bt(e)?qr:Et.current,r.context=io(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cf(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Kc.enqueueReplaceState(r,r.state,null),Zu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function ao(t,e){try{var n="",i=e;do n+=JT(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function fd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function If(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kC=typeof WeakMap=="function"?WeakMap:Map;function X2(t,e,n){n=li(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){rc||(rc=!0,zf=i),If(t,e)},n}function Y2(t,e,n){n=li(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){If(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){If(t,e),typeof i!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gw(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new kC;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=FC.bind(null,t,e,n),e.then(t,t))}function yw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ww(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=li(-1,1),e.tag=2,qi(n,e,1))),n.lanes|=1),t)}var CC=vi.ReactCurrentOwner,Ft=!1;function It(t,e,n,i){e.child=t===null?C2(e,null,n,i):so(e,t.child,n,i)}function vw(t,e,n,i,r){n=n.render;var s=e.ref;return $s(e,r),i=rm(t,e,n,i,s,r),n=sm(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,mi(t,e,r)):(ke&&n&&Wp(e),e.flags|=1,It(t,e,i,r),e.child)}function _w(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!mm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,J2(t,e,s,i,r)):(t=Iu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fa,n(o,i)&&t.ref===e.ref)return mi(t,e,r)}return e.flags|=1,t=Gi(s,i),t.ref=e.ref,t.return=e,e.child=t}function J2(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Fa(s,i)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,mi(t,e,r)}return Pf(t,e,n,i,r)}function Z2(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ns,Gt),Gt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Ns,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ye(Ns,Gt),Gt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,ye(Ns,Gt),Gt|=i;return It(t,e,r,n),e.child}function eb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pf(t,e,n,i,r){var s=Bt(n)?qr:Et.current;return s=io(e,s),$s(e,r),n=rm(t,e,n,i,s,r),i=sm(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,mi(t,e,r)):(ke&&i&&Wp(e),e.flags|=1,It(t,e,n,r),e.child)}function bw(t,e,n,i,r){if(Bt(n)){var s=!0;Qu(e)}else s=!1;if($s(e,r),e.stateNode===null)ku(t,e),K2(e,n,i),Sf(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=mn(c):(c=Bt(n)?qr:Et.current,c=io(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||u!==c)&&mw(e,o,i,c),Pi=!1;var m=e.memoizedState;o.state=m,Zu(e,i,o,r),u=e.memoizedState,a!==i||m!==u||jt.current||Pi?(typeof d=="function"&&(Cf(e,n,d,i),u=e.memoizedState),(a=Pi||pw(e,n,a,i,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),o.props=i,o.state=u,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,I2(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:En(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=mn(u):(u=Bt(n)?qr:Et.current,u=io(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&mw(e,o,i,u),Pi=!1,m=e.memoizedState,o.state=m,Zu(e,i,o,r);var b=e.memoizedState;a!==f||m!==b||jt.current||Pi?(typeof g=="function"&&(Cf(e,n,g,i),b=e.memoizedState),(c=Pi||pw(e,n,c,i,m,b,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,b,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,b,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=b),o.props=i,o.state=b,o.context=u,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return Af(t,e,n,i,s,r)}function Af(t,e,n,i,r,s){eb(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&ow(e,n,!1),mi(t,e,s);i=e.stateNode,CC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=so(e,t.child,null,s),e.child=so(e,null,a,s)):It(t,e,a,s),e.memoizedState=i.state,r&&ow(e,n,!0),e.child}function tb(t){var e=t.stateNode;e.pendingContext?sw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sw(t,e.context,!1),em(t,e.containerInfo)}function Ew(t,e,n,i,r){return ro(),Qp(r),e.flags|=256,It(t,e,n,i),e.child}var Rf={dehydrated:null,treeContext:null,retryLane:0};function Df(t){return{baseLanes:t,cachePool:null,transitions:null}}function nb(t,e,n){var i=e.pendingProps,r=Ce.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ye(Ce,r&1),t===null)return Tf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jc(o,i,0,null),t=jr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Df(n),e.memoizedState=Rf,t):lm(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return SC(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var u={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=Gi(r,u),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Gi(a,s):(s=jr(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Df(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Rf,i}return s=t.child,t=s.sibling,i=Gi(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function lm(t,e){return e=Jc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yl(t,e,n,i){return i!==null&&Qp(i),so(e,t.child,null,n),t=lm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SC(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=fd(Error(j(422))),Yl(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Jc({mode:"visible",children:i.children},r,0,null),s=jr(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&so(e,t.child,null,o),e.child.memoizedState=Df(o),e.memoizedState=Rf,s);if(!(e.mode&1))return Yl(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(j(419)),i=fd(s,i,void 0),Yl(t,e,o,i)}if(a=(o&t.childLanes)!==0,Ft||a){if(i=tt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,pi(t,r),An(i,t,r,-1))}return pm(),i=fd(Error(j(421))),Yl(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=jC.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Qt=Ui(r.nextSibling),Xt=e,ke=!0,kn=null,t!==null&&(ln[un++]=si,ln[un++]=oi,ln[un++]=Hr,si=t.id,oi=t.overflow,Hr=e),e=lm(e,i.children),e.flags|=4096,e)}function xw(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),kf(t.return,e,n)}function pd(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function ib(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(It(t,e,i.children,n),i=Ce.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xw(t,n,e);else if(t.tag===19)xw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ye(Ce,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ec(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),pd(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ec(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}pd(e,!0,n,null,s);break;case"together":pd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ku(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IC(t,e,n){switch(e.tag){case 3:tb(e),ro();break;case 5:P2(e);break;case 1:Bt(e.type)&&Qu(e);break;case 4:em(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ye(Yu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ye(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?nb(t,e,n):(ye(Ce,Ce.current&1),t=mi(t,e,n),t!==null?t.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return ib(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ye(Ce,Ce.current),i)break;return null;case 22:case 23:return e.lanes=0,Z2(t,e,n)}return mi(t,e,n)}var rb,Of,sb,ob;rb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Of=function(){};sb=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Dr(Wn.current);var s=null;switch(n){case"input":r=ef(t,r),i=ef(t,i),s=[];break;case"select":r=Ie({},r,{value:void 0}),i=Ie({},i,{value:void 0}),s=[];break;case"textarea":r=rf(t,r),i=rf(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Wu)}of(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Da.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var u=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Da.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&be("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ob=function(t,e,n,i){n!==i&&(e.flags|=4)};function aa(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function PC(t,e,n){var i=e.pendingProps;switch(Gp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Bt(e.type)&&Gu(),ft(e),null;case 3:return i=e.stateNode,oo(),xe(jt),xe(Et),nm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Kl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kn!==null&&(Bf(kn),kn=null))),Of(t,e),ft(e),null;case 5:tm(e);var r=Dr(qa.current);if(n=e.type,t!==null&&e.stateNode!=null)sb(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(j(166));return ft(e),null}if(t=Dr(Wn.current),Kl(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Un]=e,i[$a]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",i),be("close",i);break;case"iframe":case"object":case"embed":be("load",i);break;case"video":case"audio":for(r=0;r<fa.length;r++)be(fa[r],i);break;case"source":be("error",i);break;case"img":case"image":case"link":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"input":Dy(i,s),be("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},be("invalid",i);break;case"textarea":Ny(i,s),be("invalid",i)}of(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ql(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ql(i.textContent,a,t),r=["children",""+a]):Da.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",i)}switch(n){case"input":jl(i),Oy(i,s,!0);break;case"textarea":jl(i),My(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Wu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=N0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Un]=e,t[$a]=i,rb(t,e,!1,!1),e.stateNode=t;e:{switch(o=af(n,i),n){case"dialog":be("cancel",t),be("close",t),r=i;break;case"iframe":case"object":case"embed":be("load",t),r=i;break;case"video":case"audio":for(r=0;r<fa.length;r++)be(fa[r],t);r=i;break;case"source":be("error",t),r=i;break;case"img":case"image":case"link":be("error",t),be("load",t),r=i;break;case"details":be("toggle",t),r=i;break;case"input":Dy(t,i),r=ef(t,i),be("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ie({},i,{value:void 0}),be("invalid",t);break;case"textarea":Ny(t,i),r=rf(t,i),be("invalid",t);break;default:r=i}of(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?L0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&M0(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Oa(t,u):typeof u=="number"&&Oa(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Da.hasOwnProperty(s)?u!=null&&s==="onScroll"&&be("scroll",t):u!=null&&Dp(t,s,u,o))}switch(n){case"input":jl(t),Oy(t,i,!1);break;case"textarea":jl(t),My(t);break;case"option":i.value!=null&&t.setAttribute("value",""+er(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?zs(t,!!i.multiple,s,!1):i.defaultValue!=null&&zs(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Wu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)ob(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(j(166));if(n=Dr(qa.current),Dr(Wn.current),Kl(e)){if(i=e.stateNode,n=e.memoizedProps,i[Un]=e,(s=i.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:Ql(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ql(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Un]=e,e.stateNode=i}return ft(e),null;case 13:if(xe(Ce),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&Qt!==null&&e.mode&1&&!(e.flags&128))T2(),ro(),e.flags|=98560,s=!1;else if(s=Kl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Un]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),s=!1}else kn!==null&&(Bf(kn),kn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Ke===0&&(Ke=3):pm())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return oo(),Of(t,e),t===null&&ja(e.stateNode.containerInfo),ft(e),null;case 10:return Yp(e.type._context),ft(e),null;case 17:return Bt(e.type)&&Gu(),ft(e),null;case 19:if(xe(Ce),s=e.memoizedState,s===null)return ft(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)aa(s,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ec(t),o!==null){for(e.flags|=128,aa(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Ce,Ce.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ve()>lo&&(e.flags|=128,i=!0,aa(s,!1),e.lanes=4194304)}else{if(!i)if(t=ec(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),aa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return ft(e),null}else 2*Ve()-s.renderingStartTime>lo&&n!==1073741824&&(e.flags|=128,i=!0,aa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ve(),e.sibling=null,n=Ce.current,ye(Ce,i?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return fm(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Gt&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function AC(t,e){switch(Gp(e),e.tag){case 1:return Bt(e.type)&&Gu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oo(),xe(jt),xe(Et),nm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tm(e),null;case 13:if(xe(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Ce),null;case 4:return oo(),null;case 10:return Yp(e.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var Jl=!1,yt=!1,RC=typeof WeakSet=="function"?WeakSet:Set,W=null;function Os(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){De(t,e,i)}else n.current=null}function Nf(t,e,n){try{n()}catch(i){De(t,e,i)}}var Tw=!1;function DC(t,e){if(yf=Uu,t=h2(),Hp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var g;f!==n||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(u=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++c===r&&(a=o),m===s&&++d===i&&(u=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(wf={focusedElem:t,selectionRange:n},Uu=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var S=b.memoizedProps,P=b.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?S:En(e.type,S),P);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(R){De(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return b=Tw,Tw=!1,b}function xa(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Nf(e,n,s)}r=r.next}while(r!==i)}}function Xc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Mf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ab(t){var e=t.alternate;e!==null&&(t.alternate=null,ab(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[$a],delete e[bf],delete e[pC],delete e[mC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lb(t){return t.tag===5||t.tag===3||t.tag===4}function kw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wu));else if(i!==4&&(t=t.child,t!==null))for(Vf(t,e,n),t=t.sibling;t!==null;)Vf(t,e,n),t=t.sibling}function Lf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Lf(t,e,n),t=t.sibling;t!==null;)Lf(t,e,n),t=t.sibling}var rt=null,Tn=!1;function Si(t,e,n){for(n=n.child;n!==null;)ub(t,e,n),n=n.sibling}function ub(t,e,n){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount($c,n)}catch{}switch(n.tag){case 5:yt||Os(n,e);case 6:var i=rt,r=Tn;rt=null,Si(t,e,n),rt=i,Tn=r,rt!==null&&(Tn?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(Tn?(t=rt,n=n.stateNode,t.nodeType===8?ad(t.parentNode,n):t.nodeType===1&&ad(t,n),La(t)):ad(rt,n.stateNode));break;case 4:i=rt,r=Tn,rt=n.stateNode.containerInfo,Tn=!0,Si(t,e,n),rt=i,Tn=r;break;case 0:case 11:case 14:case 15:if(!yt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Nf(n,e,o),r=r.next}while(r!==i)}Si(t,e,n);break;case 1:if(!yt&&(Os(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){De(n,e,a)}Si(t,e,n);break;case 21:Si(t,e,n);break;case 22:n.mode&1?(yt=(i=yt)||n.memoizedState!==null,Si(t,e,n),yt=i):Si(t,e,n);break;default:Si(t,e,n)}}function Cw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RC),e.forEach(function(i){var r=BC.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,Tn=!1;break e;case 3:rt=a.stateNode.containerInfo,Tn=!0;break e;case 4:rt=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(rt===null)throw Error(j(160));ub(s,o,r),rt=null,Tn=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(c){De(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cb(e,t),e=e.sibling}function cb(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),zn(t),i&4){try{xa(3,t,t.return),Xc(3,t)}catch(S){De(t,t.return,S)}try{xa(5,t,t.return)}catch(S){De(t,t.return,S)}}break;case 1:bn(e,t),zn(t),i&512&&n!==null&&Os(n,n.return);break;case 5:if(bn(e,t),zn(t),i&512&&n!==null&&Os(n,n.return),t.flags&32){var r=t.stateNode;try{Oa(r,"")}catch(S){De(t,t.return,S)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&D0(r,s),af(a,o);var c=af(a,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?L0(r,f):d==="dangerouslySetInnerHTML"?M0(r,f):d==="children"?Oa(r,f):Dp(r,d,f,c)}switch(a){case"input":tf(r,s);break;case"textarea":O0(r,s);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?zs(r,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?zs(r,!!s.multiple,s.defaultValue,!0):zs(r,!!s.multiple,s.multiple?[]:"",!1))}r[$a]=s}catch(S){De(t,t.return,S)}}break;case 6:if(bn(e,t),zn(t),i&4){if(t.stateNode===null)throw Error(j(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(S){De(t,t.return,S)}}break;case 3:if(bn(e,t),zn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{La(e.containerInfo)}catch(S){De(t,t.return,S)}break;case 4:bn(e,t),zn(t);break;case 13:bn(e,t),zn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(hm=Ve())),i&4&&Cw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(c=yt)||d,bn(e,t),yt=c):bn(e,t),zn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(W=t,d=t.child;d!==null;){for(f=W=d;W!==null;){switch(m=W,g=m.child,m.tag){case 0:case 11:case 14:case 15:xa(4,m,m.return);break;case 1:Os(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){i=m,n=m.return;try{e=i,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(S){De(i,n,S)}}break;case 5:Os(m,m.return);break;case 22:if(m.memoizedState!==null){Iw(f);continue}}g!==null?(g.return=m,W=g):Iw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=V0("display",o))}catch(S){De(t,t.return,S)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){De(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bn(e,t),zn(t),i&4&&Cw(t);break;case 21:break;default:bn(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lb(n)){var i=n;break e}n=n.return}throw Error(j(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Oa(r,""),i.flags&=-33);var s=kw(t);Lf(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=kw(t);Vf(t,a,o);break;default:throw Error(j(161))}}catch(u){De(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OC(t,e,n){W=t,hb(t)}function hb(t,e,n){for(var i=(t.mode&1)!==0;W!==null;){var r=W,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Jl;if(!o){var a=r.alternate,u=a!==null&&a.memoizedState!==null||yt;a=Jl;var c=yt;if(Jl=o,(yt=u)&&!c)for(W=r;W!==null;)o=W,u=o.child,o.tag===22&&o.memoizedState!==null?Pw(r):u!==null?(u.return=o,W=u):Pw(r);for(;s!==null;)W=s,hb(s),s=s.sibling;W=r,Jl=a,yt=c}Sw(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,W=s):Sw(t)}}function Sw(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||Xc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!yt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:En(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&hw(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&La(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}yt||e.flags&512&&Mf(e)}catch(m){De(e,e.return,m)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Iw(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Pw(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xc(4,e)}catch(u){De(e,n,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){De(e,r,u)}}var s=e.return;try{Mf(e)}catch(u){De(e,s,u)}break;case 5:var o=e.return;try{Mf(e)}catch(u){De(e,o,u)}}}catch(u){De(e,e.return,u)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var NC=Math.ceil,ic=vi.ReactCurrentDispatcher,um=vi.ReactCurrentOwner,pn=vi.ReactCurrentBatchConfig,le=0,tt=null,Be=null,lt=0,Gt=0,Ns=hr(0),Ke=0,Qa=null,Gr=0,Yc=0,cm=0,Ta=null,zt=null,hm=0,lo=1/0,ni=null,rc=!1,zf=null,Hi=null,Zl=!1,Ni=null,sc=0,ka=0,Ff=null,Cu=-1,Su=0;function At(){return le&6?Ve():Cu!==-1?Cu:Cu=Ve()}function Wi(t){return t.mode&1?le&2&&lt!==0?lt&-lt:yC.transition!==null?(Su===0&&(Su=K0()),Su):(t=fe,t!==0||(t=window.event,t=t===void 0?16:n2(t.type)),t):1}function An(t,e,n,i){if(50<ka)throw ka=0,Ff=null,Error(j(185));cl(t,n,i),(!(le&2)||t!==tt)&&(t===tt&&(!(le&2)&&(Yc|=n),Ke===4&&Ri(t,lt)),$t(t,i),n===1&&le===0&&!(e.mode&1)&&(lo=Ve()+500,Gc&&dr()))}function $t(t,e){var n=t.callbackNode;yk(t,e);var i=$u(t,t===tt?lt:0);if(i===0)n!==null&&zy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&zy(n),e===1)t.tag===0?gC(Aw.bind(null,t)):b2(Aw.bind(null,t)),dC(function(){!(le&6)&&dr()}),n=null;else{switch(X0(i)){case 1:n=Lp;break;case 4:n=G0;break;case 16:n=Bu;break;case 536870912:n=Q0;break;default:n=Bu}n=vb(n,db.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function db(t,e){if(Cu=-1,Su=0,le&6)throw Error(j(327));var n=t.callbackNode;if(Us()&&t.callbackNode!==n)return null;var i=$u(t,t===tt?lt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=oc(t,i);else{e=i;var r=le;le|=2;var s=pb();(tt!==t||lt!==e)&&(ni=null,lo=Ve()+500,Fr(t,e));do try{LC();break}catch(a){fb(t,a)}while(!0);Xp(),ic.current=s,le=r,Be!==null?e=0:(tt=null,lt=0,e=Ke)}if(e!==0){if(e===2&&(r=df(t),r!==0&&(i=r,e=jf(t,r))),e===1)throw n=Qa,Fr(t,0),Ri(t,i),$t(t,Ve()),n;if(e===6)Ri(t,i);else{if(r=t.current.alternate,!(i&30)&&!MC(r)&&(e=oc(t,i),e===2&&(s=df(t),s!==0&&(i=s,e=jf(t,s))),e===1))throw n=Qa,Fr(t,0),Ri(t,i),$t(t,Ve()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(j(345));case 2:Sr(t,zt,ni);break;case 3:if(Ri(t,i),(i&130023424)===i&&(e=hm+500-Ve(),10<e)){if($u(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){At(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=_f(Sr.bind(null,t,zt,ni),e);break}Sr(t,zt,ni);break;case 4:if(Ri(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Pn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Ve()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*NC(i/1960))-i,10<i){t.timeoutHandle=_f(Sr.bind(null,t,zt,ni),i);break}Sr(t,zt,ni);break;case 5:Sr(t,zt,ni);break;default:throw Error(j(329))}}}return $t(t,Ve()),t.callbackNode===n?db.bind(null,t):null}function jf(t,e){var n=Ta;return t.current.memoizedState.isDehydrated&&(Fr(t,e).flags|=256),t=oc(t,e),t!==2&&(e=zt,zt=n,e!==null&&Bf(e)),t}function Bf(t){zt===null?zt=t:zt.push.apply(zt,t)}function MC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!On(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ri(t,e){for(e&=~cm,e&=~Yc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),i=1<<n;t[n]=-1,e&=~i}}function Aw(t){if(le&6)throw Error(j(327));Us();var e=$u(t,0);if(!(e&1))return $t(t,Ve()),null;var n=oc(t,e);if(t.tag!==0&&n===2){var i=df(t);i!==0&&(e=i,n=jf(t,i))}if(n===1)throw n=Qa,Fr(t,0),Ri(t,e),$t(t,Ve()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sr(t,zt,ni),$t(t,Ve()),null}function dm(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(lo=Ve()+500,Gc&&dr())}}function Qr(t){Ni!==null&&Ni.tag===0&&!(le&6)&&Us();var e=le;le|=1;var n=pn.transition,i=fe;try{if(pn.transition=null,fe=1,t)return t()}finally{fe=i,pn.transition=n,le=e,!(le&6)&&dr()}}function fm(){Gt=Ns.current,xe(Ns)}function Fr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hC(n)),Be!==null)for(n=Be.return;n!==null;){var i=n;switch(Gp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Gu();break;case 3:oo(),xe(jt),xe(Et),nm();break;case 5:tm(i);break;case 4:oo();break;case 13:xe(Ce);break;case 19:xe(Ce);break;case 10:Yp(i.type._context);break;case 22:case 23:fm()}n=n.return}if(tt=t,Be=t=Gi(t.current,null),lt=Gt=e,Ke=0,Qa=null,cm=Yc=Gr=0,zt=Ta=null,Rr!==null){for(e=0;e<Rr.length;e++)if(n=Rr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Rr=null}return t}function fb(t,e){do{var n=Be;try{if(Xp(),xu.current=nc,tc){for(var i=Se.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}tc=!1}if(Wr=0,Ze=We=Se=null,Ea=!1,Ha=0,um.current=null,n===null||n.return===null){Ke=1,Qa=e,Be=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=lt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=yw(o);if(g!==null){g.flags&=-257,ww(g,o,a,s,e),g.mode&1&&gw(s,c,e),e=g,u=c;var b=e.updateQueue;if(b===null){var S=new Set;S.add(u),e.updateQueue=S}else b.add(u);break e}else{if(!(e&1)){gw(s,c,e),pm();break e}u=Error(j(426))}}else if(ke&&a.mode&1){var P=yw(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),ww(P,o,a,s,e),Qp(ao(u,a));break e}}s=u=ao(u,a),Ke!==4&&(Ke=2),Ta===null?Ta=[s]:Ta.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=X2(s,u,e);cw(s,_);break e;case 1:a=u;var v=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Hi===null||!Hi.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=Y2(s,a,e);cw(s,R);break e}}s=s.return}while(s!==null)}gb(n)}catch(V){e=V,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function pb(){var t=ic.current;return ic.current=nc,t===null?nc:t}function pm(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),tt===null||!(Gr&268435455)&&!(Yc&268435455)||Ri(tt,lt)}function oc(t,e){var n=le;le|=2;var i=pb();(tt!==t||lt!==e)&&(ni=null,Fr(t,e));do try{VC();break}catch(r){fb(t,r)}while(!0);if(Xp(),le=n,ic.current=i,Be!==null)throw Error(j(261));return tt=null,lt=0,Ke}function VC(){for(;Be!==null;)mb(Be)}function LC(){for(;Be!==null&&!lk();)mb(Be)}function mb(t){var e=wb(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?gb(t):Be=e,um.current=null}function gb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AC(n,e),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,Be=null;return}}else if(n=PC(n,e,Gt),n!==null){Be=n;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);Ke===0&&(Ke=5)}function Sr(t,e,n){var i=fe,r=pn.transition;try{pn.transition=null,fe=1,zC(t,e,n,i)}finally{pn.transition=r,fe=i}return null}function zC(t,e,n,i){do Us();while(Ni!==null);if(le&6)throw Error(j(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wk(t,s),t===tt&&(Be=tt=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zl||(Zl=!0,vb(Bu,function(){return Us(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=fe;fe=1;var a=le;le|=4,um.current=null,DC(t,n),cb(n,t),rC(wf),Uu=!!yf,wf=yf=null,t.current=n,OC(n),uk(),le=a,fe=o,pn.transition=s}else t.current=n;if(Zl&&(Zl=!1,Ni=t,sc=r),s=t.pendingLanes,s===0&&(Hi=null),dk(n.stateNode),$t(t,Ve()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(rc)throw rc=!1,t=zf,zf=null,t;return sc&1&&t.tag!==0&&Us(),s=t.pendingLanes,s&1?t===Ff?ka++:(ka=0,Ff=t):ka=0,dr(),null}function Us(){if(Ni!==null){var t=X0(sc),e=pn.transition,n=fe;try{if(pn.transition=null,fe=16>t?16:t,Ni===null)var i=!1;else{if(t=Ni,Ni=null,sc=0,le&6)throw Error(j(331));var r=le;for(le|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:xa(8,d,s)}var f=d.child;if(f!==null)f.return=d,W=f;else for(;W!==null;){d=W;var m=d.sibling,g=d.return;if(ab(d),d===c){W=null;break}if(m!==null){m.return=g,W=m;break}W=g}}}var b=s.alternate;if(b!==null){var S=b.child;if(S!==null){b.child=null;do{var P=S.sibling;S.sibling=null,S=P}while(S!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xa(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,W=_;break e}W=s.return}}var v=t.current;for(W=v;W!==null;){o=W;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,W=k;else e:for(o=v;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xc(9,a)}}catch(V){De(a,a.return,V)}if(a===o){W=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,W=R;break e}W=a.return}}if(le=r,dr(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot($c,t)}catch{}i=!0}return i}finally{fe=n,pn.transition=e}}return!1}function Rw(t,e,n){e=ao(n,e),e=X2(t,e,1),t=qi(t,e,1),e=At(),t!==null&&(cl(t,1,e),$t(t,e))}function De(t,e,n){if(t.tag===3)Rw(t,t,n);else for(;e!==null;){if(e.tag===3){Rw(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Hi===null||!Hi.has(i))){t=ao(n,t),t=Y2(e,t,1),e=qi(e,t,1),t=At(),e!==null&&(cl(e,1,t),$t(e,t));break}}e=e.return}}function FC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=At(),t.pingedLanes|=t.suspendedLanes&n,tt===t&&(lt&n)===n&&(Ke===4||Ke===3&&(lt&130023424)===lt&&500>Ve()-hm?Fr(t,0):cm|=n),$t(t,e)}function yb(t,e){e===0&&(t.mode&1?(e=Ul,Ul<<=1,!(Ul&130023424)&&(Ul=4194304)):e=1);var n=At();t=pi(t,e),t!==null&&(cl(t,e,n),$t(t,n))}function jC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yb(t,n)}function BC(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(j(314))}i!==null&&i.delete(e),yb(t,n)}var wb;wb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,IC(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,ke&&e.flags&1048576&&E2(e,Xu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;ku(t,e),t=e.pendingProps;var r=io(e,Et.current);$s(e,n),r=rm(null,e,i,t,r,n);var s=sm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(i)?(s=!0,Qu(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Zp(e),r.updater=Kc,e.stateNode=r,r._reactInternals=e,Sf(e,i,t,n),e=Af(null,e,i,!0,s,n)):(e.tag=0,ke&&s&&Wp(e),It(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(ku(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=UC(i),t=En(i,t),r){case 0:e=Pf(null,e,i,t,n);break e;case 1:e=bw(null,e,i,t,n);break e;case 11:e=vw(null,e,i,t,n);break e;case 14:e=_w(null,e,i,En(i.type,t),n);break e}throw Error(j(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:En(i,r),Pf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:En(i,r),bw(t,e,i,r,n);case 3:e:{if(tb(e),t===null)throw Error(j(387));i=e.pendingProps,s=e.memoizedState,r=s.element,I2(t,e),Zu(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=ao(Error(j(423)),e),e=Ew(t,e,i,n,r);break e}else if(i!==r){r=ao(Error(j(424)),e),e=Ew(t,e,i,n,r);break e}else for(Qt=Ui(e.stateNode.containerInfo.firstChild),Xt=e,ke=!0,kn=null,n=C2(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),i===r){e=mi(t,e,n);break e}It(t,e,i,n)}e=e.child}return e;case 5:return P2(e),t===null&&Tf(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,vf(i,r)?o=null:s!==null&&vf(i,s)&&(e.flags|=32),eb(t,e),It(t,e,o,n),e.child;case 6:return t===null&&Tf(e),null;case 13:return nb(t,e,n);case 4:return em(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=so(e,null,i,n):It(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:En(i,r),vw(t,e,i,r,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ye(Yu,i._currentValue),i._currentValue=o,s!==null)if(On(s.value,o)){if(s.children===r.children&&!jt.current){e=mi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===i){if(s.tag===1){u=li(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),kf(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),kf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}It(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,$s(e,n),r=mn(r),i=i(r),e.flags|=1,It(t,e,i,n),e.child;case 14:return i=e.type,r=En(i,e.pendingProps),r=En(i.type,r),_w(t,e,i,r,n);case 15:return J2(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:En(i,r),ku(t,e),e.tag=1,Bt(i)?(t=!0,Qu(e)):t=!1,$s(e,n),K2(e,i,r),Sf(e,i,r,n),Af(null,e,i,!0,t,n);case 19:return ib(t,e,n);case 22:return Z2(t,e,n)}throw Error(j(156,e.tag))};function vb(t,e){return W0(t,e)}function $C(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,i){return new $C(t,e,n,i)}function mm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UC(t){if(typeof t=="function")return mm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Np)return 11;if(t===Mp)return 14}return 2}function Gi(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Iu(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")mm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ts:return jr(n.children,r,s,e);case Op:o=8,r|=8;break;case Xd:return t=dn(12,n,e,r|2),t.elementType=Xd,t.lanes=s,t;case Yd:return t=dn(13,n,e,r),t.elementType=Yd,t.lanes=s,t;case Jd:return t=dn(19,n,e,r),t.elementType=Jd,t.lanes=s,t;case P0:return Jc(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S0:o=10;break e;case I0:o=9;break e;case Np:o=11;break e;case Mp:o=14;break e;case Ii:o=16,i=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=dn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function jr(t,e,n,i){return t=dn(7,t,i,e),t.lanes=n,t}function Jc(t,e,n,i){return t=dn(22,t,i,e),t.elementType=P0,t.lanes=n,t.stateNode={isHidden:!1},t}function md(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function gd(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qC(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xh(0),this.expirationTimes=Xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xh(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function gm(t,e,n,i,r,s,o,a,u){return t=new qC(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zp(s),t}function HC(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xs,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function _b(t){if(!t)return tr;t=t._reactInternals;e:{if(is(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(Bt(n))return _2(t,n,e)}return e}function bb(t,e,n,i,r,s,o,a,u){return t=gm(n,i,!0,t,r,s,o,a,u),t.context=_b(null),n=t.current,i=At(),r=Wi(n),s=li(i,r),s.callback=e??null,qi(n,s,r),t.current.lanes=r,cl(t,r,i),$t(t,i),t}function Zc(t,e,n,i){var r=e.current,s=At(),o=Wi(r);return n=_b(n),e.context===null?e.context=n:e.pendingContext=n,e=li(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=qi(r,e,o),t!==null&&(An(t,r,o,s),Eu(t,r,o)),o}function ac(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ym(t,e){Dw(t,e),(t=t.alternate)&&Dw(t,e)}function WC(){return null}var Eb=typeof reportError=="function"?reportError:function(t){console.error(t)};function wm(t){this._internalRoot=t}eh.prototype.render=wm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Zc(t,e,null,null)};eh.prototype.unmount=wm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qr(function(){Zc(null,t,null,null)}),e[fi]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Z0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ai.length&&e!==0&&e<Ai[n].priority;n++);Ai.splice(n,0,t),n===0&&t2(t)}};function vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ow(){}function GC(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=ac(o);s.call(c)}}var o=bb(e,i,t,0,null,!1,!1,"",Ow);return t._reactRootContainer=o,t[fi]=o.current,ja(t.nodeType===8?t.parentNode:t),Qr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=ac(u);a.call(c)}}var u=gm(t,0,!1,null,null,!1,!1,"",Ow);return t._reactRootContainer=u,t[fi]=u.current,ja(t.nodeType===8?t.parentNode:t),Qr(function(){Zc(e,u,n,i)}),u}function nh(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var u=ac(o);a.call(u)}}Zc(e,o,t,r)}else o=GC(n,e,t,r,i);return ac(o)}Y0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=da(e.pendingLanes);n!==0&&(zp(e,n|1),$t(e,Ve()),!(le&6)&&(lo=Ve()+500,dr()))}break;case 13:Qr(function(){var i=pi(t,1);if(i!==null){var r=At();An(i,t,1,r)}}),ym(t,1)}};Fp=function(t){if(t.tag===13){var e=pi(t,134217728);if(e!==null){var n=At();An(e,t,134217728,n)}ym(t,134217728)}};J0=function(t){if(t.tag===13){var e=Wi(t),n=pi(t,e);if(n!==null){var i=At();An(n,t,e,i)}ym(t,e)}};Z0=function(){return fe};e2=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};uf=function(t,e,n){switch(e){case"input":if(tf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Wc(i);if(!r)throw Error(j(90));R0(i),tf(i,r)}}}break;case"textarea":O0(t,n);break;case"select":e=n.value,e!=null&&zs(t,!!n.multiple,e,!1)}};j0=dm;B0=Qr;var QC={usingClientEntryPoint:!1,Events:[dl,Is,Wc,z0,F0,dm]},la={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KC={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q0(t),t===null?null:t.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||WC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{$c=eu.inject(KC),Hn=eu}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QC;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vm(e))throw Error(j(200));return HC(t,e,null,n)};en.createRoot=function(t,e){if(!vm(t))throw Error(j(299));var n=!1,i="",r=Eb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=gm(t,1,!1,null,null,n,!1,i,r),t[fi]=e.current,ja(t.nodeType===8?t.parentNode:t),new wm(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=q0(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return Qr(t)};en.hydrate=function(t,e,n){if(!th(e))throw Error(j(200));return nh(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!vm(t))throw Error(j(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Eb;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bb(e,null,t,1,n??null,r,!1,s,o),t[fi]=e.current,ja(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new eh(e)};en.render=function(t,e,n){if(!th(e))throw Error(j(200));return nh(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!th(t))throw Error(j(40));return t._reactRootContainer?(Qr(function(){nh(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};en.unstable_batchedUpdates=dm;en.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!th(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return nh(t,e,n,!1,i)};en.version="18.3.1-next-f1338f8080-20240426";function xb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xb)}catch(t){console.error(t)}}xb(),x0.exports=en;var XC=x0.exports,Tb,Nw=XC;Tb=Nw.createRoot,Nw.hydrateRoot;const Ht={siteTitle:"王祥祺 | 数据分析与机器学习研究员",hero:{name:"王祥祺",title:"数据分析与机器学习研究员",subtitle:"擅长海量数据处理清洗、预测模型与机器学习工程（XGBoost / RNN / CNN / SHAP），及相关项目的申报（政府、协会）及阶段性汇报管理",location:"深圳",email:"xiangqi1202@163.com",phone:"",linkedin:"",github:""},about:{paragraphs:["双一流硕士，研究方向：数据分析 / 机器学习 / 数值模拟 / 防灾减灾。研究生期间发表5篇期刊（CSCD/SCI），擅长海量数据清洗、特征工程与人工智能预测模型建立与调参，并具有丰富的科研立项及成果攥写相关经验","熟悉政府相关项目的申报及阶段性汇报流程及技巧","熟悉效率化工具在实际工作中的应用及有较强的学习能力和过程优化意识","熟练使用 Python / SQL / Fortran，掌握 XGBoost、RNN、CNN、随机森林等算法，具备模型解释（如 SHAP）与工程化封装能力"]},skills:[{name:"编程语言:Python / Fortran / Numpy",desc:"熟悉相关编程语言、了解不同编程语言的优势及缺陷，可以互相依赖及转换。"},{name:"机器学习:XGBoost / RandomForest / CNN",desc:"掌握树模型与卷积神经网络等机器学习的原理与调参技巧，能够结合项目需求构建高性能模型。"},{name:"深度学习:PyTorch / TensorFlow",desc:"能构建自定义网络结构，调优模型参数，处理时间序列与图像识别任务。"},{name:"数据分析:SQL/Pandas/Numpy",desc:"擅长数据清洗、特征工程与矩阵运算，处理大规模数据集与多维数组,熟悉 MySQL / SQLite，能编写高效查询语句实现多表联结与聚合分析。"},{name:"可视化:matplotlib / seaborn / plotly",desc:"擅长结果可视化与动态展示，支持科研论文、工程、Power展示的专业图表输出。"},{name:"科研立项 /项目申报/ 阶段性成果管理",desc:"丰富的科研历经和论文发表经验让我有较强的科研立项及成果整理经验，推动相关科研立项进展"}],projects:[{title:"日本地震动分析与预测模型",period:"2021.09 - 2023.06",desc:"对日本1996-2023年210万条地震记录进行清洗与建库，基于 XGBoost / CNN 构建预测模型，精度较常规提升约30%。成果发表于 CSCD / SCI。",details:"负责数据采集、清洗、特征工程与模型构建。项目涵盖时序建模、波形数据分析与模型可解释性研究（SHAP 分析），在地震动强度预测上取得显著效果。",tags:["XGBoost","CNN","数据工程","SHAP"]},{title:"新西兰房屋破坏预测模型",period:"2022 - 2023",desc:"基于新西兰地震数据，构建房屋破坏风险预测模型，预测精度提升22%。",details:"利用随机森林与 XGBoost 建模，结合房屋结构特征与地震动参数，构建多变量回归模型，验证不同算法的泛化能力。",tags:["XGBoost","RandomForest","特征工程"]},{title:"物联网设备 + ML 在项目管理中的应用（主持）",period:"2023.07 - 2025.07",desc:"主持科研立项（123万），调研并搭建 IoT 数据采集与机器学习分析流程。",details:"项目结合现场传感器（IoT）数据与项目绩效指标，开发实时监测与风险预测系统，实现建筑施工现场的数字化管理。",tags:["IoT","项目管理","科研立项"]}],work:[{company:"中国核工业华泰建设有限公司",position:"科技管培生",period:"2023.07 - 至今",summary:"负责公司项目科研管理、技术管理、海外大型项目开拓及人力与技术协调，管理外籍员工并优化项目资源配置。",details:"1.主持科研立项5项，推动科研项目进展及成果申报工作，过程中发表论文2篇，技术专利5项，获公司论文、科技大赛一等奖、优秀共产党员等称号;  2.开拓中东区域市场管理展开国际合作项目，负责外籍人员招聘及建立外籍团队结构体系，技术对接与流程优化，提高项目执行效率。",tags:["科研管理","国际合作","人力管理","项目管理"]},{company:"中震建科防灾减灾研究院",position:"研究员",period:"2021.07 - 2022.09",summary:"负责申报政府科技项目、阶段性成果汇报及项目推进相关事项",details:"在广东韶关中震建科研究参与市级政府项目的申报工作（城市地震防灾预警系统），负责建立地震预警模型中放大系数相关研究，承担对政府科技部的阶段性成果汇报工作",tags:["政府项目申报","项目过程汇报","巨灾模型建立"]}],education:[{school:"河南大学（双一流硕士）",period:"2020.09 - 2023.07",details:"GPA 3.72 / 4，专业排名前5%。研究方向为机器学习与地震动模拟，研究生期间发表5篇论文，主持数据分析子课题。",extra:"课程包括高级统计分析、深度学习应用、地震工程与防灾模拟、科研数据可视化；在校担任校研究生办公室主任，成功组织多项活动"}],interests:[{name:"人工智能预测模型建立、优化、封装",desc:"探索基于 RNN / CNN 等机器学习的对应不同场景下的预测模型建立及模型调试，研究模型内部决策机制，通过特征贡献度分析实现模型可解释性与透明化。"},{name:"科研立项的申报",desc:"对接政府、协会、内部科研项目的申报及过程管理"},{name:"国际市场的开拓",desc:"研究中外项目管理体系与跨文化交流模式，促进科研合作与国际化视野。"}],contactNote:"欢迎通过邮箱联系我或者留言板给我留言，我会收到邮箱通知。",papers:[{title:"Machine learning based ground motion site amplification prediction",authors:["XIANGQI WANG","Zifa Wang","Jianming Wang"],year:"2023",desc:"构建了三种机器学习预测模型较常规提高30%预测精度",pdf:"/papers/paper1.pdf",details:"本论文系统研究了地震动预测模型的构建与优化，基于自建210万条地震数据库，使用三种不同的机器学习预测模型与常规方法预测进行对比，发现了机器学习预测模型的精度相较于传统模型提高30%预测精度，最后用SHAP模型把机器学习这个“黑匣子”预测过程进行了解释和理解"},{title:"Ground motion prediction model for shallow crustal earthquakes in Japan based on XGBoost with Bayesian optimization ",year:"2024",authors:["HAOTIAN DANG","Zifa Wang","XIANGQI WANG"],desc:"建立机器学习预测模型并使用贝叶斯优化，较传统方法提高30%预测精度",pdf:"/papers/paper2.pdf",details:"论本研究聚焦于地震工程中关键的地震动预测问题。传统的统计回归方法在预测精度方面存在较大改进空间，因此提出了一种基于机器学习算法 XGBoost 的地震动预测模型（XGBoost-SC），并加入贝叶斯优化模型，以提升预测的精度30%"},{title:"基于KiK-net记录的PGA与Sa场地影响因子分布研究",authors:["王祥祺","王自法","赵登科"],year:"2023",desc:"整理并清洗海量数据得出相关研究的分布规律。",pdf:"/papers/paper3.pdf",details:"计算整理KiK-net台网1997—2019 年记录的210多万条地震动信息，基于控制变量法和回归方法对每个台站的PGA放大系数进行拟合分析，最后对不同场地类别的PGA放大系数进行了概率分布函数拟合。"},{title:"基于Stacking模型融合策略的日本俯冲带板缘地震动预测",authors:["党浩天","王自法","赵登科","位栋梁","王祥祺"],year:"2024",desc:"通过建立机器学习预测模型对地震动进行预测提高预测精度。",pdf:"/papers/paper4.pdf",details:"基于日本 KiK-net 与 K-Net 俯冲带地震动数据，构建融合模型 Stacking-Interface，以 LightGBM、XGBoost、CatBoost 为基学习器，线性回归为元学习器，并通过贝叶斯优化实现超参数自动调优。模型融合显著提升预测精度与泛化能力，展示出优秀的人工智能建模与地震动预测能力。"},{title:"基于机器学习方法的地震破坏预测",authors:["党浩天","王自法","赵登科","位栋梁","王祥祺"],year:"2023",desc:"通过数据库建立机器学习预测模型预测房屋破坏程度",pdf:"/papers/paper5.pdf",details:"基于新西兰地震建筑破坏数据，构建融合地震动、结构与场地信息的随机森林预测模型。通过学习曲线调参与代价敏感优化，实现对四类破坏等级的高精度分类，整体准确率达75.4%。模型展现出优异的地震破坏预测与人工智能建模能力。"},{title:"其他研究论文及专利内容",year:"2023-2025",desc:"另外有其余2篇论文及3篇专利已经完成",details:"如需详细内容请联系本人"}],messages:[{company:"DeepAI Research",email:"contact@deepai.com",content:"非常欣赏您的研究，期待合作机会！"},{company:"OpenGeo Lab",email:"hr@opengeo.org",content:"您的地震模拟研究非常有启发，期待联合申请项目。"}]};var kb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Mw=zr.createContext&&zr.createContext(kb),YC=["attr","size","title"];function JC(t,e){if(t==null)return{};var n=ZC(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function ZC(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lc.apply(this,arguments)}function Vw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function uc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vw(Object(n),!0).forEach(function(i){eS(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function eS(t,e,n){return e=tS(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tS(t){var e=nS(t,"string");return typeof e=="symbol"?e:e+""}function nS(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cb(t){return t&&t.map((e,n)=>zr.createElement(e.tag,uc({key:n},e.attr),Cb(e.child)))}function _m(t){return e=>zr.createElement(iS,lc({attr:uc({},t.attr)},e),Cb(t.child))}function iS(t){var e=n=>{var{attr:i,size:r,title:s}=t,o=JC(t,YC),a=r||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),zr.createElement("svg",lc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:u,style:uc(uc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&zr.createElement("title",null,s),t.children)};return Mw!==void 0?zr.createElement(Mw.Consumer,null,n=>e(n)):e(kb)}function rS(t){return _m({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function sS(t){return _m({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function oS(t){return _m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}const aS=(t,e,n,i)=>{var s,o,a,u;const r=[n,{code:e,...i||{}}];if((o=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&o.forward)return t.services.logger.forward(r,"warn","react-i18next::",!0);Br(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(u=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&u.warn?t.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},Lw={},$f=(t,e,n,i)=>{Br(n)&&Lw[n]||(Br(n)&&(Lw[n]=new Date),aS(t,e,n,i))},Sb=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Uf=(t,e,n)=>{t.loadNamespaces(e,Sb(t,n))},zw=(t,e,n,i)=>{if(Br(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Uf(t,n,i);n.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,Sb(t,i))},lS=(t,e,n={})=>!e.languages||!e.languages.length?($f(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!r(i.isLanguageChangingTo,t))return!1}}),Br=t=>typeof t=="string",uS=t=>typeof t=="object"&&t!==null,cS=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,hS={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},dS=t=>hS[t],fS=t=>t.replace(cS,dS);let pS={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:fS};const mS=()=>pS;let gS;const yS=()=>gS,wS=Ge.createContext();class vS{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const _S=(t,e)=>{const n=Ge.useRef();return Ge.useEffect(()=>{n.current=t},[t,e]),n.current},Ib=(t,e,n,i)=>t.getFixedT(e,n,i),bS=(t,e,n,i)=>Ge.useCallback(Ib(t,e,n,i),[t,e,n,i]),ES=(t,e={})=>{var R,V,F,E;const{i18n:n}=e,{i18n:i,defaultNS:r}=Ge.useContext(wS)||{},s=n||i||yS();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new vS),!s){$f(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const y=(C,I)=>Br(I)?I:uS(I)&&Br(I.defaultValue)?I.defaultValue:Array.isArray(C)?C[C.length-1]:C,x=[y,{},!1];return x.t=y,x.i18n={},x.ready=!1,x}(R=s.options.react)!=null&&R.wait&&$f(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...mS(),...s.options.react,...e},{useSuspense:a,keyPrefix:u}=o;let c=r||((V=s.options)==null?void 0:V.defaultNS);c=Br(c)?[c]:c||["translation"],(E=(F=s.reportNamespaces).addUsedNamespaces)==null||E.call(F,c);const d=(s.isInitialized||s.initializedStoreOnce)&&c.every(y=>lS(y,s,o)),f=bS(s,e.lng||null,o.nsMode==="fallback"?c:c[0],u),m=()=>f,g=()=>Ib(s,e.lng||null,o.nsMode==="fallback"?c:c[0],u),[b,S]=Ge.useState(m);let P=c.join();e.lng&&(P=`${e.lng}${P}`);const _=_S(P),v=Ge.useRef(!0);Ge.useEffect(()=>{const{bindI18n:y,bindI18nStore:x}=o;v.current=!0,!d&&!a&&(e.lng?zw(s,e.lng,c,()=>{v.current&&S(g)}):Uf(s,c,()=>{v.current&&S(g)})),d&&_&&_!==P&&v.current&&S(g);const C=()=>{v.current&&S(g)};return y&&(s==null||s.on(y,C)),x&&(s==null||s.store.on(x,C)),()=>{v.current=!1,s&&y&&(y==null||y.split(" ").forEach(I=>s.off(I,C))),x&&s&&x.split(" ").forEach(I=>s.store.off(I,C))}},[s,P]),Ge.useEffect(()=>{v.current&&d&&S(m)},[s,u,d]);const k=[b,s,d];if(k.t=b,k.i18n=s,k.ready=d,d||!d&&!a)return k;throw new Promise(y=>{e.lng?zw(s,e.lng,c,()=>y()):Uf(s,c,()=>y())})};function xS({siteTitle:t,email:e}){const{i18n:n}=ES();return A.jsx("nav",{className:"sticky top-0 z-40 bg-gradient-to-b from-black/60 to-transparent backdrop-blur-sm border-b border-gray-800",children:A.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-4 flex items-center justify-between",children:[A.jsx("div",{className:"text-white font-medium tracking-wide",children:t}),A.jsxs("div",{className:"flex items-center gap-4 text-gray-400",children:[A.jsx("a",{href:"mailto:xiangqi1202@163.com?subject=来自个人网站的联系&body=您好，我想进一步了解你的信息。",className:"hover:text-blue-400 transition-colors",title:"发送邮件",children:A.jsx(oS,{size:18})}),A.jsx("a",{href:"https://github.com/wxiangqi1202-cpu",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",title:"GitHub",children:A.jsx(rS,{size:18})}),A.jsx("a",{href:"https://www.linkedin.com/in/%E7%A5%A5%E7%A5%BA-%E7%8E%8B-593615371/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",title:"LinkedIn",children:A.jsx(sS,{size:18})})]})]})})}function TS({data:t}){return A.jsx("section",{className:"mb-10",children:A.jsx("div",{className:"p-6 rounded-2xl shadow-card bg-gradient-to-br from-[#071019] to-[#0b1220] border border-gray-800",children:A.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:t.name}),A.jsx("p",{className:"text-tech-blue mt-2 font-medium",children:t.title}),A.jsx("p",{className:"mt-4 text-gray-300 max-w-2xl",children:t.subtitle}),A.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm text-gray-400",children:[A.jsx("div",{children:t.location}),A.jsx("div",{children:"·"}),A.jsx("div",{children:t.phone}),A.jsx("div",{children:"·"}),A.jsx("a",{href:`mailto:${t.email}`,className:"text-tech-blue hover:underline",children:t.email})]})]}),A.jsx("div",{className:"ml-auto flex-shrink-0",children:A.jsxs("div",{className:"relative group w-36 h-36 rounded-full border border-tech-blue/40 shadow-card overflow-hidden",children:[A.jsx("img",{src:"/src/assets/avatar.jpg",alt:"Avatar",className:"object-cover w-full h-full rounded-full transform group-hover:scale-105 transition-transform duration-500"}),A.jsx("div",{className:"absolute inset-0 rounded-full bg-tech-blue/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})})]})})})}function kS({data:t,onOpen:e}){return!t||!t.paragraphs?null:A.jsxs("section",{className:"mb-8",children:[A.jsx("h2",{className:"text-xl font-semibold mb-3 text-gray-100 tracking-wide",children:"关于我"}),A.jsx("div",{onClick:()=>e({type:"about",data:{paragraphs:t.paragraphs,extra:"我在科研与工程结合的领域持续探索，专注于将机器学习方法用于地震预测、风险分析与物联网监测系统。未来希望拓展国际化科研合作与项目管理体系。"}}),className:`p-5 rounded-xl bg-gradient-to-br from-[#071019] to-[#0b1220]\r
                   border border-gray-800 cursor-pointer hover:scale-[1.02]\r
                   hover:shadow-[0_0_25px_rgba(14,165,255,0.15)]\r
                   transition-all duration-300`,children:t.paragraphs.map((n,i)=>A.jsx("p",{className:"text-gray-300 text-sm mb-2 leading-relaxed",children:n},i))})]})}function CS({items:t,onOpen:e}){return A.jsxs("section",{className:"mb-8",children:[A.jsx("h2",{className:"text-xl font-semibold mb-3",children:"技能"}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((n,i)=>A.jsx("div",{onClick:()=>e({type:"skill",data:n}),className:`p-4 rounded-xl bg-gradient-to-br from-[#07121a] to-[#0b1220]\r
                       border border-gray-800 cursor-pointer \r
                       hover:scale-[1.05] hover:shadow-[0_0_25px_rgba(14,165,255,0.15)]\r
                       transition-all duration-300`,children:A.jsx("div",{className:"text-sm text-gray-200 text-center font-medium",children:n.name})},i))})]})}function SS({items:t,onOpen:e}){return A.jsxs("section",{className:"mb-8",children:[A.jsx("h2",{className:"text-xl font-semibold mb-3",children:"项目与科研经历"}),A.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map((n,i)=>A.jsxs("div",{onClick:()=>e({type:"project",data:n}),className:`p-5 rounded-xl bg-gradient-to-br from-[#071019] to-[#0b1220]\r
             border border-gray-800 cursor-pointer hover:scale-[1.02]\r
             hover:shadow-[0_0_25px_rgba(14,165,255,0.25)] transition-all duration-300`,children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("h3",{className:"font-medium text-white",children:n.title}),A.jsx("div",{className:"text-sm text-gray-400",children:n.period})]}),A.jsx("p",{className:"text-gray-300 mt-2 line-clamp-2",children:n.desc}),A.jsx("div",{className:"mt-3 flex gap-2 flex-wrap",children:n.tags.map((r,s)=>A.jsx("span",{className:"text-xs px-2 py-1 rounded bg-blue-900/20 border border-blue-700/40 text-blue-300",children:r},s))})]},i))})]})}function IS({items:t,onOpen:e}){return A.jsxs("section",{className:"mb-8",children:[A.jsx("h2",{className:"text-xl font-semibold mb-3",children:"教育背景"}),A.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map((n,i)=>A.jsxs("div",{onClick:()=>e({type:"education",data:n}),className:`p-5 rounded-xl bg-gradient-to-br from-[#071019] to-[#0b1220] \r
                       border border-gray-800 cursor-pointer hover:scale-[1.02] \r
                       hover:shadow-[0_0_25px_rgba(14,165,255,0.15)] transition-all duration-300`,children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsx("div",{className:"font-medium text-white",children:n.school}),A.jsx("div",{className:"text-sm text-gray-400",children:n.period})]}),A.jsx("p",{className:"text-gray-300 text-sm",children:n.details})]},i))})]})}function PS({items:t,onOpen:e}){return A.jsxs("section",{className:"mb-8",children:[A.jsx("h2",{className:"text-xl font-semibold mb-3",children:"兴趣与想法"}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((n,i)=>A.jsx("div",{onClick:()=>e({type:"interest",data:n}),className:`p-4 rounded-xl bg-gradient-to-br from-[#071019] to-[#0b1220]\r
                       border border-gray-800 cursor-pointer \r
                       hover:scale-[1.05] hover:shadow-[0_0_25px_rgba(14,165,255,0.15)]\r
                       transition-all duration-300`,children:A.jsx("div",{className:"text-gray-200 text-center font-medium text-sm",children:n.name||n})},i))})]})}function AS({email:t,note:e,onOpen:n}){return t?A.jsxs("section",{className:"mb-8 relative z-20",children:[" ",A.jsx("h2",{className:"text-xl font-semibold mb-3 text-gray-100 tracking-wide",children:"联系方式"}),A.jsxs("div",{onClick:()=>n({type:"contact",data:{email:t,note:e,more:"如有科研合作、数据项目或求职意向，欢迎通过邮箱联系。我通常会在24小时内回复。"}}),className:`p-5 rounded-xl bg-gradient-to-br from-[#071019] to-[#0b1220]\r
                   border border-gray-800 cursor-pointer hover:scale-[1.02]\r
                   hover:shadow-[0_0_25px_rgba(14,165,255,0.15)]\r
                   transition-all duration-300`,children:[A.jsx("p",{className:"text-gray-200 font-medium mb-1",children:t}),A.jsx("p",{className:"text-gray-400 text-sm",children:e}),A.jsx("p",{className:"text-blue-400 text-sm mt-2",children:"点击查看详细联系信息 →"})]})]}):null}const Or="generated",RS="pointerdown",DS="pointerup",qf="pointerleave",OS="pointerout",Kr="pointermove",NS="touchstart",Fw="touchend",MS="touchmove",VS="touchcancel",LS="resize",zS="visibilitychange",yn="tsParticles - Error",Mi=100,Qe=.5,vt=1e3,gt={x:0,y:0,z:0},tu={a:1,b:0,c:0,d:1},uo="random",Pu="mid",_t=2,FS=Math.PI*_t,yd=60,Pb="true",jw="false",wd="canvas",Bw=0,ri=2,$w=4,jS=1,Uw=1,qw=1,BS=4,Ab=1,Au=255,Nr=360,Hf=100,Wf=100,Hw=0,Gf=0,$S=60,US=0,cc=.25,Ww=Qe+cc,Gw=0,qS=1,HS=0,WS=0,GS=1,bm=1,QS=1,Qw=1,hc=0,Rb=1,KS=0,XS=120,YS=0,JS=0,ZS=1e4,eI=0,tI=1,dc=0,Db=1,nI=1,iI=0,Kw=1,rI=0,sI=0,Xw=-cc,Yw=1.5,Jw=0,oI=1,aI=0,Qf=0,Ob=1,lI=1,fc=1,uI=500,Zw=50,cI=0,Kf=1,Nb=0,ev=1,hI=0,_r=255,vd=3,_d=6,dI=1,fI=1,pI=0,mI=0,gI=0,yI=0;var st;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(st||(st={}));function Mb(t){return typeof t=="boolean"}function nr(t){return typeof t=="string"}function ir(t){return typeof t=="number"}function Ms(t){return typeof t=="object"&&t!==null}function Zn(t){return Array.isArray(t)}function B(t){return t==null}class Wt{constructor(e,n,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!ir(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:gt.z}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??gt.z;else throw new Error(`${yn} Vector3d not initialized correctly`)}static get origin(){return Wt.create(gt.x,gt.y,gt.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Wt.create(e.x,e.y,e.z)}static create(e,n,i){return new Wt(e,n,i)}add(e){return Wt.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Wt.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Wt.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**ri+this.y**ri}mult(e){return Wt.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=dc&&this.multTo(Ab/e)}rotate(e){return Wt.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),gt.z)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:gt.z}sub(e){return Wt.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class nt extends Wt{constructor(e,n){super(e,n,gt.z)}static get origin(){return nt.create(gt.x,gt.y)}static clone(e){return nt.create(e.x,e.y)}static create(e,n){return new nt(e,n)}}let wI=Math.random;const Vb={nextFrame:t=>requestAnimationFrame(t),cancel:t=>cancelAnimationFrame(t)};function pe(){return wn(wI(),0,1-Number.EPSILON)}function vI(t){return Vb.nextFrame(t)}function _I(t){Vb.cancel(t)}function wn(t,e,n){return Math.min(Math.max(t,e),n)}function bd(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function Kt(t){const e=qn(t),n=0;let i=ih(t);return e===i&&(i=n),pe()*(e-i)+i}function G(t){return ir(t)?t:Kt(t)}function ih(t){return ir(t)?t:t.min}function qn(t){return ir(t)?t:t.max}function ue(t,e){if(t===e||e===void 0&&ir(t))return t;const n=ih(t),i=qn(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:ue(n,i)}function Rt(t,e){const n=t.x-e.x,i=t.y-e.y,r=2;return{dx:n,dy:i,distance:Math.sqrt(n**r+i**r)}}function Yt(t,e){return Rt(t,e).distance}function Qi(t){return t*Math.PI/180}function bI(t,e,n){if(ir(t))return Qi(t);switch(t){case st.top:return-Math.PI*Qe;case st.topRight:return-Math.PI*cc;case st.right:return US;case st.bottomRight:return Math.PI*cc;case st.bottom:return Math.PI*Qe;case st.bottomLeft:return Math.PI*Ww;case st.left:return Math.PI;case st.topLeft:return-Math.PI*Ww;case st.inside:return Math.atan2(n.y-e.y,n.x-e.x);case st.outside:return Math.atan2(e.y-n.y,e.x-n.x);default:return pe()*FS}}function EI(t){const e=nt.origin;return e.length=1,e.angle=t,e}function tv(t,e,n,i){return nt.create(t.x*(n-i)/(n+i)+e.x*_t*i/(n+i),t.y)}function xI(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??pe()*t.size.width,y:((n=t.position)==null?void 0:n.y)??pe()*t.size.height}}function Lb(t){return t?t.endsWith("%")?parseFloat(t)/Mi:parseFloat(t):1}var Mr;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})(Mr||(Mr={}));var je;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(je||(je={}));var Xr;(function(t){t.none="none",t.max="max",t.min="min"})(Xr||(Xr={}));var ie;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(ie||(ie={}));var co;(function(t){t.precise="precise",t.percent="percent"})(co||(co={}));var qs;(function(t){t.max="max",t.min="min",t.random="random"})(qs||(qs={}));const TI={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Yr(){return TI}function kI(t){const e=new Map;return(...n)=>{const i=JSON.stringify(n);if(e.has(i))return e.get(i);const r=t(...n);return e.set(i,r),r}}function nv(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=t;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(n.max>=r.min&&n.max<=(r.max+r.min)*Qe&&o>Gw||n.min<=r.max&&n.min>(r.max+r.min)*Qe&&o<Gw)&&(e.velocity=o*-a,e.bounced=!0),e}function CI(t,e){const n=nn(e,i=>t.matches(i));return Zn(n)?n.some(i=>i):n}function Jr(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function SI(){return!Jr()&&typeof matchMedia<"u"}function zb(t){if(SI())return matchMedia(t)}function II(t){if(!(Jr()||typeof IntersectionObserver>"u"))return new IntersectionObserver(t)}function PI(t){if(!(Jr()||typeof MutationObserver>"u"))return new MutationObserver(t)}function Le(t,e){return t===e||Zn(e)&&e.indexOf(t)>-1}async function iv(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function AI(t){return Math.floor(pe()*t.length)}function rh(t,e,n=!0){return t[e!==void 0&&n?e%t.length:AI(t)]}function Em(t,e,n,i,r){return RI(pl(t,i??0),e,n,r)}function RI(t,e,n,i){let r=!0;return(!i||i===ie.bottom)&&(r=t.top<e.height+n.x),r&&(!i||i===ie.left)&&(r=t.right>n.x),r&&(!i||i===ie.right)&&(r=t.left<e.width+n.y),r&&(!i||i===ie.top)&&(r=t.bottom>n.y),r}function pl(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function xt(t,...e){for(const n of e){if(n==null)continue;if(!Ms(n)){t=n;continue}const i=Array.isArray(n);i&&(Ms(t)||!t||!Array.isArray(t))?t=[]:!i&&(Ms(t)||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const s=n,o=s[r],a=t;a[r]=Ms(o)&&Array.isArray(o)?o.map(u=>xt(a[r],u)):xt(a[r],o)}}return t}function xm(t,e){return!!Bb(e,n=>n.enable&&Le(t,n.mode))}function Tm(t,e,n){nn(e,i=>{const r=i.mode;i.enable&&Le(t,r)&&DI(i,n)})}function DI(t,e){const n=t.selectors;nn(n,i=>{e(i,t)})}function Fb(t,e){if(!(!e||!t))return Bb(t,n=>CI(e,n.selectors))}function Xf(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:nt.create(G(t.options.bounce.horizontal.value),G(t.options.bounce.vertical.value))}}function jb(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,s]=[t.position,e.position],{dx:o,dy:a}=Rt(s,r);if(n*o+i*a<0)return;const c=-Math.atan2(a,o),d=t.mass,f=e.mass,m=t.velocity.rotate(c),g=e.velocity.rotate(c),b=tv(m,g,d,f),S=tv(g,m,d,f),P=b.rotate(-c),_=S.rotate(-c);t.velocity.x=P.x*t.factor.x,t.velocity.y=P.y*t.factor.y,e.velocity.x=_.x*e.factor.x,e.velocity.y=_.y*e.factor.y}function OI(t,e){const n=t.getPosition(),i=t.getRadius(),r=pl(n,i),s=t.options.bounce,o=nv({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:G(s.horizontal.value)});o.bounced&&(o.velocity!==void 0&&(t.velocity.x=o.velocity),o.position!==void 0&&(t.position.x=o.position));const a=nv({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:G(s.vertical.value)});a.bounced&&(a.velocity!==void 0&&(t.velocity.y=a.velocity),a.position!==void 0&&(t.position.y=a.position))}function nn(t,e){return Zn(t)?t.map((i,r)=>e(i,r)):e(t,0)}function fn(t,e,n){return Zn(t)?rh(t,e,n):t}function Bb(t,e){return Zn(t)?t.find((i,r)=>e(i,r)):e(t,0)?t:void 0}function $b(t,e){const n=t.value,i=t.animation,r={delayTime:G(i.delay)*vt,enable:i.enable,value:G(t.value)*e,max:qn(n)*e,min:ih(n)*e,loops:0,maxLoops:G(i.count),time:0},s=1;if(i.enable){switch(r.decay=s-G(i.decay),i.mode){case Mr.increase:r.status=je.increasing;break;case Mr.decrease:r.status=je.decreasing;break;case Mr.random:r.status=pe()>=Qe?je.increasing:je.decreasing;break}const o=i.mode===Mr.auto;switch(i.startValue){case qs.min:r.value=r.min,o&&(r.status=je.increasing);break;case qs.max:r.value=r.max,o&&(r.status=je.decreasing);break;case qs.random:default:r.value=Kt(r),o&&(r.status=pe()>=Qe?je.increasing:je.decreasing);break}}return r.initialValue=r.value,r}function NI(t,e){if(!(t.mode===co.percent)){const{mode:r,...s}=t;return s}return"x"in t?{x:t.x/Mi*e.width,y:t.y/Mi*e.height}:{width:t.width/Mi*e.width,height:t.height/Mi*e.height}}function Ub(t,e){return NI(t,e)}function MI(t,e,n,i,r){switch(e){case Xr.max:n>=r&&t.destroy();break;case Xr.min:n<=i&&t.destroy();break}}function km(t,e,n,i,r){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const d=(e.velocity??0)*r.factor,f=e.min,m=e.max,g=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case je.increasing:e.value>=m?(n?e.status=je.decreasing:e.value-=m,e.loops||(e.loops=0),e.loops++):e.value+=d;break;case je.decreasing:e.value<=f?(n?e.status=je.increasing:e.value+=m,e.loops||(e.loops=0),e.loops++):e.value-=d}e.velocity&&g!==1&&(e.velocity*=g),MI(t,i,e.value,f,m),t.destroyed||(e.value=wn(e.value,f,m))}}function VI(t){var n,i,r,s;const e=document.createElement("div").style;if(!t)return e;for(const o in t){const a=t[o];if(!Object.prototype.hasOwnProperty.call(t,o)||B(a))continue;const u=(n=t.getPropertyValue)==null?void 0:n.call(t,a);if(!u)continue;const c=(i=t.getPropertyPriority)==null?void 0:i.call(t,a);c?(s=e.setProperty)==null||s.call(e,a,u,c):(r=e.setProperty)==null||r.call(e,a,u)}return e}function LI(t){const e=document.createElement("div").style,n=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:t.toString(n),"z-index":t.toString(n),top:"0",left:"0"};for(const r in i){const s=i[r];e.setProperty(r,s)}return e}const zI=kI(LI);var Yf;(function(t){t.darken="darken",t.enlighten="enlighten"})(Yf||(Yf={}));function FI(t,e){if(e){for(const n of t.colorManagers.values())if(e.startsWith(n.stringPrefix))return n.parseString(e)}}function Rn(t,e,n,i=!0){if(!e)return;const r=nr(e)?{value:e}:e;if(nr(r.value))return qb(t,r.value,n,i);if(Zn(r.value))return Rn(t,{value:rh(r.value,n,i)});for(const s of t.colorManagers.values()){const o=s.handleRangeColor(r);if(o)return o}}function qb(t,e,n,i=!0){if(!e)return;const r=nr(e)?{value:e}:e;if(nr(r.value))return r.value===uo?Wb():jI(t,r.value);if(Zn(r.value))return qb(t,{value:rh(r.value,n,i)});for(const s of t.colorManagers.values()){const o=s.handleColor(r);if(o)return o}}function Ka(t,e,n,i=!0){const r=Rn(t,e,n,i);return r?Hb(r):void 0}function Hb(t){const e=t.r/Au,n=t.g/Au,i=t.b/Au,r=Math.max(e,n,i),s=Math.min(e,n,i),o={h:Hw,l:(r+s)*Qe,s:Gf};return r!==s&&(o.s=o.l<Qe?(r-s)/(r+s):(r-s)/(_t-r-s),o.h=e===r?(n-i)/(r-s):o.h=n===r?_t+(i-e)/(r-s):_t*_t+(e-n)/(r-s)),o.l*=Wf,o.s*=Hf,o.h*=$S,o.h<Hw&&(o.h+=Nr),o.h>=Nr&&(o.h-=Nr),o}function jI(t,e){return FI(t,e)}function ho(t){const e=(t.h%Nr+Nr)%Nr,n=Math.max(Gf,Math.min(Hf,t.s)),i=Math.max(hI,Math.min(Wf,t.l)),r=e/Nr,s=n/Hf,o=i/Wf;if(n===Gf){const b=Math.round(o*_r);return{r:b,g:b,b}}const a=(b,S,P)=>{if(P<0&&P++,P>1&&P--,P*_d<1)return b+(S-b)*_d*P;if(P*_t<1)return S;if(P*vd<1*_t){const k=_t/vd;return b+(S-b)*(k-P)*_d}return b},u=o<Qe?o*(dI+s):o+s-o*s,c=_t*o-u,d=fI/vd,f=Math.min(_r,_r*a(c,u,r+d)),m=Math.min(_r,_r*a(c,u,r)),g=Math.min(_r,_r*a(c,u,r-d));return{r:Math.round(f),g:Math.round(m),b:Math.round(g)}}function BI(t){const e=ho(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function Wb(t){const e=pI,n=Au+Kf;return{b:Math.floor(Kt(ue(e,n))),g:Math.floor(Kt(ue(e,n))),r:Math.floor(Kt(ue(e,n)))}}function ui(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??bm})`}function Xa(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??bm})`}function Cm(t,e,n,i){let r=t,s=e;return r.r===void 0&&(r=ho(t)),s.r===void 0&&(s=ho(e)),{b:bd(r.b,s.b,n,i),g:bd(r.g,s.g,n,i),r:bd(r.r,s.r,n,i)}}function Jf(t,e,n){if(n===uo)return Wb();if(n===Pu){const i=t.getFillColor()??t.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return Cm(i,r,t.getRadius(),e.getRadius());{const s=i??r;if(s)return ho(s)}}else return n}function Gb(t,e,n,i){const r=nr(e)?e:e.value;return r===uo?i?Rn(t,{value:r}):n?uo:Pu:r===Pu?Pu:Rn(t,{value:r})}function rv(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function Qb(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Ed(i.h,e.h,n),Ed(i.s,e.s,n),Ed(i.l,e.l,n)),i}function Ed(t,e,n){t.enable=e.enable,t.enable?(t.velocity=G(e.speed)/Mi*n,t.decay=Db-G(e.decay),t.status=je.increasing,t.loops=gI,t.maxLoops=G(e.count),t.time=yI,t.delayTime=G(e.delay)*vt,e.sync||(t.velocity*=pe(),t.value*=pe()),t.initialValue=t.value,t.offset=ue(e.offset)):t.velocity=mI}function xd(t,e,n,i){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=i.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const d=t.offset?Kt(t.offset):0,f=(t.velocity??0)*i.factor+d*3.6,m=t.decay??1,g=qn(e),b=ih(e);!n||t.status===je.increasing?(t.value+=f,t.value>g&&(t.loops||(t.loops=0),t.loops++,n?t.status=je.decreasing:t.value-=g)):(t.value-=f,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status=je.increasing)),t.velocity&&m!==1&&(t.velocity*=m),t.value=wn(t.value,b,g)}function Kb(t,e){if(!t)return;const{h:n,s:i,l:r}=t,s={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};n&&xd(n,s.h,!1,e),i&&xd(i,s.s,!0,e),r&&xd(r,s.l,!0,e)}function Ca(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function $I(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(gt.x,gt.y,e.width,e.height)}function UI(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,gt.x,gt.y,e.width,e.height),t.globalAlpha=1)}function Td(t,e){t.clearRect(gt.x,gt.y,e.width,e.height)}function qI(t){const{container:e,context:n,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:u,opacity:c,shadow:d,transform:f}=t,m=i.getPosition(),g=i.rotation+(i.pathRotation?i.velocity.angle:cI),b={sin:Math.sin(g),cos:Math.cos(g)},S=!!g,P={a:b.cos*(f.a??tu.a),b:S?b.sin*(f.b??Kf):f.b??tu.b,c:S?-b.sin*(f.c??Kf):f.c??tu.c,d:b.cos*(f.d??tu.d)};n.setTransform(P.a,P.b,P.c,P.d,m.x,m.y),o&&(n.globalCompositeOperation=a);const _=i.shadowColor;d.enable&&_&&(n.shadowBlur=d.blur,n.shadowColor=ui(_),n.shadowOffsetX=d.offset.x,n.shadowOffsetY=d.offset.y),s.fill&&(n.fillStyle=s.fill);const v=i.strokeWidth??Nb;n.lineWidth=v,s.stroke&&(n.strokeStyle=s.stroke);const k={container:e,context:n,particle:i,radius:u,opacity:c,delta:r,transformData:P,strokeWidth:v};WI(k),GI(k),HI(k),n.globalCompositeOperation="source-over",n.resetTransform()}function HI(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,transformData:a}=t;if(!i.effect)return;const u=e.effectDrawers.get(i.effect);u&&u.draw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function WI(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,strokeWidth:a,transformData:u}=t;if(!i.shape)return;const c=e.shapeDrawers.get(i.shape);c&&(n.beginPath(),c.draw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...u}}),i.shapeClose&&n.closePath(),a>Nb&&n.stroke(),i.shapeFill&&n.fill())}function GI(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,transformData:a}=t;if(!i.shape)return;const u=e.shapeDrawers.get(i.shape);u!=null&&u.afterDraw&&u.afterDraw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function QI(t,e,n){e.draw&&e.draw(t,n)}function KI(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function XI(t,e,n){return{h:t.h,s:t.s,l:t.l+(e===Yf.darken?-ev:ev)*n}}function YI(t,e,n){const i=e[n];i!==void 0&&(t[n]=(t[n]??qS)*i)}function sv(t,e,n=!1){if(!e)return;const i=t;if(!i)return;const r=i.style;if(!r)return;const s=new Set;for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.add(r[o]);for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&s.add(e[o]);for(const o of s){const a=e.getPropertyValue(o);a?r.setProperty(o,a,n?"important":""):r.removeProperty(o)}}class JI{constructor(e,n){this.container=e,this._applyPostDrawUpdaters=s=>{var o;for(const a of this._postDrawUpdaters)(o=a.afterDraw)==null||o.call(a,s)},this._applyPreDrawUpdaters=(s,o,a,u,c,d)=>{var f;for(const m of this._preDrawUpdaters){if(m.getColorStyles){const{fill:g,stroke:b}=m.getColorStyles(o,s,a,u);g&&(c.fill=g),b&&(c.stroke=b)}if(m.getTransformValues){const g=m.getTransformValues(o);for(const b in g)YI(d,g,b)}(f=m.beforeDraw)==null||f.call(m,o)}},this._applyResizePlugins=()=>{var s;for(const o of this._resizePlugins)(s=o.resize)==null||s.call(o)},this._getPluginParticleColors=s=>{let o,a;for(const u of this._colorPlugins)if(!o&&u.particleFillColor&&(o=Ka(this._engine,u.particleFillColor(s))),!a&&u.particleStrokeColor&&(a=Ka(this._engine,u.particleStrokeColor(s))),o&&a)break;return[o,a]},this._initCover=async()=>{const s=this.container.actualOptions,o=s.backgroundMask.cover,a=o.color;if(a){const u=Rn(this._engine,a);if(u){const c={...u,a:o.opacity};this._coverColorStyle=ui(c,c.a)}}else await new Promise((u,c)=>{if(!o.image)return;const d=document.createElement("img");d.addEventListener("load",()=>{this._coverImage={image:d,opacity:o.opacity},u()}),d.addEventListener("error",f=>{c(f.error)}),d.src=o.image})},this._initStyle=()=>{const s=this.element,o=this.container.actualOptions;if(s){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const a in o.style){if(!a||!o.style||!Object.prototype.hasOwnProperty.call(o.style,a))continue;const u=o.style[a];u&&s.style.setProperty(a,u,"important")}}},this._initTrail=async()=>{const s=this.container.actualOptions,o=s.particles.move.trail,a=o.fill;if(!o.enable)return;const u=Ab/o.length;if(a.color){const c=Rn(this._engine,a.color);if(!c)return;this._trailFill={color:{...c},opacity:u}}else await new Promise((c,d)=>{if(!a.image)return;const f=document.createElement("img");f.addEventListener("load",()=>{this._trailFill={image:f,opacity:u},c()}),f.addEventListener("error",m=>{d(m.error)}),f.src=a.image})},this._paintBase=s=>{this.draw(o=>$I(o,this.size,s))},this._paintImage=(s,o)=>{this.draw(a=>UI(a,this.size,s,o))},this._repairStyle=()=>{const s=this.element;if(!s)return;this._safeMutationObserver(a=>a.disconnect()),this._initStyle(),this.initBackground();const o=this._pointerEvents;s.style.pointerEvents=o,s.setAttribute("pointer-events",o),this._safeMutationObserver(a=>{!s||!(s instanceof Node)||a.observe(s,{attributes:!0})})},this._resetOriginalStyle=()=>{const s=this.element,o=this._originalStyle;!s||!o||sv(s,o,!0)},this._safeMutationObserver=s=>{this._mutationObserver&&s(this._mutationObserver)},this._setFullScreenStyle=()=>{const s=this.element;s&&sv(s,zI(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=n,this._standardSize={height:0,width:0};const i=e.retina.pixelRatio,r=this._standardSize;this.size={height:r.height*i,width:r.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._pointerEvents="none"}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>WS&&i?i.color?this._paintBase(ui(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(r=>{Td(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e==null||e.remove(),this.element=void 0}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawAsync(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=HS)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(u=>{var R;const c=this.container,d=c.actualOptions,f=e.options.zIndex,m=GS-e.zIndexFactor,g=m**f.opacityRate,b=e.bubble.opacity??((R=e.opacity)==null?void 0:R.value)??bm,S=e.strokeOpacity??b,P=b*g,_=S*g,v={},k={fill:o?Xa(o,P):void 0};k.stroke=a?Xa(a,_):k.fill,this._applyPreDrawUpdaters(u,e,i,P,k,v),qI({container:c,context:u,particle:e,delta:n,colorStyles:k,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:i*m**f.sizeRate,opacity:P,shadow:e.options.shadow,transform:v}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>KI(r,e,n,i))}drawPlugin(e,n){this.draw(i=>QI(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=PI(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){Yr().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(n.color){const s=Rn(this._engine,n.color);r.backgroundColor=s?ui(s,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Or in e.dataset?e.dataset[Or]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=VI(this.element.style);const n=this._standardSize;n.height=e.offsetHeight,n.width=e.offsetWidth;const i=this.container.retina.pixelRatio,r=this.size;e.height=r.height=n.height*i,e.width=r.width=n.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(s=>s.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(s=>{!this.element||!(this.element instanceof Node)||s.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Td(n,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},r=e.retina.pixelRatio,s={width:i.width*r,height:i.height*r};if(i.height===n.height&&i.width===n.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const o={...n};n.height=i.height,n.width=i.width;const a=this.size;return this.element.width=a.width=s.width,this.element.height=a.height=s.height,this.container.started&&e.particles.setResizeFactor({width:n.width/o.width,height:n.height/o.height}),!0}setPointerEvents(e){this.element&&(this._pointerEvents=e,this._repairStyle())}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Td(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}var Hs;(function(t){t.canvas="canvas",t.parent="parent",t.window="window"})(Hs||(Hs={}));function an(t,e,n,i,r){if(i){let s={passive:!0};Mb(r)?s.capture=r:r!==void 0&&(s=r),t.addEventListener(e,n,s)}else{const s=r;t.removeEventListener(e,n,s)}}class ZI{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;nn(a.mode,u=>this.container.handleClickMode(u))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),uI)},this._handleThemeChange=n=>{const i=n,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,u=s.themes.find(c=>c.name===a);u!=null&&u.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document!=null&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.animationStatus?n.play(!0):n.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const n=async()=>{const i=this.container.canvas;await(i==null?void 0:i.windowResize())};this._resizeTimeout=setTimeout(()=>void n(),this.container.actualOptions.interactivity.events.resize.delay*vt)},this._manageInteractivityListeners=(n,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const u=a,c=s.canvas;c.setPointerEvents(u===c.element?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(an(a,Kr,r.mouseMove,i),an(a,NS,r.touchStart,i),an(a,MS,r.touchMove,i),o.interactivity.events.onClick.enable?(an(a,Fw,r.touchEndClick,i),an(a,DS,r.mouseUp,i),an(a,RS,r.mouseDown,i)):an(a,Fw,r.touchEnd,i),an(a,n,r.mouseLeave,i),an(a,VS,r.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let u=qf;o===Hs.window?(r.interactivity.element=window,u=OS):o===Hs.parent&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(u,n),document&&an(document,zS,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,r=zb("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){an(r,"change",i.themeChange,n);return}r.addListener!==void 0&&(n?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){an(window,LS,i.resize,n);return}const o=r.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(a=>{a.find(c=>c.target===o)&&this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const u of i.plugins.values())if(u.clickPositionValid&&(o=u.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),s.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=qf,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!(s!=null&&s.element))return;s.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const c=n;if(s.element===window){if(o){const d=o.getBoundingClientRect();a={x:c.clientX-d.left,y:c.clientY-d.top}}}else if(r.interactivity.detectsOn===Hs.parent){const d=c.target,f=c.currentTarget;if(d&&f&&o){const m=d.getBoundingClientRect(),g=f.getBoundingClientRect(),b=o.getBoundingClientRect();a={x:c.offsetX+_t*m.left-(g.left+b.left),y:c.offsetY+_t*m.top-(g.top+b.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=n.type!=="touchmove",o){const c=n,d=c.touches[c.touches.length-Ob],f=o.getBoundingClientRect();a={x:d.clientX-(f.left??hc),y:d.clientY-(f.top??hc)}}const u=i.retina.pixelRatio;a&&(a.x*=u,a.y*=u),s.mouse.position=a,s.status=Kr},this._touchEnd=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var Pt;(function(t){t.configAdded="configAdded",t.containerInit="containerInit",t.particlesSetup="particlesSetup",t.containerStarted="containerStarted",t.containerStopped="containerStopped",t.containerDestroyed="containerDestroyed",t.containerPaused="containerPaused",t.containerPlay="containerPlay",t.containerBuilt="containerBuilt",t.particleAdded="particleAdded",t.particleDestroyed="particleDestroyed",t.particleRemoved="particleRemoved"})(Pt||(Pt={}));class Tt{constructor(){this.value=""}static create(e,n){const i=new Tt;return i.load(e),n!==void 0&&(nr(n)||Zn(n)?i.load({value:n}):i.load(n)),i}load(e){B(e)||B(e.value)||(this.value=e.value)}}class eP{constructor(){this.color=new Tt,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){B(e)||(e.color!==void 0&&(this.color=Tt.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class tP{constructor(){this.opacity=1}load(e){B(e)||(e.color!==void 0&&(this.color=Tt.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class nP{constructor(){this.composite="destination-out",this.cover=new tP,this.enable=!1}load(e){if(!B(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=nr(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0||n.image!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class iP{constructor(){this.enable=!0,this.zIndex=0}load(e){B(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class rP{constructor(){this.enable=!1,this.mode=[]}load(e){B(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var fo;(function(t){t.circle="circle",t.rectangle="rectangle"})(fo||(fo={}));class ov{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=fo.circle}load(e){B(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class sP{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){B(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class oP{constructor(){this.enable=!1,this.mode=[],this.parallax=new sP}load(e){B(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class aP{constructor(){this.delay=.5,this.enable=!0}load(e){B(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class lP{constructor(){this.onClick=new rP,this.onDiv=new ov,this.onHover=new oP,this.resize=new aP}load(e){if(B(e))return;this.onClick.load(e.onClick);const n=e.onDiv;n!==void 0&&(this.onDiv=nn(n,i=>{const r=new ov;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class uP{constructor(e,n){this._engine=e,this._container=n}load(e){if(B(e)||!this._container)return;const n=this._engine.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class Xb{constructor(e,n){this.detectsOn=Hs.window,this.events=new lP,this.modes=new uP(e,n)}load(e){if(B(e))return;const n=e.detectsOn;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class cP{load(e){B(e)||(e.position&&(this.position={x:e.position.x??Zw,y:e.position.y??Zw,mode:e.position.mode??co.percent}),e.options&&(this.options=xt({},e.options)))}}var Vr;(function(t){t.screen="screen",t.canvas="canvas"})(Vr||(Vr={}));class hP{constructor(){this.maxWidth=1/0,this.options={},this.mode=Vr.canvas}load(e){B(e)||(B(e.maxWidth)||(this.maxWidth=e.maxWidth),B(e.mode)||(e.mode===Vr.screen?this.mode=Vr.screen:this.mode=Vr.canvas),B(e.options)||(this.options=xt({},e.options)))}}var Di;(function(t){t.any="any",t.dark="dark",t.light="light"})(Di||(Di={}));class dP{constructor(){this.auto=!1,this.mode=Di.any,this.value=!1}load(e){B(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class fP{constructor(){this.name="",this.default=new dP}load(e){B(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=xt({},e.options)))}}class Sm{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){B(e)||(e.count!==void 0&&(this.count=ue(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ue(e.speed)),e.decay!==void 0&&(this.decay=ue(e.decay)),e.delay!==void 0&&(this.delay=ue(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Im extends Sm{constructor(){super(),this.mode=Mr.auto,this.startValue=qs.random}load(e){super.load(e),!B(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class kd extends Sm{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!B(e)&&e.offset!==void 0&&(this.offset=ue(e.offset))}}class pP{constructor(){this.h=new kd,this.s=new kd,this.l=new kd}load(e){B(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Ya extends Tt{constructor(){super(),this.animation=new pP}static create(e,n){const i=new Ya;return i.load(e),n!==void 0&&(nr(n)||Zn(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),B(e))return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}var Ws;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(Ws||(Ws={}));class mP{constructor(){this.speed=2}load(e){B(e)||e.speed!==void 0&&(this.speed=e.speed)}}class gP{constructor(){this.enable=!0,this.retries=0}load(e){B(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class rs{constructor(){this.value=0}load(e){B(e)||B(e.value)||(this.value=ue(e.value))}}class yP extends rs{constructor(){super(),this.animation=new Sm}load(e){if(super.load(e),B(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class Yb extends yP{constructor(){super(),this.animation=new Im}load(e){super.load(e)}}class av extends rs{constructor(){super(),this.value=1}}class Jb{constructor(){this.horizontal=new av,this.vertical=new av}load(e){B(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class wP{constructor(){this.absorb=new mP,this.bounce=new Jb,this.enable=!1,this.maxSpeed=50,this.mode=Ws.bounce,this.overlap=new gP}load(e){B(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=ue(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class vP{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(B(e))return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=xt(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class _P{constructor(){this.offset=0,this.value=90}load(e){B(e)||(e.offset!==void 0&&(this.offset=ue(e.offset)),e.value!==void 0&&(this.value=ue(e.value)))}}class bP{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!B(e)&&(e.distance!==void 0&&(this.distance=ue(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const n=e.rotate.x;n!==void 0&&(this.rotate.x=n);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class EP{constructor(){this.x=50,this.y=50,this.mode=co.percent,this.radius=0}load(e){B(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class xP{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){B(e)||(e.acceleration!==void 0&&(this.acceleration=ue(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=ue(e.maxSpeed)))}}class TP{constructor(){this.clamp=!0,this.delay=new rs,this.enable=!1,this.options={}}load(e){B(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=xt(this.options,e.options)))}}class kP{load(e){B(e)||(e.color!==void 0&&(this.color=Tt.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class CP{constructor(){this.enable=!1,this.length=10,this.fill=new kP}load(e){B(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var Ue;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(Ue||(Ue={}));class SP{constructor(){this.default=Ue.out}load(e){B(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class IP{constructor(){this.acceleration=0,this.enable=!1}load(e){B(e)||(e.acceleration!==void 0&&(this.acceleration=ue(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=xt({},e.position)))}}class PP{constructor(){this.angle=new _P,this.attract=new bP,this.center=new EP,this.decay=0,this.distance={},this.direction=st.none,this.drift=0,this.enable=!1,this.gravity=new xP,this.path=new TP,this.outModes=new SP,this.random=!1,this.size=!1,this.speed=2,this.spin=new IP,this.straight=!1,this.trail=new CP,this.vibrate=!1,this.warp=!1}load(e){if(B(e))return;this.angle.load(ir(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=ue(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=ir(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=ue(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes;n!==void 0&&(Ms(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=ue(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class AP extends Im{constructor(){super(),this.destroy=Xr.none,this.speed=2}load(e){super.load(e),!B(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class RP extends Yb{constructor(){super(),this.animation=new AP,this.value=1}load(e){if(B(e))return;super.load(e);const n=e.animation;n!==void 0&&this.animation.load(n)}}class DP{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(B(e))return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width;n!==void 0&&(this.width=n);const i=e.height;i!==void 0&&(this.height=i)}}var Ja;(function(t){t.delete="delete",t.wait="wait"})(Ja||(Ja={}));class OP{constructor(){this.mode=Ja.delete,this.value=0}load(e){B(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class NP{constructor(){this.density=new DP,this.limit=new OP,this.value=0}load(e){B(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class MP{constructor(){this.blur=0,this.color=new Tt,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){B(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Tt.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class VP{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(B(e))return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=xt(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class LP extends Im{constructor(){super(),this.destroy=Xr.none,this.speed=5}load(e){super.load(e),!B(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class zP extends Yb{constructor(){super(),this.animation=new LP,this.value=3}load(e){if(super.load(e),B(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class lv{constructor(){this.width=0}load(e){B(e)||(e.color!==void 0&&(this.color=Ya.create(this.color,e.color)),e.width!==void 0&&(this.width=ue(e.width)),e.opacity!==void 0&&(this.opacity=ue(e.opacity)))}}class FP extends rs{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!B(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class jP{constructor(e,n){this._engine=e,this._container=n,this.bounce=new Jb,this.collisions=new wP,this.color=new Ya,this.color.value="#fff",this.effect=new vP,this.groups={},this.move=new PP,this.number=new NP,this.opacity=new RP,this.reduceDuplicates=!1,this.shadow=new MP,this.shape=new VP,this.size=new zP,this.stroke=new lv,this.zIndex=new FP}load(e){if(B(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=xt(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(Ya.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=xt({},e.interactivity));const n=e.stroke;if(n&&(this.stroke=nn(n,i=>{const r=new lv;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const s of i)s.loadOptions&&s.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const s of r)s.loadParticlesOptions&&s.loadParticlesOptions(this,e)}}}function Zb(t,...e){for(const n of e)t.load(n)}function e1(t,e,...n){const i=new jP(t,e);return Zb(i,...n),i}class BP{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode===Di.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new eP,this.backgroundMask=new nP,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new iP,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Xb(e,n),this.manualParticles=[],this.particles=e1(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){var o,a;if(B(e))return;e.preset!==void 0&&nn(e.preset,u=>this._importPreset(u)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=ue(e.delay));const n=e.detectRetina;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=ue(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;Mb(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(u=>{const c=new cP;return c.load(u),c})),this.particles.load(e.particles),this.style=xt(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const u of s)u.loadOptions&&u.loadOptions(this,e);if(e.responsive!==void 0)for(const u of e.responsive){const c=new hP;c.load(u),this.responsive.push(c)}if(this.responsive.sort((u,c)=>u.maxWidth-c.maxWidth),e.themes!==void 0)for(const u of e.themes){const c=this.themes.find(d=>d.name===u.name);if(c)c.load(u);else{const d=new fP;d.load(u),this.themes.push(d)}}this.defaultThemes.dark=(o=this._findDefaultTheme(Di.dark))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme(Di.light))==null?void 0:a.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(s=>s.mode===Vr.screen&&screen?s.maxWidth>screen.availWidth:s.maxWidth*n>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=zb("(prefers-color-scheme: dark)"),i=n==null?void 0:n.matches,r=this._findDefaultTheme(i?Di.dark:Di.light);r&&this.load(r.options)}}}var po;(function(t){t.external="external",t.particles="particles"})(po||(po={}));class $P{constructor(e,n){this.container=n,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&n.interact(e)}handleClickMode(e){var n;for(const i of this._externalInteractors)(n=i.handleClickMode)==null||n.call(i,e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case po.external:this._externalInteractors.push(e);break;case po.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,n)}reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}var Dn;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(Dn||(Dn={}));function UP(t,e,n,i){const r=e.options[t];if(r)return xt({close:e.close,fill:e.fill},fn(r,n,i))}function qP(t,e,n,i){const r=e.options[t];if(r)return xt({close:e.close,fill:e.fill},fn(r,n,i))}function uv(t){if(!Le(t.outMode,t.checkModes))return;const e=t.radius*_t;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)}class HP{constructor(e,n){this.container=n,this._calcPosition=(i,r,s,o=Bw)=>{for(const b of i.plugins.values()){const S=b.particlePosition!==void 0?b.particlePosition(r,this):void 0;if(S)return Wt.create(S.x,S.y,s)}const a=i.canvas.size,u=xI({size:a,position:r}),c=Wt.create(u.x,u.y,s),d=this.getRadius(),f=this.options.move.outModes,m=b=>{uv({outMode:b,checkModes:[Ue.bounce],coord:c.x,maxCoord:i.canvas.size.width,setCb:S=>c.x+=S,radius:d})},g=b=>{uv({outMode:b,checkModes:[Ue.bounce],coord:c.y,maxCoord:i.canvas.size.height,setCb:S=>c.y+=S,radius:d})};return m(f.left??f.default),m(f.right??f.default),g(f.top??f.default),g(f.bottom??f.default),this._checkOverlap(c,o)?this._calcPosition(i,void 0,s,o+nI):c},this._calculateVelocity=()=>{const i=EI(this.direction),r=i.copy(),s=this.options.move;if(s.direction===st.inside||s.direction===st.outside)return r;const o=Qi(G(s.angle.value)),a=Qi(G(s.angle.offset)),u={left:a-o*Qe,right:a+o*Qe};return s.straight||(r.angle+=Kt(ue(u.left,u.right))),s.random&&typeof s.speed=="number"&&(r.length*=pe()),r},this._checkOverlap=(i,r=Bw)=>{const s=this.options.collisions,o=this.getRadius();if(!s.enable)return!1;const a=s.overlap;if(a.enable)return!1;const u=a.retries;if(u>=iI&&r>u)throw new Error(`${yn} particle is overlapping and can't be placed`);return!!this.container.particles.find(c=>Yt(i,c.position)<o+c.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const r=this.roll.horizontal&&this.roll.vertical?_t*Kw:Kw,s=this.roll.horizontal?Math.PI*Qe:dc;return Math.floor(((this.roll.angle??dc)+s)/(Math.PI/r))%_t?this.backColor?this.backColor:this.roll.alter?XI(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const r=this.container,s=G(this.options.zIndex.value);this.position=this._calcPosition(r,i,wn(s,rI,r.zLayers)),this.initialPosition=this.position.copy();const o=r.canvas.size;switch(this.moveCenter={...Ub(this.options.move.center,o),radius:this.options.move.center.radius??sI,mode:this.options.move.center.mode??co.percent},this.direction=bI(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case st.inside:this.outType=Dn.inside;break;case st.outside:this.outType=Dn.outside;break}this.offset=nt.origin},this._engine=e}destroy(e){var s,o,a;if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator,r=n.shapeDrawers.get(this.shape);(s=r==null?void 0:r.particleDestroy)==null||s.call(r,this);for(const u of n.plugins.values())(o=u.particleDestroyed)==null||o.call(u,this,e);for(const u of n.particles.updaters)(a=u.particleDestroyed)==null||a.call(u,this,e);i==null||i.reset(this),this._engine.dispatchEvent(Pt.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const n=this.container,i=n.canvas;for(const r of n.plugins.values())i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??rv(this.color))}getMass(){return this.getRadius()**ri*Math.PI*Qe}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??rv(this.strokeColor))}init(e,n,i,r){var E,y,x,C,I,D;const s=this.container,o=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Dn.normal,this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,u=s.actualOptions,c=e1(this._engine,s,u.particles),{reduceDuplicates:d}=c,f=c.effect.type,m=c.shape.type;this.effect=fn(f,this.id,d),this.shape=fn(m,this.id,d);const g=c.effect,b=c.shape;if(i){if((E=i.effect)!=null&&E.type){const T=i.effect.type,ve=fn(T,this.id,d);ve&&(this.effect=ve,g.load(i.effect))}if((y=i.shape)!=null&&y.type){const T=i.shape.type,ve=fn(T,this.id,d);ve&&(this.shape=ve,b.load(i.shape))}}if(this.effect===uo){const T=[...this.container.effectDrawers.keys()];this.effect=T[Math.floor(pe()*T.length)]}if(this.shape===uo){const T=[...this.container.shapeDrawers.keys()];this.shape=T[Math.floor(pe()*T.length)]}this.effectData=UP(this.effect,g,this.id,d),this.shapeData=qP(this.shape,b,this.id,d),c.load(i);const S=this.effectData;S&&c.load(S.particles);const P=this.shapeData;P&&c.load(P.particles);const _=new Xb(o,s);_.load(s.actualOptions.interactivity),_.load(c.interactivity),this.interactivity=_,this.effectFill=(S==null?void 0:S.fill)??c.effect.fill,this.effectClose=(S==null?void 0:S.close)??c.effect.close,this.shapeFill=(P==null?void 0:P.fill)??c.shape.fill,this.shapeClose=(P==null?void 0:P.close)??c.shape.close,this.options=c;const v=this.options.move.path;this.pathDelay=G(v.delay.value)*vt,v.generator&&(this.pathGenerator=this._engine.getPathGenerator(v.generator),this.pathGenerator&&s.addPath(v.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=$b(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=Db-G(this.options.move.decay);const k=s.particles;k.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let R=s.effectDrawers.get(this.effect);R||(R=this._engine.getEffectDrawer(this.effect),R&&s.effectDrawers.set(this.effect,R)),R!=null&&R.loadEffect&&R.loadEffect(this);let V=s.shapeDrawers.get(this.shape);V||(V=this._engine.getShapeDrawer(this.shape),V&&s.shapeDrawers.set(this.shape,V)),V!=null&&V.loadShape&&V.loadShape(this);const F=V==null?void 0:V.getSidesCount;F&&(this.sides=F(this)),this.spawning=!1,this.shadowColor=Rn(this._engine,this.options.shadow.color);for(const T of k.updaters)T.init(this);for(const T of k.movers)(x=T.init)==null||x.call(T,this);(C=R==null?void 0:R.particleInit)==null||C.call(R,s,this),(I=V==null?void 0:V.particleInit)==null||I.call(V,s,this);for(const T of s.plugins.values())(D=T.particleCreated)==null||D.call(T,this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const n of this.container.particles.updaters)(e=n.reset)==null||e.call(n,this)}}class WP{constructor(e,n){this.position=e,this.particle=n}}var Gs;(function(t){t.circle="circle",t.rectangle="rectangle"})(Gs||(Gs={}));class t1{constructor(e,n,i){this.position={x:e,y:n},this.type=i}}class bt extends t1{constructor(e,n,i){super(e,n,Gs.circle),this.radius=i}contains(e){return Yt(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,r={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},s=this.radius;if(e instanceof bt||e.type===Gs.circle){const o=e,a=s+o.radius,u=Math.sqrt(r.x**ri+r.y**ri);return a>u}else if(e instanceof Nn||e.type===Gs.rectangle){const o=e,{width:a,height:u}=o.size;return Math.pow(r.x-a,ri)+Math.pow(r.y-u,ri)<=s**ri||r.x<=s+a&&r.y<=s+u||r.x<=a||r.y<=u}return!1}}class Nn extends t1{constructor(e,n,i,r){super(e,n,Gs.rectangle),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof bt)return e.intersects(this);const n=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Nn?e.size:{width:0,height:0},a=o.width,u=o.height;return s.x<r.x+n&&s.x+a>r.x&&s.y<r.y+i&&s.y+u>r.y}}class pc{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let u=0;u<BS;u++){const c=u%_t;this._subs.push(new pc(new Nn(i+s*Qe*c,r+o*Qe*(Math.round(u*Qe)-c),s*Qe,o*Qe),a))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n){const i=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&Yt(e.position,r.position)>r.particle.getRadius()&&(!n||n(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)i.push(...r.query(e,n));return i}queryCircle(e,n,i){return this.query(new bt(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new Nn(e.x,e.y,n.width,n.height),i)}}const cv=t=>{const{height:e,width:n}=t;return new Nn(Xw*n,Xw*e,Yw*n,Yw*e)};class GP{constructor(e,n){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,s,o,a)=>{var b,S,P;const u=r.number;if(!((b=r.number.density)!=null&&b.enable)){o===void 0?this._limit=u.limit.value:(((S=a==null?void 0:a.number.limit)==null?void 0:S.value)??u.limit.value)&&this._groupLimits.set(o,((P=a==null?void 0:a.number.limit)==null?void 0:P.value)??u.limit.value);return}const c=this._initDensityFactor(u.density),d=u.value,f=u.limit.value>Jw?u.limit.value:d,m=Math.min(d,f)*c+s,g=Math.min(this.count,this.filter(_=>_.group===o).length);o===void 0?this._limit=u.limit.value*c:this._groupLimits.set(o,u.limit.value*c),g<m?this.push(Math.abs(m-g),void 0,r,o):g>m&&this.removeQuantity(g-m,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return lI;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.height*r.width*a**ri)},this._pushParticle=(r,s,o,a)=>{try{let u=this._pool.pop();u||(u=new HP(this._engine,this._container)),u.init(this._nextId,r,s,o);let c=!0;return a&&(c=a(u)),c?(this._array.push(u),this._zArray.push(u),this._nextId++,this._engine.dispatchEvent(Pt.particleAdded,{container:this._container,data:{particle:u}}),u):void 0}catch(u){Yr().warning(`${yn} adding particle: ${u}`)}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;const u=this._zArray.indexOf(a);return this._array.splice(r,fc),this._zArray.splice(u,fc),a.destroy(o),this._engine.dispatchEvent(Pt.particleRemoved,{container:this._container,data:{particle:a}}),this._addToPool(a),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new $P(e,n),this._pluginsInitialized=!1;const i=n.canvas.size;this.quadTree=new pc(cv(i),$w),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?Ub(i.position,e.canvas.size):void 0,i.options))}addParticle(e,n,i,r){const s=this._container.actualOptions.particles.number.limit.mode,o=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,a=this.count;if(o>Jw)switch(s){case Ja.delete:{const u=a+oI-o;u>aI&&this.removeQuantity(u);break}case Ja.wait:if(a>=o)return;break}return this._pushParticle(e,n,i,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const n=this._container,i=n.canvas;i.clear(),this.update(e);for(const r of n.plugins.values())i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){var r,s;const e=this._container,n=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const o of e.plugins.values())if(i=((r=o.particlesInitialization)==null?void 0:r.call(o))??i,i)break;if(this.addManualParticles(),!i){const o=n.particles,a=o.groups;for(const u in a){const c=a[u];for(let d=this.count,f=0;f<((s=c.number)==null?void 0:s.value)&&d<o.number.value;d++,f++)this.addParticle(void 0,c,u)}for(let u=this.count;u<o.number.value;u++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const n of e.pathGenerators.values())n.init(e)}push(e,n,i,r){for(let s=0;s<e;s++)this.addParticle(n==null?void 0:n.position,i,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=jS,i,r){if(e<Qf||e>this.count)return;let s=0;for(let o=e;s<n&&o<this.count;o++)this._removeParticle(o,i,r)&&(o--,s++)}removeQuantity(e,n){this.removeAt(Qf,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups,i=e.manualParticles.length;for(const r in n)this._applyDensity(n[r],i,r);this._applyDensity(e.particles,i)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){var s,o;const n=this._container,i=new Set;this.quadTree=new pc(cv(n.canvas.size),$w);for(const a of n.pathGenerators.values())a.update();for(const a of n.plugins.values())(s=a.update)==null||s.call(a,e);const r=this._resizeFactor;for(const a of this._array){r&&!a.ignoresResizeRatio&&(a.position.x*=r.width,a.position.y*=r.height,a.initialPosition.x*=r.width,a.initialPosition.y*=r.height),a.ignoresResizeRatio=!1,this._interactionManager.reset(a);for(const u of this._container.plugins.values()){if(a.destroyed)break;(o=u.particleUpdate)==null||o.call(u,a,e)}for(const u of this.movers)u.isEnabled(a)&&u.move(a,e);if(a.destroyed){i.add(a);continue}this.quadTree.insert(new WP(a.getPosition(),a))}if(i.size){const a=u=>!i.has(u);this._array=this.filter(a),this._zArray=this._zArray.filter(a);for(const u of i)this._engine.dispatchEvent(Pt.particleRemoved,{container:this._container,data:{particle:u}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const a of this._array){for(const u of this.updaters)u.update(a,e);!a.destroyed&&!a.spawning&&this._interactionManager.particlesInteract(a,e)}if(delete this._resizeFactor,this._needsSort){const a=this._zArray;a.sort((u,c)=>c.position.z-u.position.z||u.id-c.id),this._lastZIndex=a[a.length-Ob].position.z,this._needsSort=!1}}}class QP{constructor(e){this.container=e,this.pixelRatio=Uw,this.reduceFactor=qw}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Jr()?Uw:devicePixelRatio,this.reduceFactor=qw;const i=this.pixelRatio,r=e.canvas;if(r.element){const a=r.element;r.size.width=a.offsetWidth*i,r.size.height=a.offsetHeight*i}const s=n.particles,o=s.move;this.maxSpeed=G(o.gravity.maxSpeed)*i,this.sizeAnimationSpeed=G(s.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move,s=r.distance,o=e.retina;o.moveDrift=G(r.drift)*i,o.moveSpeed=G(r.speed)*i,o.sizeAnimationSpeed=G(n.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=G(r.gravity.maxSpeed)*i}}function Re(t){return t&&!t.destroyed}function KP(t,e=yd,n=!1){return{value:t,factor:n?yd/e:yd*t/vt}}function gs(t,e,...n){const i=new BP(t,e);return Zb(i,...n),i}class XP{constructor(e,n,i){this._intersectionManager=r=>{if(!(!Re(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+vt/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??(this._lastFrameTime=r);const s=KP(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(s.value),this._lastFrameTime=r,s.value>vt){this.draw(!1);return}if(this.particles.draw(s),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(s){Yr().error(`${yn} in animation loop`,s)}},this._engine=e,this.id=Symbol(n),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new QP(this),this.canvas=new JI(this,this._engine),this.particles=new GP(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=gs(this._engine,this),this.actualOptions=gs(this._engine,this),this._eventListeners=new ZI(this),this._intersectionObserver=II(r=>this._intersectionManager(r)),this._engine.dispatchEvent(Pt.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&Re(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Re(this))return;const n=this.interactivity.element;if(!n)return;const i=(f,m,g)=>{if(!Re(this))return;const b=this.retina.pixelRatio,S={x:m.x*b,y:m.y*b},P=this.particles.quadTree.queryCircle(S,g*b);e(f,P)},r=f=>{if(!Re(this))return;const m=f,g={x:m.offsetX||m.clientX,y:m.offsetY||m.clientY};i(f,g,QS)},s=()=>{Re(this)&&(c=!0,d=!1)},o=()=>{Re(this)&&(d=!0)},a=f=>{if(Re(this)){if(c&&!d){const m=f;let g=m.touches[m.touches.length-Qw];if(!g&&(g=m.changedTouches[m.changedTouches.length-Qw],!g))return;const b=this.canvas.element,S=b?b.getBoundingClientRect():void 0,P={x:g.clientX-(S?S.left:hc),y:g.clientY-(S?S.top:hc)};i(f,P,Math.max(g.radiusX,g.radiusY))}c=!1,d=!1}},u=()=>{Re(this)&&(c=!1,d=!1)};let c=!1,d=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",s),this._clickHandlers.set("touchmove",o),this._clickHandlers.set("touchend",a),this._clickHandlers.set("touchcancel",u);for(const[f,m]of this._clickHandlers)n.addEventListener(f,m)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!Re(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){var e;if(Re(this)){for(const[n,i]of this._clickHandlers)(e=this.interactivity.element)==null||e.removeEventListener(n,i);this._clickHandlers.clear()}}destroy(e=!0){var n,i;if(Re(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const r of this.effectDrawers.values())(n=r.destroy)==null||n.call(r,this);for(const r of this.shapeDrawers.values())(i=r.destroy)==null||i.call(r,this);for(const r of this.effectDrawers.keys())this.effectDrawers.delete(r);for(const r of this.shapeDrawers.keys())this.shapeDrawers.delete(r);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const r=this._engine.items,s=r.findIndex(o=>o===this);s>=KS&&r.splice(s,Rb)}this._engine.dispatchEvent(Pt.containerDestroyed,{container:this})}}draw(e){if(!Re(this))return;let n=e;const i=r=>{n&&(this._lastFrameTime=void 0,n=!1),this._nextFrame(r)};this._drawAnimationFrame=vI(r=>i(r))}async export(e,n={}){for(const i of this.plugins.values()){if(!i.export)continue;const r=await i.export(e,n);if(r.supported)return r.blob}Yr().error(`${yn} - Export plugin with type ${e} not found`)}handleClickMode(e){var n;if(Re(this)){this.particles.handleClickMode(e);for(const i of this.plugins.values())(n=i.handleClickMode)==null||n.call(i,e)}}async init(){var c,d,f,m;if(!Re(this))return;const e=this._engine.getSupportedEffects();for(const g of e){const b=this._engine.getEffectDrawer(g);b&&this.effectDrawers.set(g,b)}const n=this._engine.getSupportedShapes();for(const g of n){const b=this._engine.getShapeDrawer(g);b&&this.shapeDrawers.set(g,b)}await this.particles.initPlugins(),this._options=gs(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=gs(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[g,b]of i)this.plugins.set(g,b);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:s,delay:o,fpsLimit:a,smooth:u}=this.actualOptions;this.zLayers=r,this._duration=G(s)*vt,this._delay=G(o)*vt,this._lifeTime=0,this.fpsLimit=a>YS?a:XS,this._smooth=u;for(const g of this.effectDrawers.values())await((c=g.init)==null?void 0:c.call(g,this));for(const g of this.shapeDrawers.values())await((d=g.init)==null?void 0:d.call(g,this));for(const g of this.plugins.values())await((f=g.init)==null?void 0:f.call(g));this._engine.dispatchEvent(Pt.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const g of this.plugins.values())(m=g.particlesSetup)==null||m.call(g);this._engine.dispatchEvent(Pt.particlesSetup,{container:this})}async loadTheme(e){Re(this)&&(this._currentTheme=e,await this.refresh())}pause(){var e;if(Re(this)&&(this._drawAnimationFrame!==void 0&&(_I(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const n of this.plugins.values())(e=n.pause)==null||e.call(n);this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(Pt.containerPaused,{container:this})}}play(e){if(!Re(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(Pt.containerPlay,{container:this}),this.draw(n??!1)}async refresh(){if(Re(this))return this.stop(),this.start()}async reset(e){if(Re(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=gs(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=gs(this._engine,this,this._options),this.refresh()}async start(){!Re(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const n=async()=>{var i;this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const r of this.plugins.values())await((i=r.start)==null?void 0:i.call(r));this._engine.dispatchEvent(Pt.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void n(),this._delay)}))}stop(){var e;if(!(!Re(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const n of this.plugins.values())(e=n.stop)==null||e.call(n);for(const n of this.plugins.keys())this.plugins.delete(n);this._sourceOptions=this._options,this._engine.dispatchEvent(Pt.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class YP{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){const i=this._listeners.get(e);i==null||i.forEach(r=>r(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(n);s<Qf||(r===fc?this._listeners.delete(e):i.splice(s,fc))}}async function Cd(t,e,n,i=!1){let r=e.get(t);return(!r||i)&&(r=await Promise.all([...n.values()].map(s=>s(t))),e.set(t,r)),r}async function JP(t){const e=fn(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?await n.json():(Yr().error(`${yn} ${n.status} while retrieving config file`),t.fallback)}const ZP=t=>{let e;if(t instanceof HTMLCanvasElement||t.tagName.toLowerCase()===wd)e=t,e.dataset[Or]||(e.dataset[Or]=jw);else{const i=t.getElementsByTagName(wd);i.length?(e=i[JS],e.dataset[Or]=jw):(e=document.createElement(wd),e.dataset[Or]=Pb,t.appendChild(e))}const n="100%";return e.style.width||(e.style.width=n),e.style.height||(e.style.height=n),e},eA=(t,e)=>{let n=e??document.getElementById(t);return n||(n=document.createElement("div"),n.id=t,n.dataset[Or]=Pb,document.body.append(n),n)};class tA{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new YP,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get items(){return this._domArray}get version(){return"3.9.1"}async addColorManager(e,n=!0){this.colorManagers.set(e.key,e),await this.refresh(n)}addConfig(e){const n=e.key??e.name??"default";this._configs.set(n,e),this._eventDispatcher.dispatchEvent(Pt.configAdded,{data:{name:n,config:e}})}async addEasing(e,n,i=!0){this.getEasing(e)||(this.easingFunctions.set(e,n),await this.refresh(i))}async addEffect(e,n,i=!0){nn(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,n)}),await this.refresh(i)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this._initializers.interactors.set(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this._initializers.movers.set(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this._initializers.updaters.set(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(n)}async addPreset(e,n,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,n),await this.refresh(r)}async addShape(e,n=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(n)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,await i.getPlugin(e));return n}getEasing(e){return this.easingFunctions.get(e)??(n=>n)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,n=!1){return Cd(e,this.interactors,this._initializers.interactors,n)}async getMovers(e,n=!1){return Cd(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,n=!1){return Cd(e,this.updaters,this._initializers.updaters,n)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:n}=this,i=n[e];if(!i||i.destroyed){n.splice(e,Rb);return}return i}async load(e){var m;const n=e.id??((m=e.element)==null?void 0:m.id)??`tsparticles${Math.floor(pe()*ZS)}`,{index:i,url:r}=e,s=r?await JP({fallback:e.options,url:r,index:i}):e.options,o=fn(s,i),{items:a}=this,u=a.findIndex(g=>g.id.description===n),c=new XP(this,n,o);if(u>=eI){const g=this.item(u),b=g?tI:dc;g&&!g.destroyed&&g.destroy(!1),a.splice(u,b,c)}else a.push(c);const d=eA(n,e.element),f=ZP(d);return c.canvas.loadCanvas(f),await c.start(),c}loadOptions(e,n){this.plugins.forEach(i=>{var r;return(r=i.loadOptions)==null?void 0:r.call(i,e,n)})}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);r&&r.forEach(s=>{var o;return(o=s.loadOptions)==null?void 0:o.call(s,n,...i)})}async refresh(e=!0){e&&await Promise.all(this.items.map(n=>n.refresh()))}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}setOnClickHandler(e){const{items:n}=this;if(!n.length)throw new Error(`${yn} can only set click handlers after calling tsParticles.load()`);n.forEach(i=>i.addClickHandler(e))}}function nA(){const t=new tA;return t.init(),t}class ei{constructor(e){this.type=po.external,this.container=e}}class Pm{constructor(e){this.type=po.particles,this.container=e}}var Cn;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(Cn||(Cn={}));var hv;(function(t){t.linear="linear",t.radial="radial",t.random="random"})(hv||(hv={}));var $r;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})($r||($r={}));const Am=nA();Jr()||(window.tsParticles=Am);const iA=t=>{const e=t.id??"tsparticles";return Ge.useEffect(()=>{let n;return Am.load({id:e,url:t.url,options:t.options}).then(i=>{var r;n=i,(r=t.particlesLoaded)==null||r.call(t,i)}),()=>{n==null||n.destroy()}},[e,t,t.url,t.options]),A.jsx("div",{id:e,className:t.className})};async function rA(t){await t(Am)}const Zf=.5,sA=2,Vi=0,Sn=1,dv=60,fv=0,oA=.01,aA=Math.PI*sA;function lA(t){const e=t.initialPosition,{dx:n,dy:i}=Rt(e,t.position),r=Math.abs(n),s=Math.abs(i),{maxDistance:o}=t.retina,a=o.horizontal,u=o.vertical;if(!a&&!u)return;const c=(a&&r>=a)??!1,d=(u&&s>=u)??!1;if((c||d)&&!t.misplaced)t.misplaced=!!a&&r>a||!!u&&s>u,a&&(t.velocity.x=t.velocity.y*Zf-t.velocity.x),u&&(t.velocity.y=t.velocity.x*Zf-t.velocity.y);else if((!a||r<a)&&(!u||s<u)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const f=t.position,m=t.velocity;a&&(f.x<e.x&&m.x<Vi||f.x>e.x&&m.x>Vi)&&(m.x*=-pe()),u&&(f.y<e.y&&m.y<Vi||f.y>e.y&&m.y>Vi)&&(m.y*=-pe())}}function uA(t,e,n,i,r,s,o){hA(t,o);const a=t.gravity,u=a!=null&&a.enable&&a.inverse?-Sn:Sn;r&&n&&(t.velocity.x+=r*o.factor/(dv*n)),a!=null&&a.enable&&n&&(t.velocity.y+=u*(a.acceleration*o.factor)/(dv*n));const c=t.moveDecay;t.velocity.multTo(c);const d=t.velocity.mult(n);a!=null&&a.enable&&i>Vi&&(!a.inverse&&d.y>=Vi&&d.y>=i||a.inverse&&d.y<=Vi&&d.y<=-i)&&(d.y=u*i,n&&(t.velocity.y=d.y/n));const f=t.options.zIndex,m=(Sn-t.zIndexFactor)**f.velocityRate;d.multTo(m),d.multTo(s);const{position:g}=t;g.addTo(d),e.vibrate&&(g.x+=Math.sin(g.x*Math.cos(g.y))*s,g.y+=Math.cos(g.y*Math.sin(g.x))*s)}function cA(t,e,n){const i=t.container;if(!t.spin)return;const r=t.spin.direction===Cn.clockwise,s={x:r?Math.cos:Math.sin,y:r?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*s.x(t.spin.angle)*n,t.position.y=t.spin.center.y+t.spin.radius*s.y(t.spin.angle)*n,t.spin.radius+=t.spin.acceleration*n;const o=Math.max(i.canvas.size.width,i.canvas.size.height),a=o*Zf;t.spin.radius>a?(t.spin.radius=a,t.spin.acceleration*=-Sn):t.spin.radius<fv&&(t.spin.radius=fv,t.spin.acceleration*=-Sn),t.spin.angle+=e*oA*(Sn-t.spin.radius/o)}function hA(t,e){var o;const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const s=(o=t.pathGenerator)==null?void 0:o.generate(t,e);s&&t.velocity.addTo(s),i.clamp&&(t.velocity.x=wn(t.velocity.x,-Sn,Sn),t.velocity.y=wn(t.velocity.y,-Sn,Sn)),t.lastPathTime-=t.pathDelay}function dA(t){return t.slow.inRange?t.slow.factor:Sn}function fA(t){const e=t.container,n=t.options,i=n.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},s=.01,o={x:r.x*s*e.canvas.size.width,y:r.y*s*e.canvas.size.height},a=t.getPosition(),u=Yt(a,o),c=G(i.acceleration);t.retina.spinAcceleration=c*e.retina.pixelRatio,t.spin={center:o,direction:t.velocity.x>=Vi?Cn.clockwise:Cn.counterClockwise,angle:pe()*aA,radius:u,acceleration:t.retina.spinAcceleration}}const pA=2,mA=1,gA=1;class yA{init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:G(i.acceleration),inverse:i.inverse},fA(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var P,_;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio;(P=e.retina).moveSpeed??(P.moveSpeed=G(r.speed)*o),(_=e.retina).moveDrift??(_.moveDrift=G(e.options.move.drift)*o);const a=dA(e),u=s.retina.reduceFactor,c=e.retina.moveSpeed,d=e.retina.moveDrift,f=qn(i.size.value)*o,m=r.size?e.getRadius()/f:mA,g=n.factor||gA,b=c*m*a*g/pA,S=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?cA(e,b,u):uA(e,r,b,S,d,u,n),lA(e)}}async function wA(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("base",()=>Promise.resolve(new yA),e)}const vA=2,_A=Math.PI*vA,bA=0,pv={x:0,y:0};function EA(t){const{context:e,particle:n,radius:i}=t;n.circleRange||(n.circleRange={min:bA,max:_A});const r=n.circleRange;e.arc(pv.x,pv.y,i,r.min,r.max,!1)}const xA=12,TA=360,mv=0;class kA{constructor(){this.validTypes=["circle"]}draw(e){EA(e)}getSidesCount(){return xA}particleInit(e,n){const i=n.shapeData,r=(i==null?void 0:i.angle)??{max:TA,min:mv};n.circleRange=Ms(r)?{min:Qi(r.min),max:Qi(r.max)}:{min:mv,max:Qi(r)}}}async function CA(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new kA,e)}class SA{constructor(e,n){this._container=e,this._engine=n}init(e){const n=Ka(this._engine,e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=Qb(n,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&n.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,n){Kb(e.color,n)}}async function IA(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("color",n=>Promise.resolve(new SA(n,t)),e)}var Pr;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(Pr||(Pr={}));const PA=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,AA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,nu=16,RA=1,DA=255;class OA{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!(e!=null&&e.startsWith(this.stringPrefix)))return;const n=e.replace(PA,(r,s,o,a,u)=>s+s+o+o+a+a+(u!==void 0?u+u:"")),i=AA.exec(n);return i?{a:i[Pr.a]!==void 0?parseInt(i[Pr.a],nu)/DA:RA,b:parseInt(i[Pr.b],nu),g:parseInt(i[Pr.g],nu),r:parseInt(i[Pr.r],nu)}:void 0}}async function NA(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new OA,e)}var Vs;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(Vs||(Vs={}));class MA{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return ho(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return ho({h:G(i.h),l:G(i.l),s:G(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=n.exec(e),r=4,s=1,o=10;return i?BI({a:i.length>r?Lb(i[Vs.a]):s,h:parseInt(i[Vs.h],o),l:parseInt(i[Vs.l],o),s:parseInt(i[Vs.s],o)}):void 0}}async function VA(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new MA,e)}class LA{constructor(e){this.container=e}init(e){const n=e.options.opacity,i=1;e.opacity=$b(n,i);const r=n.animation;r.enable&&(e.opacity.velocity=G(r.speed)/Mi*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=pe()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){!this.isEnabled(e)||!e.opacity||km(e,e.opacity,!0,e.options.opacity.animation.destroy,n)}}async function zA(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("opacity",n=>Promise.resolve(new LA(n)),e)}const mc=0,Qs=0;function FA(t){if(t.outMode!==Ue.bounce&&t.outMode!==Ue.split||t.direction!==ie.left&&t.direction!==ie.right)return;t.bounds.right<Qs&&t.direction===ie.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===ie.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction===ie.right&&t.bounds.right>=t.canvasSize.width&&e>mc||t.direction===ie.left&&t.bounds.left<=Qs&&e<mc){const r=G(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===ie.right?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=Qs&&t.direction===ie.left&&(t.particle.position.x=i),t.outMode===Ue.split&&t.particle.destroy()}function jA(t){if(t.outMode!==Ue.bounce&&t.outMode!==Ue.split||t.direction!==ie.bottom&&t.direction!==ie.top)return;t.bounds.bottom<Qs&&t.direction===ie.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===ie.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction===ie.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>mc||t.direction===ie.top&&t.bounds.top<=Qs&&e<mc){const r=G(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===ie.bottom?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=Qs&&t.direction===ie.top&&(t.particle.position.y=i),t.outMode===Ue.split&&t.particle.destroy()}class BA{constructor(e){this.container=e,this.modes=[Ue.bounce,Ue.split]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const m of s.plugins.values())if(m.particleBounce!==void 0&&(o=m.particleBounce(e,i,n)),o)break;if(o)return;const a=e.getPosition(),u=e.offset,c=e.getRadius(),d=pl(a,c),f=s.canvas.size;FA({particle:e,outMode:r,direction:n,bounds:d,canvasSize:f,offset:u,size:c}),jA({particle:e,outMode:r,direction:n,bounds:d,canvasSize:f,offset:u,size:c})}}const iu=0;class $A{constructor(e){this.container=e,this.modes=[Ue.destroy]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case Dn.normal:case Dn.outside:if(Em(e.position,s.canvas.size,nt.origin,e.getRadius(),n))return;break;case Dn.inside:{const{dx:o,dy:a}=Rt(e.position,e.moveCenter),{x:u,y:c}=e.velocity;if(u<iu&&o>e.moveCenter.radius||c<iu&&a>e.moveCenter.radius||u>=iu&&o<-e.moveCenter.radius||c>=iu&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,e.group,!0)}}const ru=0;class UA{constructor(e){this.container=e,this.modes=[Ue.none]}update(e,n,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(n===ie.left||n===ie.right))??(e.options.move.distance.vertical&&(n===ie.top||n===ie.bottom))))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,u=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+u&&n===ie.bottom||s.inverse&&c.y<-u&&n===ie.top)&&o.particles.remove(e)}else{if(e.velocity.y>ru&&e.position.y<=a.height+u||e.velocity.y<ru&&e.position.y>=-u||e.velocity.x>ru&&e.position.x<=a.width+u||e.velocity.x<ru&&e.position.x>=-u)return;Em(e.position,o.canvas.size,nt.origin,u,n)||o.particles.remove(e)}}}const su=0,ou=0;class qA{constructor(e){this.container=e,this.modes=[Ue.out]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case Dn.inside:{const{x:o,y:a}=e.velocity,u=nt.origin;u.length=e.moveCenter.radius,u.angle=e.velocity.angle+Math.PI,u.addTo(nt.create(e.moveCenter));const{dx:c,dy:d}=Rt(e.position,u);if(o<=su&&c>=ou||a<=su&&d>=ou||o>=su&&c<=ou||a>=su&&d<=ou)return;e.position.x=Math.floor(Kt({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(Kt({min:0,max:s.canvas.size.height}));const{dx:f,dy:m}=Rt(e.position,e.moveCenter);e.direction=Math.atan2(-m,-f),e.velocity.angle=e.direction;break}default:{if(Em(e.position,s.canvas.size,nt.origin,e.getRadius(),n))return;switch(e.outType){case Dn.outside:{e.position.x=Math.floor(Kt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Kt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=Rt(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case Dn.normal:{const o=e.options.move.warp,a=s.canvas.size,u={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),d=pl(e.position,c);n===ie.right&&d.left>a.width+e.offset.x?(e.position.x=u.left,e.initialPosition.x=e.position.x,o||(e.position.y=pe()*a.height,e.initialPosition.y=e.position.y)):n===ie.left&&d.right<-e.offset.x&&(e.position.x=u.right,e.initialPosition.x=e.position.x,o||(e.position.y=pe()*a.height,e.initialPosition.y=e.position.y)),n===ie.bottom&&d.top>a.height+e.offset.y?(o||(e.position.x=pe()*a.width,e.initialPosition.x=e.position.x),e.position.y=u.top,e.initialPosition.y=e.position.y):n===ie.top&&d.bottom<-e.offset.y&&(o||(e.position.x=pe()*a.width,e.initialPosition.x=e.position.x),e.position.y=u.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const HA=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class WA{constructor(e){this._addUpdaterIfMissing=(n,i,r)=>{const s=n.options.move.outModes;!this.updaters.has(i)&&HA(s,i)&&this.updaters.set(i,r(this.container))},this._updateOutMode=(n,i,r,s)=>{for(const o of this.updaters.values())o.update(n,s,i,r)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Ue.bounce,n=>new BA(n)),this._addUpdaterIfMissing(e,Ue.out,n=>new qA(n)),this._addUpdaterIfMissing(e,Ue.destroy,n=>new $A(n)),this._addUpdaterIfMissing(e,Ue.none,n=>new UA(n))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,ie.bottom),this._updateOutMode(e,n,i.left??i.default,ie.left),this._updateOutMode(e,n,i.right??i.default,ie.right),this._updateOutMode(e,n,i.top??i.default,ie.top)}}async function GA(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("outModes",n=>Promise.resolve(new WA(n)),e)}var Ls;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(Ls||(Ls={}));class QA{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:G(i.r),g:G(i.g),b:G(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=n.exec(e),r=10;return i?{a:i.length>4?Lb(i[Ls.a]):1,b:parseInt(i[Ls.b],r),g:parseInt(i[Ls.g],r),r:parseInt(i[Ls.r],r)}:void 0}}async function KA(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new QA,e)}const br=0;class XA{init(e){const n=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/Mi*n.retina.reduceFactor,r.sync||(e.size.velocity*=pe()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??br)<=br||(e.size.maxLoops??br)>br&&(e.size.loops??br)<(e.size.maxLoops??br))}reset(e){e.size.loops=br}update(e,n){this.isEnabled(e)&&km(e,e.size,!0,e.options.size.animation.destroy,n)}}async function YA(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("size",()=>Promise.resolve(new XA),e)}async function JA(t,e=!0){t.checkVersion("3.9.1"),await NA(t,!1),await VA(t,!1),await KA(t,!1),await wA(t,!1),await CA(t,!1),await IA(t,!1),await zA(t,!1),await GA(t,!1),await YA(t,!1),await t.refresh(e)}async function ZA(t,e=!0){t.checkVersion("3.9.1"),await t.addEasing($r.easeInQuad,n=>n**2,!1),await t.addEasing($r.easeOutQuad,n=>1-(1-n)**2,!1),await t.addEasing($r.easeInOutQuad,n=>n<.5?2*n**2:1-(-2*n+2)**2/2,!1),await t.refresh(e)}function eR(t,e){const{context:n,opacity:i}=t,r=.5,s=n.globalAlpha;if(!e)return;const o=e.width,a=o*r;n.globalAlpha=i,n.drawImage(e,-a,-a,o,o),n.globalAlpha=s}const Sd='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',gv=0;class tR{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,n]of this._emojiShapeDict)n instanceof ImageBitmap&&(n==null||n.close()),this._emojiShapeDict.delete(e)}draw(e){const n=e.particle.emojiDataKey;if(!n)return;const i=this._emojiShapeDict.get(n);i&&eR(e,i)}async init(e){const n=e.actualOptions,{validTypes:i}=this;if(!i.find(o=>Le(o,n.particles.shape.type)))return;const r=[iv(Sd)],s=i.map(o=>n.particles.shape.options[o]).find(o=>!!o);s&&nn(s,o=>{o.font&&r.push(iv(o.font))}),await Promise.all(r)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,n){const r=n.shapeData;if(!(r!=null&&r.value))return;const s=fn(r.value,n.randomIndexData);if(!s)return;const o=typeof s=="string"?{font:r.font??Sd,padding:r.padding??gv,value:s}:{font:Sd,padding:gv,...r,...s},a=o.font,u=o.value,c=`${u}_${a}`;if(this._emojiShapeDict.has(c)){n.emojiDataKey=c;return}const d=o.padding*2,f=qn(n.size.value),m=f+d,g=m*2;let b;if(typeof OffscreenCanvas<"u"){const S=new OffscreenCanvas(g,g),P=S.getContext("2d");if(!P)return;P.font=`400 ${f*2}px ${a}`,P.textBaseline="middle",P.textAlign="center",P.fillText(u,m,m),b=S.transferToImageBitmap()}else{const S=document.createElement("canvas");S.width=g,S.height=g;const P=S.getContext("2d");if(!P)return;P.font=`400 ${f*2}px ${a}`,P.textBaseline="middle",P.textAlign="center",P.fillText(u,m,m),b=S}this._emojiShapeDict.set(c,b),n.emojiDataKey=c}}async function nR(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new tR,e)}const iR=1,rR=1,n1=0;function i1(t,e,n,i,r,s){const o=e.actualOptions.interactivity.modes.attract;if(!o)return;const a=e.particles.quadTree.query(r,s);for(const u of a){const{dx:c,dy:d,distance:f}=Rt(u.position,n),m=o.speed*o.factor,g=wn(t.getEasing(o.easing)(rR-f/i)*m,iR,o.maxSpeed),b=nt.create(f?c/f*g:m,f?d/f*g:m);u.position.subFrom(b)}}function sR(t,e,n){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const r=e.interactivity.mouse.clickPosition,s=e.retina.attractModeDistance;if(!s||s<n1||!r)return;i1(t,e,r,s,new bt(r.x,r.y,s),o=>n(o))}else i.clicking===!1&&(i.particles=[])}function oR(t,e,n){const i=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<n1||!i||i1(t,e,i,r,new bt(i.x,i.y,r),s=>n(s))}class aR{constructor(){this.distance=200,this.duration=.4,this.easing=$r.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){B(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const ua="attract";let lR=class extends ei{constructor(e,n){super(n),this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!==ua)){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},s.duration*vt)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===Kr,r=n.interactivity.events,{enable:s,mode:o}=r.onHover,{enable:a,mode:u}=r.onClick;i&&s&&Le(ua,o)?oR(this._engine,this.container,c=>this.isEnabled(c)):a&&Le(ua,u)&&sR(this._engine,this.container,c=>this.isEnabled(c))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return Le(ua,o)||Le(ua,a)}loadModeOptions(e,...n){e.attract||(e.attract=new aR);for(const i of n)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function uR(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalAttract",n=>Promise.resolve(new lR(t,n)),e)}const cR=2,Ru=.5,hR=Math.PI*Ru,yv=2,r1=10,dR=0;function s1(t,e,n,i,r){const s=t.particles.quadTree.query(i,r);for(const o of s)i instanceof bt?jb(Xf(o),{position:e,mass:n**cR*hR,velocity:nt.origin,factor:nt.origin}):i instanceof Nn&&OI(o,pl(e,n))}function fR(t,e,n,i){const r=document.querySelectorAll(e);r.length&&r.forEach(s=>{const o=s,a=t.retina.pixelRatio,u={x:(o.offsetLeft+o.offsetWidth*Ru)*a,y:(o.offsetTop+o.offsetHeight*Ru)*a},c=o.offsetWidth*Ru*a,d=r1*a,f=n.type===fo.circle?new bt(u.x,u.y,c+d):new Nn(o.offsetLeft*a-d,o.offsetTop*a-d,o.offsetWidth*a+d*yv,o.offsetHeight*a+d*yv);i(u,c,f)})}function pR(t,e,n,i){Tm(n,e,(r,s)=>fR(t,r,s,(o,a,u)=>s1(t,o,a,u,i)))}function mR(t,e){const n=t.retina.pixelRatio,i=r1*n,r=t.interactivity.mouse.position,s=t.retina.bounceModeDistance;!s||s<dR||!r||s1(t,r,s,new bt(r.x,r.y,s+i),e)}class gR{constructor(){this.distance=200}load(e){B(e)||e.distance!==void 0&&(this.distance=e.distance)}}const au="bounce";class yR extends ei{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===Kr,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&Le(au,o)?mR(this.container,u=>this.isEnabled(u)):pR(this.container,a,au,u=>this.isEnabled(u))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return!!r.position&&s.onHover.enable&&Le(au,s.onHover.mode)||xm(au,o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new gR);for(const i of n)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function wR(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBounce",n=>Promise.resolve(new yR(n)),e)}class o1{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!B(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=Zn(this.color)?void 0:this.color;this.color=nn(e.color,i=>Tt.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class vR extends o1{constructor(){super(),this.selectors=[]}load(e){super.load(e),!B(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class _R extends o1{load(e){super.load(e),!B(e)&&(this.divs=nn(e.divs,n=>{const i=new vR;return i.load(n),i}))}}var jn;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(jn||(jn={}));function wv(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return wn(r,t,e)}else if(e<n){const r=t-(n-e)*i;return wn(r,e,t)}}const Er="bubble",Id=0,bR=0,ER=2,vv=1,_v=1,xR=0,TR=0,Pd=.5,Ad=1;class kR extends ei{constructor(e,n){super(e),this._clickBubble=()=>{var d;const i=this.container,r=i.actualOptions,s=i.interactivity.mouse.clickPosition,o=r.interactivity.modes.bubble;if(!o||!s)return;i.bubble||(i.bubble={});const a=i.retina.bubbleModeDistance;if(!a||a<Id)return;const u=i.particles.quadTree.queryCircle(s,a,f=>this.isEnabled(f)),{bubble:c}=i;for(const f of u){if(!c.clicking)continue;f.bubble.inRange=!c.durationEnd;const m=f.getPosition(),g=Yt(m,s),b=(new Date().getTime()-(i.interactivity.mouse.clickTime??bR))/vt;b>o.duration&&(c.durationEnd=!0),b>o.duration*ER&&(c.clicking=!1,c.durationEnd=!1);const S={bubbleObj:{optValue:i.retina.bubbleModeSize,value:f.bubble.radius},particlesObj:{optValue:qn(f.options.size.value)*i.retina.pixelRatio,value:f.size.value},type:jn.size};this._process(f,g,b,S);const P={bubbleObj:{optValue:o.opacity,value:f.bubble.opacity},particlesObj:{optValue:qn(f.options.opacity.value),value:((d=f.opacity)==null?void 0:d.value)??vv},type:jn.opacity};this._process(f,g,b,P),!c.durationEnd&&g<=a?this._hoverBubbleColor(f,g):delete f.bubble.color}},this._hoverBubble=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.bubbleModeDistance;if(!s||s<Id||!r)return;const o=i.particles.quadTree.queryCircle(r,s,a=>this.isEnabled(a));for(const a of o){a.bubble.inRange=!0;const u=a.getPosition(),c=Yt(u,r),d=_v-c/s;c<=s?d>=TR&&i.interactivity.status===Kr&&(this._hoverBubbleSize(a,d),this._hoverBubbleOpacity(a,d),this._hoverBubbleColor(a,d)):this.reset(a),i.interactivity.status===qf&&this.reset(a)}},this._hoverBubbleColor=(i,r,s)=>{const o=this.container.actualOptions,a=s??o.interactivity.modes.bubble;if(a){if(!i.bubble.finalColor){const u=a.color;if(!u)return;const c=fn(u);i.bubble.finalColor=Ka(this._engine,c)}if(i.bubble.finalColor)if(a.mix){i.bubble.color=void 0;const u=i.getFillColor();i.bubble.color=u?Hb(Cm(u,i.bubble.finalColor,_v-r,r)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,r,s)=>{var m,g;const o=this.container,a=o.actualOptions,u=(s==null?void 0:s.opacity)??((m=a.interactivity.modes.bubble)==null?void 0:m.opacity);if(!u)return;const c=i.options.opacity.value,d=((g=i.opacity)==null?void 0:g.value)??vv,f=wv(d,u,qn(c),r);f!==void 0&&(i.bubble.opacity=f)},this._hoverBubbleSize=(i,r,s)=>{const o=this.container,a=s!=null&&s.size?s.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(a===void 0)return;const u=qn(i.options.size.value)*o.retina.pixelRatio,c=i.size.value,d=wv(c,a,u,r);d!==void 0&&(i.bubble.radius=d)},this._process=(i,r,s,o)=>{const a=this.container,u=o.bubbleObj.optValue,c=a.actualOptions,d=c.interactivity.modes.bubble;if(!d||u===void 0)return;const f=d.duration,m=a.retina.bubbleModeDistance,g=o.particlesObj.optValue,b=o.bubbleObj.value,S=o.particlesObj.value??xR,P=o.type;if(!(!m||m<Id||u===g))if(a.bubble||(a.bubble={}),a.bubble.durationEnd)b&&(P===jn.size&&delete i.bubble.radius,P===jn.opacity&&delete i.bubble.opacity);else if(r<=m){if((b??S)!==u){const v=S-s*(S-u)/f;P===jn.size&&(i.bubble.radius=v),P===jn.opacity&&(i.bubble.opacity=v)}}else P===jn.size&&delete i.bubble.radius,P===jn.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,r,s)=>{const o=this.container,a=document.querySelectorAll(r),u=o.actualOptions.interactivity.modes.bubble;!u||!a.length||a.forEach(c=>{const d=c,f=o.retina.pixelRatio,m={x:(d.offsetLeft+d.offsetWidth*Pd)*f,y:(d.offsetTop+d.offsetHeight*Pd)*f},g=d.offsetWidth*Pd*f,b=s.type===fo.circle?new bt(m.x,m.y,g):new Nn(d.offsetLeft*f,d.offsetTop*f,d.offsetWidth*f,d.offsetHeight*f),S=o.particles.quadTree.query(b,P=>this.isEnabled(P));for(const P of S){if(!b.contains(P.getPosition()))continue;P.bubble.inRange=!0;const _=u.divs,v=Fb(_,d);(!P.bubble.div||P.bubble.div!==d)&&(this.clear(P,i,!0),P.bubble.div=d),this._hoverBubbleSize(P,Ad,v),this._hoverBubbleOpacity(P,Ad,v),this._hoverBubbleColor(P,Ad,v)}})},this._engine=n,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===Er&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}interact(e){const n=this.container.actualOptions,i=n.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,u=s.enable,c=s.mode,d=i.onDiv;o&&Le(Er,a)?this._hoverBubble():u&&Le(Er,c)?this._clickBubble():Tm(Er,d,(f,m)=>this._singleSelectorHover(e,f,m))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:u}=s,c=xm(Er,a);return c||u.enable&&r.position||o.enable&&r.clickPosition?Le(Er,u.mode)||Le(Er,o.mode)||c:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new _R);for(const i of n)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function CR(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBubble",n=>Promise.resolve(new kR(n,t)),e)}class SR{constructor(){this.opacity=.5}load(e){B(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class IR{constructor(){this.distance=80,this.links=new SR,this.radius=60}load(e){B(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const bv=0,Ev=1,PR=0;function AR(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),s=e.getFillColor(),o=n.getFillColor();if(!s||!o)return;const a=e.getPosition(),u=n.getPosition(),c=Cm(s,o,e.getRadius(),n.getRadius()),d=t.createLinearGradient(a.x,a.y,u.x,u.y);return d.addColorStop(bv,Xa(s,i)),d.addColorStop(wn(r,bv,Ev),ui(c,i)),d.addColorStop(Ev,Xa(o,i)),d}function RR(t,e,n,i,r){Ca(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function DR(t,e,n,i){const r=t.actualOptions,s=r.interactivity.modes.connect;if(s)return AR(e,n,i,s.links.opacity)}function OR(t,e,n){t.canvas.draw(i=>{const r=DR(t,i,e,n);if(!r)return;const s=e.getPosition(),o=n.getPosition();RR(i,e.retina.linksWidth??PR,r,s,o)})}const NR="connect",xv=0;class MR extends ei{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:s}=e.retina;if(!r||r<xv||!s||s<xv||!i)return;const o=Math.abs(s),a=e.particles.quadTree.queryCircle(i,o,u=>this.isEnabled(u));a.forEach((u,c)=>{const d=u.getPosition(),f=1;for(const m of a.slice(c+f)){const g=m.getPosition(),b=Math.abs(r),S=Math.abs(d.x-g.x),P=Math.abs(d.y-g.y);S<b&&P<b&&OR(e,u,m)}})}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Le(NR,r.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new IR);for(const i of n)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function VR(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalConnect",n=>Promise.resolve(new MR(n)),e)}class LR{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){B(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Tt.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class zR{constructor(){this.distance=100,this.links=new LR}load(e){B(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const FR=0;function jR(t,e,n,i,r,s){Ca(t,n,i),t.strokeStyle=ui(r,s),t.lineWidth=e,t.stroke()}function BR(t,e,n,i,r){t.canvas.draw(s=>{const o=e.getPosition();jR(s,e.retina.linksWidth??FR,o,r,n,i)})}const $R="grab",UR=0,qR=0;class HR extends ei{constructor(e,n){super(e),this._engine=n}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}interact(){var a;const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==Kr)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<UR)return;const o=e.particles.quadTree.queryCircle(r,s,u=>this.isEnabled(u));for(const u of o){const c=u.getPosition(),d=Yt(c,r);if(d>s)continue;const f=i.modes.grab.links,m=f.opacity,g=m-d*m/s;if(g<=qR)continue;const b=f.color??((a=u.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&b){const P=i.modes.grab.links;e.particles.grabLineColor=Gb(this._engine,b,P.blink,P.consent)}const S=Jf(u,void 0,e.particles.grabLineColor);S&&BR(e,u,S,g,r)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Le($R,r.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new zR);for(const i of n)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function WR(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalGrab",n=>Promise.resolve(new HR(n,t)),e)}const GR="pause";class QR extends ei{constructor(e){super(e),this.handleClickMode=n=>{if(n!==GR)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function KR(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPause",n=>Promise.resolve(new QR(n)),e)}class XR{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(B(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity;n!==void 0&&(this.quantity=ue(n)),this.particles=nn(e.particles,i=>xt({},i))}}const YR="push",JR=0;class ZR extends ei{constructor(e){super(e),this.handleClickMode=n=>{if(n!==YR)return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=G(s.quantity);if(o<=JR)return;const a=rh([void 0,...s.groups]),u=a!==void 0?i.actualOptions.particles.groups[a]:void 0,c=fn(s.particles),d=xt(u,c);i.particles.push(o,i.interactivity.mouse,d,a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new XR);for(const i of n)e.push.load(i==null?void 0:i.push)}reset(){}}async function eD(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPush",n=>Promise.resolve(new ZR(n)),e)}class tD{constructor(){this.quantity=2}load(e){if(B(e))return;const n=e.quantity;n!==void 0&&(this.quantity=ue(n))}}const nD="remove";class iD extends ei{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||n!==nD)return;const s=G(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new tD);for(const i of n)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function rD(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRemove",n=>Promise.resolve(new iD(n)),e)}class a1{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=$r.easeOutQuad}load(e){B(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class sD extends a1{constructor(){super(),this.selectors=[]}load(e){super.load(e),!B(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class oD extends a1{load(e){super.load(e),!B(e)&&(this.divs=nn(e.divs,n=>{const i=new sD;return i.load(n),i}))}}const xr="repulse",aD=0,lD=6,uD=3,cD=2,hD=0,dD=0,fD=1,Rd=.5;class pD extends ei{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse??{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<aD)return;const a=Math.pow(o/lD,uD),u=i.interactivity.mouse.clickPosition;if(u===void 0)return;const c=new bt(u.x,u.y,a),d=i.particles.quadTree.query(c,f=>this.isEnabled(f));for(const f of d){const{dx:m,dy:g,distance:b}=Rt(u,f.position),S=b**cD,P=r.speed,_=-a*P/S;if(S<=a){s.particles.push(f);const v=nt.create(m,g);v.length=_,f.velocity.setTo(v)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<hD||!r||this._processRepulse(r,s,new bt(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,u=a.particles.quadTree.query(s,P=>this.isEnabled(P)),c=a.actualOptions.interactivity.modes.repulse;if(!c)return;const{easing:d,speed:f,factor:m,maxSpeed:g}=c,b=this._engine.getEasing(d),S=((o==null?void 0:o.speed)??f)*m;for(const P of u){const{dx:_,dy:v,distance:k}=Rt(P.position,i),R=wn(b(fD-k/r)*S,dD,g),V=nt.create(k?_/k*R:S,k?v/k*R:S);P.position.addTo(V)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(u=>{const c=u,d=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth*Rd)*d,y:(c.offsetTop+c.offsetHeight*Rd)*d},m=c.offsetWidth*Rd*d,g=r.type===fo.circle?new bt(f.x,f.y,m):new Nn(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),b=o.divs,S=Fb(b,c);this._processRepulse(f,m,g,S)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!==xr)return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const a of n.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},s.duration*vt)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===Kr,r=n.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,u=r.onClick,c=u.enable,d=u.mode,f=r.onDiv;i&&o&&Le(xr,a)?this._hoverRepulse():c&&Le(xr,d)?this._clickRepulse():Tm(xr,f,(m,g)=>this._singleSelectorRepulse(m,g))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,u=s.onClick,c=xm(xr,o);if(!(c||a.enable&&r.position||u.enable&&r.clickPosition))return!1;const d=a.mode,f=u.mode;return Le(xr,d)||Le(xr,f)||c}loadModeOptions(e,...n){e.repulse||(e.repulse=new oD);for(const i of n)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function mD(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRepulse",n=>Promise.resolve(new pD(t,n)),e)}class gD{constructor(){this.factor=3,this.radius=200}load(e){B(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const yD="slow",wD=0;class vD extends ei{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Le(yD,r.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new gD);for(const i of n)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.position,s=n.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<wD||!r)return;const a=e.getPosition(),u=Yt(r,a),c=u/s,d=o.factor,{slow:f}=e;u>s||(f.inRange=!0,f.factor=c/d)}}async function _D(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalSlow",n=>Promise.resolve(new vD(n)),e)}const bD=0,ED=1,xD=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function TD(t,e,n){const{svgData:i}=t;if(!i)return"";const r=Xa(e,n);if(i.includes("fill"))return i.replace(xD,()=>r);const s=i.indexOf(">");return`${i.substring(bD,s)} fill="${r}"${i.substring(s)}`}async function sh(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,Yr().error(`${yn} loading image: ${t.source}`),e()}),n.src=t.source})}async function kD(t){if(t.type!=="svg"){await sh(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(Yr().error(`${yn} Image not found`),t.error=!0),t.loading=!1}function CD(t,e,n,i){var o;const r=TD(t,n,((o=i.opacity)==null?void 0:o.value)??ED),s={color:n,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(a=>{const u=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,d=c.createObjectURL(u),f=new Image;f.addEventListener("load",()=>{s.loaded=!0,s.element=f,a(s),c.revokeObjectURL(d)});const m=async()=>{c.revokeObjectURL(d);const g={...t,error:!1,loading:!0};await sh(g),s.loaded=!0,s.element=g.element,a(s)};f.addEventListener("error",()=>void m()),f.src=d})}const Dd=[0,4,2,1],Tv=[8,8,4,2];class SD{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;const i=0,r=0;do{n=this.data[this.pos++];for(let s=n;--s>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],n=0;const i=0,r=1;for(let o=0;e!==i;o+=e+r,e=this.data[this.pos+o])n+=e;const s=new Uint8Array(n);e=this.data[this.pos++];for(let o=0;e!==i;e=this.data[this.pos++])for(let a=e;--a>=i;s[o++]=this.data[this.pos++]);return s}skipSubBlocks(){for(const e=1,n=0;this.data[this.pos]!==n;this.pos+=this.data[this.pos]+e);this.pos++}}var xn;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})(xn||(xn={}));var ai;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})(ai||(ai={}));const Vt={x:0,y:0},ID=0,kv=.5,PD=0,Cv=0,ep=0;function l1(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}function AD(t,e,n,i){switch(t.nextByte()){case ai.GraphicsControlExtension:{const r=e.frames[n(!1)];t.pos++;const s=t.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&i(a),t.pos++;break}case ai.ApplicationExtension:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case ai.CommentExtension:{e.comments.push([n(!1),t.readSubBlocks()]);break}case ai.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function RD(t,e,n,i,r,s){const o=e.frames[i(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),u=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const d=1<<(a&7)+1;u&&(o.localColorTable=l1(t,d));const f=_=>{const{r:v,g:k,b:R}=(u?o.localColorTable:e.globalColorTable)[_];return _!==r(null)?{r:v,g:k,b:R,a:255}:{r:v,g:k,b:R,a:n?~~((v+k+R)/3):0}},m=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(_){if(_ instanceof DOMException&&_.name==="IndexSizeError")return null;throw _}})();if(m==null)throw new EvalError("GIF frame size is to large");const g=t.nextByte(),b=t.readSubBlocksBin(),S=1<<g,P=(_,v)=>{const k=_>>>3,R=_&7;return(b[k]+(b[k+1]<<8)+(b[k+2]<<16)&(1<<v)-1<<R)>>>R};if(c){for(let _=0,v=g+1,k=0,R=[[0]],V=0;V<4;V++)if(Dd[V]<o.height){let F=0,E=0,y=!1;for(;!y;){const x=_;if(_=P(k,v),k+=v+1,_===S){v=g+1,R.length=S+2;for(let C=0;C<R.length;C++)R[C]=C<S?[C]:[]}else{_>=R.length?R.push(R[x].concat(R[x][0])):x!==S&&R.push(R[x].concat(R[_][0]));for(const C of R[_]){const{r:I,g:D,b:T,a:ve}=f(C);m.data.set([I,D,T,ve],Dd[V]*o.width+Tv[V]*E+F%(o.width*4)),F+=4}R.length===1<<v&&v<12&&v++}F===o.width*4*(E+1)&&(E++,Dd[V]+Tv[V]*E>=o.height&&(y=!0))}}o.image=m,o.bitmap=await createImageBitmap(m)}else{let _=0,v=g+1,k=0,R=-4,V=!1;const F=[[0]];for(;!V;){const E=_;if(_=P(k,v),k+=v,_===S){v=g+1,F.length=S+2;for(let y=0;y<F.length;y++)F[y]=y<S?[y]:[]}else{if(_===S+1){V=!0;break}_>=F.length?F.push(F[E].concat(F[E][0])):E!==S&&F.push(F[E].concat(F[_][0]));for(const y of F[_]){const{r:x,g:C,b:I,a:D}=f(y);m.data.set([x,C,I,D],R+=4)}F.length>=1<<v&&v<12&&v++}}o.image=m,o.bitmap=await createImageBitmap(m)}}async function DD(t,e,n,i,r,s){switch(t.nextByte()){case ai.EndOfFile:return!0;case ai.Image:await RD(t,e,n,i,r);break;case ai.Extension:AD(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function OD(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function ND(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new SD(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),u=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,d=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),u&&(s.globalColorTable=l1(o,c));const f=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(R){if(R instanceof DOMException&&R.name==="IndexSizeError")return null;throw R}})();if(f==null)throw new Error("GIF frame size is to large");const{r:m,g,b}=s.globalColorTable[d];f.data.set(u?[m,g,b,255]:[0,0,0,0]);for(let R=4;R<f.data.length;R*=2)f.data.copyWithin(R,0,R);s.backgroundImage=f;let S=-1,P=!0,_=-1;const v=R=>(R&&(P=!0),S),k=R=>(R!=null&&(_=R),_);try{do P&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:xn.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),S++,_=-1,P=!1);while(!await DD(o,s,n,v,k,e));s.frames.length--;for(const R of s.frames){if(R.userInputDelayFlag&&R.delayTime===0){s.totalTime=1/0;break}s.totalTime+=R.delayTime}return s}catch(R){throw R instanceof EvalError?new Error(`error while parsing frame ${S} "${R.message}"`):R}}function MD(t){const{context:e,radius:n,particle:i,delta:r}=t,s=i.image;if(!(s!=null&&s.gifData)||!s.gif)return;const o=new OffscreenCanvas(s.gifData.width,s.gifData.height),a=o.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(Vt.x,Vt.y,o.width,o.height),i.gifLoopCount===void 0&&(i.gifLoopCount=s.gifLoopCount??ep);let u=i.gifFrame??ID;const c={x:-s.gifData.width*kv,y:-s.gifData.height*kv},d=s.gifData.frames[u];if(i.gifTime===void 0&&(i.gifTime=PD),!!d.bitmap){switch(e.scale(n/s.gifData.width,n/s.gifData.height),d.disposalMethod){case xn.UndefinedA:case xn.UndefinedB:case xn.UndefinedC:case xn.UndefinedD:case xn.Replace:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(Vt.x,Vt.y,o.width,o.height);break;case xn.Combine:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y);break;case xn.RestoreBackground:a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(Vt.x,Vt.y,o.width,o.height),s.gifData.globalColorTable.length?a.putImageData(s.gifData.backgroundImage,c.x,c.y):a.putImageData(s.gifData.frames[Cv].image,c.x+d.left,c.y+d.top);break;case xn.RestorePrevious:{const f=a.getImageData(Vt.x,Vt.y,o.width,o.height);a.drawImage(d.bitmap,d.left,d.top),e.drawImage(o,c.x,c.y),a.clearRect(Vt.x,Vt.y,o.width,o.height),a.putImageData(f,Vt.x,Vt.y)}break}if(i.gifTime+=r.value,i.gifTime>d.delayTime){if(i.gifTime-=d.delayTime,++u>=s.gifData.frames.length){if(--i.gifLoopCount<=ep)return;u=Cv,a.clearRect(Vt.x,Vt.y,o.width,o.height)}i.gifFrame=u}e.scale(s.gifData.width/n,s.gifData.height/n)}}async function VD(t){if(t.type!=="gif"){await sh(t);return}t.loading=!0;try{t.gifData=await ND(t.source),t.gifLoopCount=OD(t.gifData)??ep,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const LD=2,zD=1,FD=12,jD=1;class BD{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${yn} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:n,radius:i,particle:r,opacity:s}=e,o=r.image,a=o==null?void 0:o.element;if(o){if(n.globalAlpha=s,o.gif&&o.gifData)MD(e);else if(a){const u=o.ratio,c={x:-i,y:-i},d=i*LD;n.drawImage(a,c.x,c.y,d,d/u)}n.globalAlpha=zD}}getSidesCount(){return FD}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;if(!n)return;this._engine.images.find(r=>r.name===n.name||r.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=n.shapeData;if(!r)return;const s=n.getFillColor(),o=i.find(u=>u.name===r.name||u.source===r.src);if(!o)return;const a=r.replaceColor??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let u;o.svgData&&s?u=await CD(o,r,s,n):u={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??jD,replaceColor:a,source:r.src},u.ratio||(u.ratio=1);const c=r.fill??n.shapeFill,d=r.close??n.shapeClose,f={image:u,fill:c,close:d};n.image=f.image,n.shapeFill=f.fill,n.shapeClose=f.close})()}}class $D{constructor(){this.src="",this.gif=!1}load(e){B(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class UD{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,n){if(!(n!=null&&n.preload))return;e.preload||(e.preload=[]);const i=e.preload;for(const r of n.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new $D;o.load(r),i.push(o)}}}needsPlugin(){return!0}}const qD=3;function HD(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${yn} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-qD),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n);let i;e.gif?i=VD:i=e.replaceColor?kD:sh,await i(n)}catch{throw new Error(`${yn} ${e.name??e.src} not found`)}})}async function WD(t,e=!0){t.checkVersion("3.9.1"),HD(t);const n=new UD(t);await t.addPlugin(n,e),await t.addShape(new BD(t),e)}class GD extends rs{constructor(){super(),this.sync=!1}load(e){B(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class QD extends rs{constructor(){super(),this.sync=!1}load(e){B(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class KD{constructor(){this.count=0,this.delay=new GD,this.duration=new QD}load(e){B(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const ys=0,XD=-1,Sv=0,Iv=0;function YD(t,e,n){if(!t.life)return;const i=t.life;let r=!1;if(t.spawning)if(i.delayTime+=e.value,i.delayTime>=t.life.delay)r=!0,t.spawning=!1,i.delayTime=ys,i.time=ys;else return;if(i.duration===XD||t.spawning||(r?i.time=ys:i.time+=e.value,i.time<i.duration))return;if(i.time=ys,t.life.count>Sv&&t.life.count--,t.life.count===Sv){t.destroy();return}const s=ue(Iv,n.width),o=ue(Iv,n.width);t.position.x=Kt(s),t.position.y=Kt(o),t.spawning=!0,i.delayTime=ys,i.time=ys,t.reset();const a=t.options.life;a&&(i.delay=G(a.delay.value)*vt,i.duration=G(a.duration.value)*vt)}const Tr=0,Pv=1,Av=-1;class JD{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;r&&(e.life={delay:n.retina.reduceFactor?G(r.delay.value)*(r.delay.sync?Pv:pe())/n.retina.reduceFactor*vt:Tr,delayTime:Tr,duration:n.retina.reduceFactor?G(r.duration.value)*(r.duration.sync?Pv:pe())/n.retina.reduceFactor*vt:Tr,time:Tr,count:r.count},e.life.duration<=Tr&&(e.life.duration=Av),e.life.count<=Tr&&(e.life.count=Av),e.life&&(e.spawning=e.life.delay>Tr))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new KD);for(const i of n)e.life.load(i==null?void 0:i.life)}update(e,n){!this.isEnabled(e)||!e.life||YD(e,n,this.container.canvas.size)}}async function ZD(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("life",async n=>Promise.resolve(new JD(n)),e)}function e4(t){const{context:e,particle:n,radius:i}=t,r=n.shapeData,s=0;e.moveTo(-i,s),e.lineTo(i,s),e.lineCap=(r==null?void 0:r.cap)??"butt"}const t4=1;class n4{constructor(){this.validTypes=["line"]}draw(e){e4(e)}getSidesCount(){return t4}}async function i4(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new n4,e)}const Rv=.5;class r4{init(){}isEnabled(e){return!Jr()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,r=i.interactivity.events.onHover.parallax;if(Jr()||!r.enable)return;const s=r.force,o=n.interactivity.mouse.position;if(!o)return;const a=n.canvas.size,u={x:a.width*Rv,y:a.height*Rv},c=r.smooth,d=e.getRadius()/s,f={x:(o.x-u.x)*d,y:(o.y-u.y)*d},{offset:m}=e;m.x+=(f.x-m.x)/c,m.y+=(f.y-m.y)/c}}async function s4(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("parallax",()=>Promise.resolve(new r4),e)}const Dv=1e3,o4=1;class a4 extends Pm{constructor(e){super(e)}clear(){}init(){}interact(e){const n=this.container;e.attractDistance===void 0&&(e.attractDistance=G(e.options.move.attract.distance)*n.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),s=n.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:u,dy:c}=Rt(r,a),d=e.options.move.attract.rotate,f=u/(d.x*Dv),m=c/(d.y*Dv),g=o.size.value/e.size.value,b=o4/g;e.velocity.x-=f*g,e.velocity.y-=m*g,o.velocity.x+=f*b,o.velocity.y+=m*b}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function l4(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesAttract",n=>Promise.resolve(new a4(n)),e)}const u4=.5,c4=10,h4=0;function Ov(t,e,n,i,r,s){const o=wn(t.options.collisions.absorb.speed*r.factor/c4,h4,i);t.size.value+=o*u4,n.size.value-=o,i<=s&&(n.size.value=0,n.destroy())}function d4(t,e,n,i){const r=t.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?t.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?Ov(t,r,e,s,n,i):Ov(e,s,t,r,n,i))}const Nv=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=G(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function u1(t,e){jb(Xf(t),Xf(e)),Nv(t),Nv(e)}function f4(t,e){!t.unbreakable&&!e.unbreakable&&u1(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function p4(t,e,n,i){switch(t.options.collisions.mode){case Ws.absorb:{d4(t,e,n,i);break}case Ws.bounce:{u1(t,e);break}case Ws.destroy:{f4(t,e);break}}}const m4=2;class g4 extends Pm{constructor(e){super(e)}clear(){}init(){}interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*m4);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const u=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(u.z))>s+c)continue;const d=Yt(r,u),f=s+c;d>f||p4(e,a,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function y4(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesCollisions",n=>Promise.resolve(new g4(n)),e)}const Od=2;class w4 extends bt{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:n,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-n,y:s})||super.contains({x:r-n,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new bt(r.x,r.y,i.radius*Od);return super.intersects(s)}else if(n.size!==void 0){const s=new Nn(r.x,r.y,n.size.width*Od,n.size.height*Od);return super.intersects(s)}return!1}}class v4{constructor(){this.blur=5,this.color=new Tt,this.color.value="#000",this.enable=!1}load(e){B(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Tt.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class _4{constructor(){this.enable=!1,this.frequency=1}load(e){B(e)||(e.color!==void 0&&(this.color=Tt.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class b4{constructor(){this.blink=!1,this.color=new Tt,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new v4,this.triangles=new _4,this.width=1,this.warp=!1}load(e){B(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Tt.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const Mv=2,E4=1,lu={x:0,y:0},x4=0;function T4(t,e,n,i,r){const{dx:s,dy:o,distance:a}=Rt(t,e);if(!r||a<=n)return a;const u={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(u.x,i.width-u.x),y:Math.min(u.y,i.height-u.y)};return Math.sqrt(c.x**Mv+c.y**Mv)}class k4 extends Pm{constructor(e,n){super(e),this._setColor=i=>{if(!i.options.links)return;const r=this._linkContainer,s=i.options.links;let o=s.id===void 0?r.particles.linksColor:r.particles.linksColors.get(s.id);if(o)return;const a=s.color;o=Gb(this._engine,a,s.blink,s.consent),s.id===void 0?r.particles.linksColor=o:r.particles.linksColors.set(s.id,o)},this._linkContainer=e,this._engine=n}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<lu.x||n.y<lu.y||n.x>r.width||n.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??x4,u=s.warp;let c;u?c=new w4(n.x,n.y,a,r):c=new bt(n.x,n.y,a);const d=i.particles.quadTree.query(c);for(const f of d){const m=f.options.links;if(e===f||!(m!=null&&m.enable)||s.id!==m.id||f.spawning||f.destroyed||!f.links||e.links.some(P=>P.destination===f)||f.links.some(P=>P.destination===e))continue;const g=f.getPosition();if(g.x<lu.x||g.y<lu.y||g.x>r.width||g.y>r.height)continue;const b=T4(n,g,a,r,u&&m.warp);if(b>a)continue;const S=(E4-b/a)*o;this._setColor(e),e.links.push({destination:f,opacity:S})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new b4);for(const i of n)e.links.load(i==null?void 0:i.links)}reset(){}}async function C4(t,e=!0){await t.addInteractor("particlesLinks",async n=>Promise.resolve(new k4(n,t)),e)}function S4(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function I4(t){let e=!1;const{begin:n,end:i,engine:r,maxDistance:s,context:o,canvasSize:a,width:u,backgroundMask:c,colorLine:d,opacity:f,links:m}=t;if(Yt(n,i)<=s)Ca(o,n,i),e=!0;else if(m.warp){let b,S;const P={x:i.x-a.width,y:i.y},_=Rt(n,P);if(_.distance<=s){const v=n.y-_.dy/_.dx*n.x;b={x:0,y:v},S={x:a.width,y:v}}else{const v={x:i.x,y:i.y-a.height},k=Rt(n,v);if(k.distance<=s){const V=-(n.y-k.dy/k.dx*n.x)/(k.dy/k.dx);b={x:V,y:0},S={x:V,y:a.height}}else{const R={x:i.x-a.width,y:i.y-a.height},V=Rt(n,R);if(V.distance<=s){const F=n.y-V.dy/V.dx*n.x;b={x:-F/(V.dy/V.dx),y:F},S={x:b.x+a.width,y:b.y+a.height}}}}b&&S&&(Ca(o,n,b),Ca(o,i,S),e=!0)}if(!e)return;o.lineWidth=u,c.enable&&(o.globalCompositeOperation=c.composite),o.strokeStyle=ui(d,f);const{shadow:g}=m;if(g.enable){const b=Rn(r,g.color);b&&(o.shadowBlur=g.blur,o.shadowColor=ui(b))}o.stroke()}function P4(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=t;S4(e,n,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=ui(o,a),e.fill()}function A4(t){return t.sort((e,n)=>e-n),t.join("_")}function Vv(t,e){const n=A4(t.map(r=>r.id));let i=e.get(n);return i===void 0&&(i=pe(),e.set(n,i)),i}const Lv=0,Nd=0,zv=0,R4=.5,D4=1;class O4{constructor(e,n){this._drawLinkLine=(i,r)=>{const s=i.options.links;if(!(s!=null&&s.enable))return;const o=this._container,a=o.actualOptions,u=r.destination,c=i.getPosition(),d=u.getPosition();let f=r.opacity;o.canvas.draw(m=>{var v;let g;const b=(v=i.options.twinkle)==null?void 0:v.lines;if(b!=null&&b.enable){const k=b.frequency,R=Rn(this._engine,b.color);pe()<k&&R&&(g=R,f=G(b.opacity))}if(!g){const k=s.id!==void 0?o.particles.linksColors.get(s.id):o.particles.linksColor;g=Jf(i,u,k)}if(!g)return;const S=i.retina.linksWidth??Nd,P=i.retina.linksDistance??zv,{backgroundMask:_}=a;I4({context:m,width:S,begin:c,end:d,engine:this._engine,maxDistance:P,canvasSize:o.canvas.size,links:s,backgroundMask:_,colorLine:g,opacity:f})})},this._drawLinkTriangle=(i,r,s)=>{const o=i.options.links;if(!(o!=null&&o.enable))return;const a=o.triangles;if(!a.enable)return;const u=this._container,c=u.actualOptions,d=r.destination,f=s.destination,m=a.opacity??(r.opacity+s.opacity)*R4;m<=Lv||u.canvas.draw(g=>{const b=i.getPosition(),S=d.getPosition(),P=f.getPosition(),_=i.retina.linksDistance??zv;if(Yt(b,S)>_||Yt(P,S)>_||Yt(P,b)>_)return;let v=Rn(this._engine,a.color);if(!v){const k=o.id!==void 0?u.particles.linksColors.get(o.id):u.particles.linksColor;v=Jf(i,d,k)}v&&P4({context:g,pos1:b,pos2:S,pos3:P,backgroundMask:c.backgroundMask,colorTriangle:v,opacityTriangle:m})})},this._drawTriangles=(i,r,s,o)=>{var c,d,f;const a=s.destination;if(!((c=i.links)!=null&&c.triangles.enable&&((d=a.options.links)!=null&&d.triangles.enable)))return;const u=(f=a.links)==null?void 0:f.filter(m=>{const g=this._getLinkFrequency(a,m.destination);return a.options.links&&g<=a.options.links.frequency&&o.findIndex(S=>S.destination===m.destination)>=0});if(u!=null&&u.length)for(const m of u){const g=m.destination;this._getTriangleFrequency(r,a,g)>i.links.triangles.frequency||this._drawLinkTriangle(r,s,m)}},this._getLinkFrequency=(i,r)=>Vv([i,r],this._freqs.links),this._getTriangleFrequency=(i,r,s)=>Vv([i,r,s],this._freqs.triangles),this._container=e,this._engine=n,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:r}=n;if(!(i!=null&&i.length))return;const s=i.filter(o=>r.links&&(r.links.frequency>=D4||this._getLinkFrequency(n,o.destination)<=r.links.frequency));for(const o of s)this._drawTriangles(r,n,o,s),o.opacity>Lv&&(n.retina.linksWidth??Nd)>Nd&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this._container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*n,i.linksWidth=s*n}particleDestroyed(e){e.links=[]}}class N4{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new O4(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function M4(t,e=!0){const n=new N4(t);await t.addPlugin(n,e)}async function V4(t,e=!0){t.checkVersion("3.9.1"),await C4(t,e),await M4(t,e)}const L4=180,uu={x:0,y:0},z4=2;function F4(t,e,n){const{context:i}=t,r=n.count.numerator*n.count.denominator,s=n.count.numerator/n.count.denominator,o=L4*(s-z4)/s,a=Math.PI-Qi(o);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(uu.x,uu.y);for(let u=0;u<r;u++)i.lineTo(n.length,uu.y),i.translate(n.length,uu.y),i.rotate(a)}}const j4=5;class c1{draw(e){const{particle:n,radius:i}=e,r=this.getCenter(n,i),s=this.getSidesData(n,i);F4(e,r,s)}getSidesCount(e){const n=e.shapeData;return Math.round(G((n==null?void 0:n.sides)??j4))}}const Fv=3.5,jv=2.66,B4=3;class $4 extends c1{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,n){return{x:-n/(e.sides/Fv),y:-n/(jv/Fv)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*jv/(i/B4)}}}const U4=1.66,q4=3,H4=2;class W4 extends c1{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,n){return{x:-n,y:n/U4}}getSidesCount(){return q4}getSidesData(e,n){const i=n*H4;return{count:{denominator:2,numerator:3},length:i}}}async function G4(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new $4,e)}async function Q4(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new W4,e)}async function K4(t,e=!0){t.checkVersion("3.9.1"),await G4(t,e),await Q4(t,e)}class X4{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){B(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ue(e.speed)),e.decay!==void 0&&(this.decay=ue(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Y4 extends rs{constructor(){super(),this.animation=new X4,this.direction=Cn.clockwise,this.path=!1,this.value=0}load(e){B(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const h1=2,J4=Math.PI*h1,Z4=1,e3=360;class t3{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:Qi(G(n.value)),min:0,max:J4},e.pathRotation=n.path;let i=n.direction;switch(i===Cn.random&&(i=Math.floor(pe()*h1)>0?Cn.counterClockwise:Cn.clockwise),i){case Cn.counterClockwise:case"counterClockwise":e.rotate.status=je.decreasing;break;case Cn.clockwise:e.rotate.status=je.increasing;break}const r=n.animation;r.enable&&(e.rotate.decay=Z4-G(r.decay),e.rotate.velocity=G(r.speed)/e3*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=pe())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&(!!n.value||n.animation.enable||n.path):!1}loadOptions(e,...n){e.rotate||(e.rotate=new Y4);for(const i of n)e.rotate.load(i==null?void 0:i.rotate)}update(e,n){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(km(e,e.rotate,!1,Xr.none,n),e.rotation=e.rotate.value))}}async function n3(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("rotate",n=>Promise.resolve(new t3(n)),e)}const i3=2,r3=Math.sqrt(i3),s3=2;function o3(t){const{context:e,radius:n}=t,i=n/r3,r=i*s3;e.rect(-i,-i,r,r)}const a3=4;class l3{constructor(){this.validTypes=["edge","square"]}draw(e){o3(e)}getSidesCount(){return a3}}async function u3(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new l3,e)}const c3=2,ws={x:0,y:0};function h3(t){const{context:e,particle:n,radius:i}=t,r=n.sides,s=n.starInset??c3;e.moveTo(ws.x,ws.y-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(ws.x,ws.y-i*s),e.rotate(Math.PI/r),e.lineTo(ws.x,ws.y-i)}const d3=2,f3=5;class p3{constructor(){this.validTypes=["star"]}draw(e){h3(e)}getSidesCount(e){const n=e.shapeData;return Math.round(G((n==null?void 0:n.sides)??f3))}particleInit(e,n){const i=n.shapeData;n.starInset=G((i==null?void 0:i.inset)??d3)}}async function m3(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new p3,e)}const g3=1;class y3{constructor(e,n){this._container=e,this._engine=n}init(e){var o;const n=this._container,i=e.options,r=fn(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=G(r.width)*n.retina.pixelRatio,e.strokeOpacity=G(r.opacity??g3),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=Ka(this._engine,r.color)??e.getFillColor();s&&(e.strokeColor=Qb(s,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&Kb(e.strokeColor,n)}}async function w3(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("strokeColor",n=>Promise.resolve(new y3(n,t)),e)}async function v3(t,e=!0){t.checkVersion("3.9.1"),await s4(t,!1),await uR(t,!1),await wR(t,!1),await CR(t,!1),await VR(t,!1),await WR(t,!1),await KR(t,!1),await eD(t,!1),await rD(t,!1),await mD(t,!1),await _D(t,!1),await l4(t,!1),await y4(t,!1),await V4(t,!1),await ZA(t,!1),await nR(t,!1),await WD(t,!1),await i4(t,!1),await K4(t,!1),await u3(t,!1),await m3(t,!1),await ZD(t,!1),await n3(t,!1),await w3(t,!1),await JA(t,e)}function _3(){const[t,e]=Ge.useState(!1);return Ge.useEffect(()=>{rA(async n=>{await v3(n)}).then(()=>e(!0))},[]),t?A.jsx(iA,{id:"tsparticles",className:"pointer-events-none fixed inset-0 -z-10",options:{background:{color:"transparent"},fpsLimit:60,fullScreen:{enable:!1},detectRetina:!0,particles:{number:{value:window.innerWidth<768?30:110,density:{enable:!0,area:800}},color:{value:"#00bfff"},shape:{type:"triangle"},opacity:{value:.6},size:{value:{min:1,max:4}},links:{enable:!0,distance:150,color:"#00bfff",opacity:.3,width:1},move:{enable:!0,speed:.7,outModes:{default:"out"}}},interactivity:{events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!1},resize:!0},modes:{repulse:{distance:100,duration:.3}}}}}):null}const b3="/assets/life1-DS-gyHDz.jpg",E3="/assets/life2-DfUPci1R.jpg",x3="/assets/life3-yu6vcPbF.jpg";function T3(){const t=[b3,E3,x3];return A.jsxs("section",{className:"mb-12",children:[A.jsx("h2",{className:"text-xl font-semibold mb-4",children:"生活瞬间"}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((e,n)=>A.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-800 hover:scale-105 transition-transform duration-500",children:A.jsx("img",{src:e,alt:`生活照 ${n+1}`,className:"w-full h-48 object-cover"})},n))})]})}function k3({show:t,onClose:e,title:n,children:i}){return t?A.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/70 backdrop-blur-sm z-50 px-4",onClick:e,children:A.jsxs("div",{className:`bg-[#0b0f14] border border-gray-800 rounded-2xl max-w-4xl w-full p-8 \r
                   text-gray-200 shadow-2xl relative transition-all duration-300`,onClick:r=>r.stopPropagation(),children:[A.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-700 pb-3",children:[A.jsx("h3",{className:"text-2xl font-semibold text-tech-blue tracking-wide",children:n}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white text-2xl font-bold leading-none",children:"×"})]}),A.jsx("div",{className:"text-gray-300 text-base leading-relaxed space-y-4 max-h-[70vh] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:i})]})}):null}function C3({items:t,onOpen:e}){return A.jsxs("section",{className:"mb-8",children:[A.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"研究论文"}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((n,i)=>A.jsxs("div",{onClick:()=>e({type:"paper",data:n}),className:`group p-5 rounded-xl bg-gradient-to-br from-[#071019] to-[#0b1220]\r
                       border border-gray-800 cursor-pointer transition-all duration-500\r
                       hover:scale-[1.03] hover:shadow-[0_0_25px_rgba(14,165,255,0.25)]\r
                       overflow-hidden relative`,children:[A.jsx("div",{className:"font-medium text-white text-base mb-2 line-clamp-2 group-hover:line-clamp-none transition-all duration-300",children:n.title}),n.authors&&A.jsx("div",{className:"text-gray-400 text-sm mb-2 line-clamp-2 group-hover:line-clamp-none transition-all duration-300",children:n.authors.join("，")}),A.jsx("p",{className:"text-gray-300 text-sm leading-relaxed line-clamp-2 group-hover:line-clamp-none transition-all duration-300",children:n.desc}),A.jsx("div",{className:"absolute bottom-3 right-4 text-xs text-gray-500",children:n.year}),A.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-end justify-center pb-3 text-sm text-blue-400",children:"点击查看详情"})]},i))})]})}/*!
* sweetalert2 v11.26.3
* Released under the MIT License.
*/function d1(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function S3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Bv(t,e){return t.get(d1(t,e))}function I3(t,e,n){S3(t,e),e.set(t,n)}function P3(t,e,n){return t.set(d1(t,e),n),n}const A3=100,K={},R3=()=>{K.previousActiveElement instanceof HTMLElement?(K.previousActiveElement.focus(),K.previousActiveElement=null):document.body&&document.body.focus()},D3=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,i=window.scrollY;K.restoreFocusTimeout=setTimeout(()=>{R3(),e()},A3),window.scrollTo(n,i)}),f1="swal2-",O3=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],M=O3.reduce((t,e)=>(t[e]=f1+e,t),{}),N3=["success","warning","info","question","error"],gc=N3.reduce((t,e)=>(t[e]=f1+e,t),{}),p1="SweetAlert2:",Rm=t=>t.charAt(0).toUpperCase()+t.slice(1),Dt=t=>{console.warn(`${p1} ${typeof t=="object"?t.join(" "):t}`)},ss=t=>{console.error(`${p1} ${t}`)},$v=[],M3=t=>{$v.includes(t)||($v.push(t),Dt(t))},m1=(t,e=null)=>{M3(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},oh=t=>typeof t=="function"?t():t,Dm=t=>t&&typeof t.toPromise=="function",ml=t=>Dm(t)?t.toPromise():Promise.resolve(t),Om=t=>t&&Promise.resolve(t)===t,Mt=()=>document.body.querySelector(`.${M.container}`),gl=t=>{const e=Mt();return e?e.querySelector(t):null},rn=t=>gl(`.${t}`),ce=()=>rn(M.popup),So=()=>rn(M.icon),V3=()=>rn(M["icon-content"]),g1=()=>rn(M.title),Nm=()=>rn(M["html-container"]),y1=()=>rn(M.image),Mm=()=>rn(M["progress-steps"]),ah=()=>rn(M["validation-message"]),Yn=()=>gl(`.${M.actions} .${M.confirm}`),Io=()=>gl(`.${M.actions} .${M.cancel}`),os=()=>gl(`.${M.actions} .${M.deny}`),L3=()=>rn(M["input-label"]),Po=()=>gl(`.${M.loader}`),yl=()=>rn(M.actions),w1=()=>rn(M.footer),lh=()=>rn(M["timer-progress-bar"]),Vm=()=>rn(M.close),z3=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Lm=()=>{const t=ce();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((s,o)=>{const a=parseInt(s.getAttribute("tabindex")||"0"),u=parseInt(o.getAttribute("tabindex")||"0");return a>u?1:a<u?-1:0}),i=t.querySelectorAll(z3),r=Array.from(i).filter(s=>s.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(r))].filter(s=>Ut(s))},zm=()=>ci(document.body,M.shown)&&!ci(document.body,M["toast-shown"])&&!ci(document.body,M["no-backdrop"]),uh=()=>{const t=ce();return t?ci(t,M.toast):!1},F3=()=>{const t=ce();return t?t.hasAttribute("data-loading"):!1},sn=(t,e)=>{if(t.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),r=i.querySelector("head");r&&Array.from(r.childNodes).forEach(o=>{t.appendChild(o)});const s=i.querySelector("body");s&&Array.from(s.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},ci=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},j3=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(M).includes(n)&&!Object.values(gc).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Zt=(t,e,n)=>{if(j3(t,e),!e.customClass)return;const i=e.customClass[n];if(i){if(typeof i!="string"&&!i.forEach){Dt(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof i}"`);return}he(t,i)}},ch=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${M.popup} > .${M[e]}`);case"checkbox":return t.querySelector(`.${M.popup} > .${M.checkbox} input`);case"radio":return t.querySelector(`.${M.popup} > .${M.radio} input:checked`)||t.querySelector(`.${M.popup} > .${M.radio} input:first-child`);case"range":return t.querySelector(`.${M.popup} > .${M.range} input`);default:return t.querySelector(`.${M.popup} > .${M.input}`)}},v1=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},_1=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(t)?t.forEach(r=>{n?r.classList.add(i):r.classList.remove(i)}):n?t.classList.add(i):t.classList.remove(i)}))},he=(t,e)=>{_1(t,e,!0)},vn=(t,e)=>{_1(t,e,!1)},Li=(t,e)=>{const n=Array.from(t.children);for(let i=0;i<n.length;i++){const r=n[i];if(r instanceof HTMLElement&&ci(r,e))return r}},Ur=(t,e,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},it=(t,e="flex")=>{t&&(t.style.display=e)},kt=t=>{t&&(t.style.display="none")},Fm=(t,e="block")=>{t&&new MutationObserver(()=>{wl(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},Uv=(t,e,n,i)=>{const r=t.querySelector(e);r&&r.style.setProperty(n,i)},wl=(t,e,n="flex")=>{e?it(t,n):kt(t)},Ut=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),B3=()=>!Ut(Yn())&&!Ut(os())&&!Ut(Io()),tp=t=>t.scrollHeight>t.clientHeight,$3=(t,e)=>{let n=t;for(;n&&n!==e;){if(tp(n))return!0;n=n.parentElement}return!1},b1=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},jm=(t,e=!1)=>{const n=lh();n&&Ut(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},U3=()=>{const t=lh();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),i=e/n*100;t.style.width=`${i}%`},q3=()=>typeof window>"u"||typeof document>"u",H3=`
 <div aria-labelledby="${M.title}" aria-describedby="${M["html-container"]}" class="${M.popup}" tabindex="-1">
   <button type="button" class="${M.close}"></button>
   <ul class="${M["progress-steps"]}"></ul>
   <div class="${M.icon}"></div>
   <img class="${M.image}" />
   <h2 class="${M.title}" id="${M.title}"></h2>
   <div class="${M["html-container"]}" id="${M["html-container"]}"></div>
   <input class="${M.input}" id="${M.input}" />
   <input type="file" class="${M.file}" />
   <div class="${M.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${M.select}" id="${M.select}"></select>
   <div class="${M.radio}"></div>
   <label class="${M.checkbox}">
     <input type="checkbox" id="${M.checkbox}" />
     <span class="${M.label}"></span>
   </label>
   <textarea class="${M.textarea}" id="${M.textarea}"></textarea>
   <div class="${M["validation-message"]}" id="${M["validation-message"]}"></div>
   <div class="${M.actions}">
     <div class="${M.loader}"></div>
     <button type="button" class="${M.confirm}"></button>
     <button type="button" class="${M.deny}"></button>
     <button type="button" class="${M.cancel}"></button>
   </div>
   <div class="${M.footer}"></div>
   <div class="${M["timer-progress-bar-container"]}">
     <div class="${M["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),W3=()=>{const t=Mt();return t?(t.remove(),vn([document.documentElement,document.body],[M["no-backdrop"],M["toast-shown"],M["has-column"]]),!0):!1},kr=()=>{K.currentInstance.resetValidationMessage()},G3=()=>{const t=ce(),e=Li(t,M.input),n=Li(t,M.file),i=t.querySelector(`.${M.range} input`),r=t.querySelector(`.${M.range} output`),s=Li(t,M.select),o=t.querySelector(`.${M.checkbox} input`),a=Li(t,M.textarea);e.oninput=kr,n.onchange=kr,s.onchange=kr,o.onchange=kr,a.oninput=kr,i.oninput=()=>{kr(),r.value=i.value},i.onchange=()=>{kr(),r.value=i.value}},Q3=t=>typeof t=="string"?document.querySelector(t):t,K3=t=>{const e=ce();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},X3=t=>{window.getComputedStyle(t).direction==="rtl"&&he(Mt(),M.rtl)},Y3=t=>{const e=W3();if(q3()){ss("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=M.container,e&&he(n,M["no-transition"]),sn(n,H3),n.dataset.swal2Theme=t.theme;const i=Q3(t.target);i.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),K3(t),X3(i),G3()},Bm=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?J3(t,e):t&&sn(e,t)},J3=(t,e)=>{t.jquery?Z3(e,t):sn(e,t.toString())},Z3=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},eO=(t,e)=>{const n=yl(),i=Po();!n||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?kt(n):it(n),Zt(n,e,"actions"),tO(n,i,e),sn(i,e.loaderHtml||""),Zt(i,e,"loader"))};function tO(t,e,n){const i=Yn(),r=os(),s=Io();!i||!r||!s||(Vd(i,"confirm",n),Vd(r,"deny",n),Vd(s,"cancel",n),nO(i,r,s,n),n.reverseButtons&&(n.toast?(t.insertBefore(s,i),t.insertBefore(r,i)):(t.insertBefore(s,e),t.insertBefore(r,e),t.insertBefore(i,e))))}function nO(t,e,n,i){if(!i.buttonsStyling){vn([t,e,n],M.styled);return}he([t,e,n],M.styled),i.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),Md(t),Md(e),Md(n)}function Md(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Vd(t,e,n){const i=Rm(e);wl(t,n[`show${i}Button`],"inline-block"),sn(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=M[e],Zt(t,n,`${e}Button`)}const iO=(t,e)=>{const n=Vm();n&&(sn(n,e.closeButtonHtml||""),Zt(n,e,"closeButton"),wl(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},rO=(t,e)=>{const n=Mt();n&&(sO(n,e.backdrop),oO(n,e.position),aO(n,e.grow),Zt(n,e,"container"))};function sO(t,e){typeof e=="string"?t.style.background=e:e||he([document.documentElement,document.body],M["no-backdrop"])}function oO(t,e){e&&(e in M?he(t,M[e]):(Dt('The "position" parameter is not valid, defaulting to "center"'),he(t,M.center)))}function aO(t,e){e&&he(t,M[`grow-${e}`])}var we={innerParams:new WeakMap,domCache:new WeakMap};const lO=["input","file","range","select","radio","checkbox","textarea"],uO=(t,e)=>{const n=ce();if(!n)return;const i=we.innerParams.get(t),r=!i||e.input!==i.input;lO.forEach(s=>{const o=Li(n,M[s]);o&&(dO(s,e.inputAttributes),o.className=M[s],r&&kt(o))}),e.input&&(r&&cO(e),fO(e))},cO=t=>{if(!t.input)return;if(!Ne[t.input]){ss(`Unexpected type of input! Expected ${Object.keys(Ne).join(" | ")}, got "${t.input}"`);return}const e=E1(t.input);if(!e)return;const n=Ne[t.input](e,t);it(e),t.inputAutoFocus&&setTimeout(()=>{v1(n)})},hO=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},dO=(t,e)=>{const n=ce();if(!n)return;const i=ch(n,t);if(i){hO(i);for(const r in e)i.setAttribute(r,e[r])}},fO=t=>{if(!t.input)return;const e=E1(t.input);e&&Zt(e,t,"input")},$m=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},vl=(t,e,n)=>{if(n.inputLabel){const i=document.createElement("label"),r=M["input-label"];i.setAttribute("for",t.id),i.className=r,typeof n.customClass=="object"&&he(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},E1=t=>{const e=ce();if(e)return Li(e,M[t]||M.input)},yc=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Om(e)||Dt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Ne={};Ne.text=Ne.email=Ne.password=Ne.number=Ne.tel=Ne.url=Ne.search=Ne.date=Ne["datetime-local"]=Ne.time=Ne.week=Ne.month=(t,e)=>(yc(t,e.inputValue),vl(t,t,e),$m(t,e),t.type=e.input,t);Ne.file=(t,e)=>(vl(t,t,e),$m(t,e),t);Ne.range=(t,e)=>{const n=t.querySelector("input"),i=t.querySelector("output");return yc(n,e.inputValue),n.type=e.input,yc(i,e.inputValue),vl(n,t,e),t};Ne.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");sn(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return vl(t,t,e),t};Ne.radio=t=>(t.textContent="",t);Ne.checkbox=(t,e)=>{const n=ch(ce(),"checkbox");n.value="1",n.checked=!!e.inputValue;const i=t.querySelector("span");return sn(i,e.inputPlaceholder||e.inputLabel),n};Ne.textarea=(t,e)=>{yc(t,e.inputValue),$m(t,e),vl(t,t,e);const n=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(ce()).width),r=()=>{if(!document.body.contains(t))return;const s=t.offsetWidth+n(t);s>i?ce().style.width=`${s}px`:Ur(ce(),"width",e.width)};new MutationObserver(r).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const pO=(t,e)=>{const n=Nm();n&&(Fm(n),Zt(n,e,"htmlContainer"),e.html?(Bm(e.html,n),it(n,"block")):e.text?(n.textContent=e.text,it(n,"block")):kt(n),uO(t,e))},mO=(t,e)=>{const n=w1();n&&(Fm(n),wl(n,!!e.footer,"block"),e.footer&&Bm(e.footer,n),Zt(n,e,"footer"))},gO=(t,e)=>{const n=we.innerParams.get(t),i=So();if(!i)return;if(n&&e.icon===n.icon){Hv(i,e),qv(i,e);return}if(!e.icon&&!e.iconHtml){kt(i);return}if(e.icon&&Object.keys(gc).indexOf(e.icon)===-1){ss(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),kt(i);return}it(i),Hv(i,e),qv(i,e),he(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",x1)},qv=(t,e)=>{for(const[n,i]of Object.entries(gc))e.icon!==n&&vn(t,i);he(t,e.icon&&gc[e.icon]),vO(t,e),x1(),Zt(t,e,"icon")},x1=()=>{const t=ce();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},yO=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,wO=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Hv=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,i="";e.iconHtml?i=Wv(e.iconHtml):e.icon==="success"?(i=yO(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?i=wO:e.icon&&(i=Wv({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==i.trim()&&sn(t,i)},vO=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Uv(t,n,"background-color",e.iconColor);Uv(t,".swal2-success-ring","border-color",e.iconColor)}},Wv=t=>`<div class="${M["icon-content"]}">${t}</div>`,_O=(t,e)=>{const n=y1();if(n){if(!e.imageUrl){kt(n);return}it(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),Ur(n,"width",e.imageWidth),Ur(n,"height",e.imageHeight),n.className=M.image,Zt(n,e,"image")}};let Um=!1,T1=0,k1=0,C1=0,S1=0;const bO=t=>{t.addEventListener("mousedown",wc),document.body.addEventListener("mousemove",vc),t.addEventListener("mouseup",_c),t.addEventListener("touchstart",wc),document.body.addEventListener("touchmove",vc),t.addEventListener("touchend",_c)},EO=t=>{t.removeEventListener("mousedown",wc),document.body.removeEventListener("mousemove",vc),t.removeEventListener("mouseup",_c),t.removeEventListener("touchstart",wc),document.body.removeEventListener("touchmove",vc),t.removeEventListener("touchend",_c)},wc=t=>{const e=ce();if(t.target===e||So().contains(t.target)){Um=!0;const n=I1(t);T1=n.clientX,k1=n.clientY,C1=parseInt(e.style.insetInlineStart)||0,S1=parseInt(e.style.insetBlockStart)||0,he(e,"swal2-dragging")}},vc=t=>{const e=ce();if(Um){let{clientX:n,clientY:i}=I1(t);e.style.insetInlineStart=`${C1+(n-T1)}px`,e.style.insetBlockStart=`${S1+(i-k1)}px`}},_c=()=>{const t=ce();Um=!1,vn(t,"swal2-dragging")},I1=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},xO=(t,e)=>{const n=Mt(),i=ce();if(!(!n||!i)){if(e.toast){Ur(n,"width",e.width),i.style.width="100%";const r=Po();r&&i.insertBefore(r,So())}else Ur(i,"width",e.width);Ur(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),kt(ah()),TO(i,e),e.draggable&&!e.toast?(he(i,M.draggable),bO(i)):(vn(i,M.draggable),EO(i))}},TO=(t,e)=>{const n=e.showClass||{};t.className=`${M.popup} ${Ut(t)?n.popup:""}`,e.toast?(he([document.documentElement,document.body],M["toast-shown"]),he(t,M.toast)):he(t,M.modal),Zt(t,e,"popup"),typeof e.customClass=="string"&&he(t,e.customClass),e.icon&&he(t,M[`icon-${e.icon}`])},kO=(t,e)=>{const n=Mm();if(!n)return;const{progressSteps:i,currentProgressStep:r}=e;if(!i||i.length===0||r===void 0){kt(n);return}it(n),n.textContent="",r>=i.length&&Dt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((s,o)=>{const a=CO(s);if(n.appendChild(a),o===r&&he(a,M["active-progress-step"]),o!==i.length-1){const u=SO(e);n.appendChild(u)}})},CO=t=>{const e=document.createElement("li");return he(e,M["progress-step"]),sn(e,t),e},SO=t=>{const e=document.createElement("li");return he(e,M["progress-step-line"]),t.progressStepsDistance&&Ur(e,"width",t.progressStepsDistance),e},IO=(t,e)=>{const n=g1();n&&(Fm(n),wl(n,!!(e.title||e.titleText),"block"),e.title&&Bm(e.title,n),e.titleText&&(n.innerText=e.titleText),Zt(n,e,"title"))},P1=(t,e)=>{xO(t,e),rO(t,e),kO(t,e),gO(t,e),_O(t,e),IO(t,e),iO(t,e),pO(t,e),eO(t,e),mO(t,e);const n=ce();typeof e.didRender=="function"&&n&&e.didRender(n),K.eventEmitter.emit("didRender",n)},PO=()=>Ut(ce()),A1=()=>{var t;return(t=Yn())===null||t===void 0?void 0:t.click()},AO=()=>{var t;return(t=os())===null||t===void 0?void 0:t.click()},RO=()=>{var t;return(t=Io())===null||t===void 0?void 0:t.click()},Ao=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),R1=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},DO=(t,e,n)=>{R1(t),e.toast||(t.keydownHandler=i=>NO(e,i,n),t.keydownTarget=e.keydownListenerCapture?window:ce(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},np=(t,e)=>{var n;const i=Lm();if(i.length){t=t+e,t===-2&&(t=i.length-1),t===i.length?t=0:t===-1&&(t=i.length-1),i[t].focus();return}(n=ce())===null||n===void 0||n.focus()},D1=["ArrowRight","ArrowDown"],OO=["ArrowLeft","ArrowUp"],NO=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?MO(e,t):e.key==="Tab"?VO(e):[...D1,...OO].includes(e.key)?LO(e.key):e.key==="Escape"&&zO(e,t,n)))},MO=(t,e)=>{if(!oh(e.allowEnterKey))return;const n=ch(ce(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;A1(),t.preventDefault()}},VO=t=>{const e=t.target,n=Lm();let i=-1;for(let r=0;r<n.length;r++)if(e===n[r]){i=r;break}t.shiftKey?np(i,-1):np(i,1),t.stopPropagation(),t.preventDefault()},LO=t=>{const e=yl(),n=Yn(),i=os(),r=Io();if(!e||!n||!i||!r)return;const s=[n,i,r];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const o=D1.includes(t)?"nextElementSibling":"previousElementSibling";let a=document.activeElement;if(a){for(let u=0;u<e.children.length;u++){if(a=a[o],!a)return;if(a instanceof HTMLButtonElement&&Ut(a))break}a instanceof HTMLButtonElement&&a.focus()}},zO=(t,e,n)=>{t.preventDefault(),oh(e.allowEscapeKey)&&n(Ao.esc)};var mo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const FO=()=>{const t=Mt();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},O1=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},N1=typeof window<"u"&&!!window.GestureEvent,jO=()=>{if(N1&&!ci(document.body,M.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,he(document.body,M.iosfix),BO()}},BO=()=>{const t=Mt();if(!t)return;let e;t.ontouchstart=n=>{e=$O(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},$O=t=>{const e=t.target,n=Mt(),i=Nm();return!n||!i||UO(t)||qO(t)?!1:e===n||!tp(n)&&e instanceof HTMLElement&&!$3(e,i)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(tp(i)&&i.contains(e))},UO=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",qO=t=>t.touches&&t.touches.length>1,HO=()=>{if(ci(document.body,M.iosfix)){const t=parseInt(document.body.style.top,10);vn(document.body,M.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},WO=()=>{const t=document.createElement("div");t.className=M["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Ks=null;const GO=t=>{Ks===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Ks=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ks+WO()}px`)},QO=()=>{Ks!==null&&(document.body.style.paddingRight=`${Ks}px`,Ks=null)};function M1(t,e,n,i){uh()?Gv(t,i):(D3(n).then(()=>Gv(t,i)),R1(K)),N1?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),zm()&&(QO(),HO(),O1()),KO()}function KO(){vn([document.documentElement,document.body],[M.shown,M["height-auto"],M["no-backdrop"],M["toast-shown"]])}function zi(t){t=YO(t);const e=mo.swalPromiseResolve.get(this),n=XO(this);this.isAwaitingPromise?t.isDismissed||(_l(this),e(t)):n&&e(t)}const XO=t=>{const e=ce();if(!e)return!1;const n=we.innerParams.get(t);if(!n||ci(e,n.hideClass.popup))return!1;vn(e,n.showClass.popup),he(e,n.hideClass.popup);const i=Mt();return vn(i,n.showClass.backdrop),he(i,n.hideClass.backdrop),JO(t,e,n),!0};function V1(t){const e=mo.swalPromiseReject.get(this);_l(this),e&&e(t)}const _l=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,we.innerParams.get(t)||t._destroy())},YO=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),JO=(t,e,n)=>{var i;const r=Mt(),s=b1(e);typeof n.willClose=="function"&&n.willClose(e),(i=K.eventEmitter)===null||i===void 0||i.emit("willClose",e),s?ZO(t,e,r,n.returnFocus,n.didClose):M1(t,r,n.returnFocus,n.didClose)},ZO=(t,e,n,i,r)=>{K.swalCloseEventFinishedCallback=M1.bind(null,t,n,i,r);const s=function(o){if(o.target===e){var a;(a=K.swalCloseEventFinishedCallback)===null||a===void 0||a.call(K),delete K.swalCloseEventFinishedCallback,e.removeEventListener("animationend",s),e.removeEventListener("transitionend",s)}};e.addEventListener("animationend",s),e.addEventListener("transitionend",s)},Gv=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=K.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},go=t=>{let e=ce();if(e||new Ys,e=ce(),!e)return;const n=Po();uh()?kt(So()):eN(e,t),it(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},eN=(t,e)=>{const n=yl(),i=Po();!n||!i||(!e&&Ut(Yn())&&(e=Yn()),it(n),e&&(kt(e),i.setAttribute("data-button-to-replace",e.className),n.insertBefore(i,e)),he([t,n],M.loading))},tN=(t,e)=>{e.input==="select"||e.input==="radio"?oN(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Dm(e.inputValue)||Om(e.inputValue))&&(go(Yn()),aN(t,e))},nN=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return iN(n);case"radio":return rN(n);case"file":return sN(n);default:return e.inputAutoTrim?n.value.trim():n.value}},iN=t=>t.checked?1:0,rN=t=>t.checked?t.value:null,sN=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,oN=(t,e)=>{const n=ce();if(!n)return;const i=r=>{e.input==="select"?lN(n,bc(r),e):e.input==="radio"&&uN(n,bc(r),e)};Dm(e.inputOptions)||Om(e.inputOptions)?(go(Yn()),ml(e.inputOptions).then(r=>{t.hideLoading(),i(r)})):typeof e.inputOptions=="object"?i(e.inputOptions):ss(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},aN=(t,e)=>{const n=t.getInput();n&&(kt(n),ml(e.inputValue).then(i=>{n.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,it(n),n.focus(),t.hideLoading()}).catch(i=>{ss(`Error in inputValue promise: ${i}`),n.value="",it(n),n.focus(),t.hideLoading()}))};function lN(t,e,n){const i=Li(t,M.select);if(!i)return;const r=(s,o,a)=>{const u=document.createElement("option");u.value=a,sn(u,o),u.selected=L1(a,n.inputValue),s.appendChild(u)};e.forEach(s=>{const o=s[0],a=s[1];if(Array.isArray(a)){const u=document.createElement("optgroup");u.label=o,u.disabled=!1,i.appendChild(u),a.forEach(c=>r(u,c[1],c[0]))}else r(i,a,o)}),i.focus()}function uN(t,e,n){const i=Li(t,M.radio);if(!i)return;e.forEach(s=>{const o=s[0],a=s[1],u=document.createElement("input"),c=document.createElement("label");u.type="radio",u.name=M.radio,u.value=o,L1(o,n.inputValue)&&(u.checked=!0);const d=document.createElement("span");sn(d,a),d.className=M.label,c.appendChild(u),c.appendChild(d),i.appendChild(c)});const r=i.querySelectorAll("input");r.length&&r[0].focus()}const bc=t=>{const e=[];return t instanceof Map?t.forEach((n,i)=>{let r=n;typeof r=="object"&&(r=bc(r)),e.push([i,r])}):Object.keys(t).forEach(n=>{let i=t[n];typeof i=="object"&&(i=bc(i)),e.push([n,i])}),e},L1=(t,e)=>!!e&&e.toString()===t.toString(),cN=t=>{const e=we.innerParams.get(t);t.disableButtons(),e.input?z1(t,"confirm"):Hm(t,!0)},hN=t=>{const e=we.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?z1(t,"deny"):qm(t,!1)},dN=(t,e)=>{t.disableButtons(),e(Ao.cancel)},z1=(t,e)=>{const n=we.innerParams.get(t);if(!n.input){ss(`The "input" parameter is needed to be set when using returnInputValueOn${Rm(e)}`);return}const i=t.getInput(),r=nN(t,n);n.inputValidator?fN(t,r,e):i&&!i.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||i.validationMessage)):e==="deny"?qm(t,r):Hm(t,r)},fN=(t,e,n)=>{const i=we.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>ml(i.inputValidator(e,i.validationMessage))).then(s=>{t.enableButtons(),t.enableInput(),s?t.showValidationMessage(s):n==="deny"?qm(t,e):Hm(t,e)})},qm=(t,e)=>{const n=we.innerParams.get(t||void 0);n.showLoaderOnDeny&&go(os()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>ml(n.preDeny(e,n.validationMessage))).then(r=>{r===!1?(t.hideLoading(),_l(t)):t.close({isDenied:!0,value:typeof r>"u"?e:r})}).catch(r=>F1(t||void 0,r))):t.close({isDenied:!0,value:e})},Qv=(t,e)=>{t.close({isConfirmed:!0,value:e})},F1=(t,e)=>{t.rejectPromise(e)},Hm=(t,e)=>{const n=we.innerParams.get(t||void 0);n.showLoaderOnConfirm&&go(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>ml(n.preConfirm(e,n.validationMessage))).then(r=>{Ut(ah())||r===!1?(t.hideLoading(),_l(t)):Qv(t,typeof r>"u"?e:r)}).catch(r=>F1(t||void 0,r))):Qv(t,e)};function Ec(){const t=we.innerParams.get(this);if(!t)return;const e=we.domCache.get(this);kt(e.loader),uh()?t.icon&&it(So()):pN(e),vn([e.popup,e.actions],M.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const pN=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?it(e[0],"inline-block"):B3()&&kt(t.actions)};function j1(){const t=we.innerParams.get(this),e=we.domCache.get(this);return e?ch(e.popup,t.input):null}function B1(t,e,n){const i=we.domCache.get(t);e.forEach(r=>{i[r].disabled=n})}function $1(t,e){const n=ce();if(!(!n||!t))if(t.type==="radio"){const i=n.querySelectorAll(`[name="${M.radio}"]`);for(let r=0;r<i.length;r++)i[r].disabled=e}else t.disabled=e}function U1(){B1(this,["confirmButton","denyButton","cancelButton"],!1)}function q1(){B1(this,["confirmButton","denyButton","cancelButton"],!0)}function H1(){$1(this.getInput(),!1)}function W1(){$1(this.getInput(),!0)}function G1(t){const e=we.domCache.get(this),n=we.innerParams.get(this);sn(e.validationMessage,t),e.validationMessage.className=M["validation-message"],n.customClass&&n.customClass.validationMessage&&he(e.validationMessage,n.customClass.validationMessage),it(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",M["validation-message"]),v1(i),he(i,M.inputerror))}function Q1(){const t=we.domCache.get(this);t.validationMessage&&kt(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),vn(e,M.inputerror))}const Xs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},mN=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],gN={allowEnterKey:void 0},yN=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],K1=t=>Object.prototype.hasOwnProperty.call(Xs,t),X1=t=>mN.indexOf(t)!==-1,Y1=t=>gN[t],wN=t=>{K1(t)||Dt(`Unknown parameter "${t}"`)},vN=t=>{yN.includes(t)&&Dt(`The parameter "${t}" is incompatible with toasts`)},_N=t=>{const e=Y1(t);e&&m1(t,e)},J1=t=>{t.backdrop===!1&&t.allowOutsideClick&&Dt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Dt(`Invalid theme "${t.theme}"`);for(const e in t)wN(e),t.toast&&vN(e),_N(e)};function Z1(t){const e=Mt(),n=ce(),i=we.innerParams.get(this);if(!n||ci(n,i.hideClass.popup)){Dt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const r=bN(t),s=Object.assign({},i,r);J1(s),e.dataset.swal2Theme=s.theme,P1(this,s),we.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const bN=t=>{const e={};return Object.keys(t).forEach(n=>{X1(n)?e[n]=t[n]:Dt(`Invalid parameter to update: ${n}`)}),e};function eE(){const t=we.domCache.get(this),e=we.innerParams.get(this);if(!e){tE(this);return}t.popup&&K.swalCloseEventFinishedCallback&&(K.swalCloseEventFinishedCallback(),delete K.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),K.eventEmitter.emit("didDestroy"),EN(this)}const EN=t=>{tE(t),delete t.params,delete K.keydownHandler,delete K.keydownTarget,delete K.currentInstance},tE=t=>{t.isAwaitingPromise?(Ld(we,t),t.isAwaitingPromise=!0):(Ld(mo,t),Ld(we,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Ld=(t,e)=>{for(const n in t)t[n].delete(e)};var xN=Object.freeze({__proto__:null,_destroy:eE,close:zi,closeModal:zi,closePopup:zi,closeToast:zi,disableButtons:q1,disableInput:W1,disableLoading:Ec,enableButtons:U1,enableInput:H1,getInput:j1,handleAwaitingPromise:_l,hideLoading:Ec,rejectPromise:V1,resetValidationMessage:Q1,showValidationMessage:G1,update:Z1});const TN=(t,e,n)=>{t.toast?kN(t,e,n):(SN(e),IN(e),PN(t,e,n))},kN=(t,e,n)=>{e.popup.onclick=()=>{t&&(CN(t)||t.timer||t.input)||n(Ao.close)}},CN=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let xc=!1;const SN=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(xc=!0)}}},IN=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(xc=!0)}}},PN=(t,e,n)=>{e.container.onclick=i=>{if(xc){xc=!1;return}i.target===e.container&&oh(t.allowOutsideClick)&&n(Ao.backdrop)}},AN=t=>typeof t=="object"&&t.jquery,Kv=t=>t instanceof Element||AN(t),RN=t=>{const e={};return typeof t[0]=="object"&&!Kv(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,i)=>{const r=t[i];typeof r=="string"||Kv(r)?e[n]=r:r!==void 0&&ss(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof r}`)}),e};function DN(...t){return new this(...t)}function ON(t){class e extends this{_main(i,r){return super._main(i,Object.assign({},t,r))}}return e}const NN=()=>K.timeout&&K.timeout.getTimerLeft(),nE=()=>{if(K.timeout)return U3(),K.timeout.stop()},iE=()=>{if(K.timeout){const t=K.timeout.start();return jm(t),t}},MN=()=>{const t=K.timeout;return t&&(t.running?nE():iE())},VN=t=>{if(K.timeout){const e=K.timeout.increase(t);return jm(e,!0),e}},LN=()=>!!(K.timeout&&K.timeout.isRunning());let Xv=!1;const ip={};function zN(t="data-swal-template"){ip[t]=this,Xv||(document.body.addEventListener("click",FN),Xv=!0)}const FN=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in ip){const i=e.getAttribute(n);if(i){ip[n].fire({template:i});return}}};class jN{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const i=this._getHandlersByEventName(e);i.includes(n)||i.push(n)}once(e,n){const i=(...r)=>{this.removeListener(e,i),n.apply(this,r)};this.on(e,i)}emit(e,...n){this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,n)}catch(r){console.error(r)}})}removeListener(e,n){const i=this._getHandlersByEventName(e),r=i.indexOf(n);r>-1&&i.splice(r,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}K.eventEmitter=new jN;const BN=(t,e)=>{K.eventEmitter.on(t,e)},$N=(t,e)=>{K.eventEmitter.once(t,e)},UN=(t,e)=>{if(!t){K.eventEmitter.reset();return}e?K.eventEmitter.removeListener(t,e):K.eventEmitter.removeAllListeners(t)};var qN=Object.freeze({__proto__:null,argsToParams:RN,bindClickHandler:zN,clickCancel:RO,clickConfirm:A1,clickDeny:AO,enableLoading:go,fire:DN,getActions:yl,getCancelButton:Io,getCloseButton:Vm,getConfirmButton:Yn,getContainer:Mt,getDenyButton:os,getFocusableElements:Lm,getFooter:w1,getHtmlContainer:Nm,getIcon:So,getIconContent:V3,getImage:y1,getInputLabel:L3,getLoader:Po,getPopup:ce,getProgressSteps:Mm,getTimerLeft:NN,getTimerProgressBar:lh,getTitle:g1,getValidationMessage:ah,increaseTimer:VN,isDeprecatedParameter:Y1,isLoading:F3,isTimerRunning:LN,isUpdatableParameter:X1,isValidParameter:K1,isVisible:PO,mixin:ON,off:UN,on:BN,once:$N,resumeTimer:iE,showLoading:go,stopTimer:nE,toggleTimer:MN});class HN{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const rE=["swal-title","swal-html","swal-footer"],WN=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return eM(n),Object.assign(GN(n),QN(n),KN(n),XN(n),YN(n),JN(n),ZN(n,rE))},GN=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(i=>{Zr(i,["name","value"]);const r=i.getAttribute("name"),s=i.getAttribute("value");!r||!s||(typeof Xs[r]=="boolean"?e[r]=s!=="false":typeof Xs[r]=="object"?e[r]=JSON.parse(s):e[r]=s)}),e},QN=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(i=>{const r=i.getAttribute("name"),s=i.getAttribute("value");!r||!s||(e[r]=new Function(`return ${s}`)())}),e},KN=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(i=>{Zr(i,["type","color","aria-label"]);const r=i.getAttribute("type");!r||!["confirm","cancel","deny"].includes(r)||(e[`${r}ButtonText`]=i.innerHTML,e[`show${Rm(r)}Button`]=!0,i.hasAttribute("color")&&(e[`${r}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${r}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},XN=t=>{const e={},n=t.querySelector("swal-image");return n&&(Zr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},YN=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Zr(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},JN=t=>{const e={},n=t.querySelector("swal-input");n&&(Zr(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=Array.from(t.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(r=>{Zr(r,["value"]);const s=r.getAttribute("value");if(!s)return;const o=r.innerHTML;e.inputOptions[s]=o})),e},ZN=(t,e)=>{const n={};for(const i in e){const r=e[i],s=t.querySelector(r);s&&(Zr(s,[]),n[r.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},eM=t=>{const e=rE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const i=n.tagName.toLowerCase();e.includes(i)||Dt(`Unrecognized element <${i}>`)})},Zr=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Dt([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},sE=10,tM=t=>{const e=Mt(),n=ce();typeof t.willOpen=="function"&&t.willOpen(n),K.eventEmitter.emit("willOpen",n);const r=window.getComputedStyle(document.body).overflowY;rM(e,n,t),setTimeout(()=>{nM(e,n)},sE),zm()&&(iM(e,t.scrollbarPadding,r),FO()),!uh()&&!K.previousActiveElement&&(K.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),K.eventEmitter.emit("didOpen",n)},Tc=t=>{const e=ce();if(t.target!==e)return;const n=Mt();e.removeEventListener("animationend",Tc),e.removeEventListener("transitionend",Tc),n.style.overflowY="auto",vn(n,M["no-transition"])},nM=(t,e)=>{b1(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Tc),e.addEventListener("transitionend",Tc)):t.style.overflowY="auto"},iM=(t,e,n)=>{jO(),e&&n!=="hidden"&&GO(n),setTimeout(()=>{t.scrollTop=0})},rM=(t,e,n)=>{he(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),it(e,"grid"),setTimeout(()=>{he(e,n.showClass.popup),e.style.removeProperty("opacity")},sE)):it(e,"grid"),he([document.documentElement,document.body],M.shown),n.heightAuto&&n.backdrop&&!n.toast&&he([document.documentElement,document.body],M["height-auto"])};var Yv={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function sM(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=Yv.email),t.input==="url"&&(t.inputValidator=Yv.url))}function oM(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Dt('Target parameter is not valid, defaulting to "body"'),t.target="body")}function aM(t){sM(t),t.showLoaderOnConfirm&&!t.preConfirm&&Dt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),oM(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),Y3(t)}let Bn;var cu=new WeakMap;class ze{constructor(...e){if(I3(this,cu,void 0),typeof window>"u")return;Bn=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,P3(cu,this,this._main(Bn.params))}_main(e,n={}){if(J1(Object.assign({},n,e)),K.currentInstance){const s=mo.swalPromiseResolve.get(K.currentInstance),{isAwaitingPromise:o}=K.currentInstance;K.currentInstance._destroy(),o||s({isDismissed:!0}),zm()&&O1()}K.currentInstance=Bn;const i=uM(e,n);aM(i),Object.freeze(i),K.timeout&&(K.timeout.stop(),delete K.timeout),clearTimeout(K.restoreFocusTimeout);const r=cM(Bn);return P1(Bn,i),we.innerParams.set(Bn,i),lM(Bn,r,i)}then(e){return Bv(cu,this).then(e)}finally(e){return Bv(cu,this).finally(e)}}const lM=(t,e,n)=>new Promise((i,r)=>{const s=o=>{t.close({isDismissed:!0,dismiss:o,isConfirmed:!1,isDenied:!1})};mo.swalPromiseResolve.set(t,i),mo.swalPromiseReject.set(t,r),e.confirmButton.onclick=()=>{cN(t)},e.denyButton.onclick=()=>{hN(t)},e.cancelButton.onclick=()=>{dN(t,s)},e.closeButton.onclick=()=>{s(Ao.close)},TN(n,e,s),DO(K,n,s),tN(t,n),tM(n),hM(K,n,s),dM(e,n),setTimeout(()=>{e.container.scrollTop=0})}),uM=(t,e)=>{const n=WN(t),i=Object.assign({},Xs,e,n,t);return i.showClass=Object.assign({},Xs.showClass,i.showClass),i.hideClass=Object.assign({},Xs.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},cM=t=>{const e={popup:ce(),container:Mt(),actions:yl(),confirmButton:Yn(),denyButton:os(),cancelButton:Io(),loader:Po(),closeButton:Vm(),validationMessage:ah(),progressSteps:Mm()};return we.domCache.set(t,e),e},hM=(t,e,n)=>{const i=lh();kt(i),e.timer&&(t.timeout=new HN(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(it(i),Zt(i,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&jm(e.timer)})))},dM=(t,e)=>{if(!e.toast){if(!oh(e.allowEnterKey)){m1("allowEnterKey"),mM();return}fM(t)||pM(t,e)||np(-1,1)}},fM=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Ut(n))return n.focus(),!0;return!1},pM=(t,e)=>e.focusDeny&&Ut(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Ut(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Ut(t.confirmButton)?(t.confirmButton.focus(),!0):!1,mM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};ze.prototype.disableButtons=q1;ze.prototype.enableButtons=U1;ze.prototype.getInput=j1;ze.prototype.disableInput=W1;ze.prototype.enableInput=H1;ze.prototype.hideLoading=Ec;ze.prototype.disableLoading=Ec;ze.prototype.showValidationMessage=G1;ze.prototype.resetValidationMessage=Q1;ze.prototype.close=zi;ze.prototype.closePopup=zi;ze.prototype.closeModal=zi;ze.prototype.closeToast=zi;ze.prototype.rejectPromise=V1;ze.prototype.update=Z1;ze.prototype._destroy=eE;Object.assign(ze,qN);Object.keys(xN).forEach(t=>{ze[t]=function(...e){return Bn&&Bn[t]?Bn[t](...e):null}});ze.DismissReason=Ao;ze.version="11.26.3";const Ys=ze;Ys.default=Ys;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Za={_origin:"https://api.emailjs.com"},gM=(t,e="https://api.emailjs.com")=>{Za._userID=t,Za._origin=e},oE=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Jv{constructor(e){this.status=e.status,this.text=e.responseText}}const aE=(t,e,n={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new Jv(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new Jv(o))}),s.open("POST",Za._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),yM=(t,e,n,i)=>{const r=i||Za._userID;return oE(r,t,e),aE("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},wM=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},vM=(t,e,n,i)=>{const r=i||Za._userID,s=wM(n);oE(r,t,e);const o=new FormData(s);return o.append("lib_version","3.2.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",r),aE("/api/v1.0/email/send-form",o)},_M={init:gM,send:yM,sendForm:vM},bM=()=>{};var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},EM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,g=c&63;u||(g=64,o||(m=64)),i.push(n[d],n[f],n[m],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||f==null)throw new xM;const m=s<<2|a>>4;if(i.push(m),c!==64){const g=a<<4&240|c>>2;if(i.push(g),f!==64){const b=c<<6&192|f;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TM=function(t){const e=lE(t);return uE.encodeByteArray(e,!0)},kc=function(t){return TM(t).replace(/\./g,"")},kM=function(t){try{return uE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=()=>CM().__FIREBASE_DEFAULTS__,IM=()=>{if(typeof process>"u"||typeof Zv>"u")return;const t=Zv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kM(t[1]);return e&&JSON.parse(e)},Wm=()=>{try{return bM()||SM()||IM()||PM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AM=t=>{var e,n;return(n=(e=Wm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},RM=t=>{const e=AM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},cE=()=>{var t;return(t=Wm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OM(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[kc(JSON.stringify(n)),kc(JSON.stringify(o)),""].join(".")}const Sa={};function MM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sa))Sa[e]?t.emulator.push(e):t.prod.push(e);return t}function VM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let e_=!1;function LM(t,e){if(typeof window>"u"||typeof document>"u"||!Gm(window.location.host)||Sa[t]===e||Sa[t]||e_)return;Sa[t]=e;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=MM().prod.length>0;function o(){const m=document.getElementById(i);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{e_=!0,o()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=VM(i),g=n("text"),b=document.getElementById(g)||document.createElement("span"),S=n("learnmore"),P=document.getElementById(S)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const k=m.element;a(k),d(P,S);const R=c();u(v,_),k.append(v,b,P,R),document.body.appendChild(k)}s?(b.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FM(){var e;const t=(e=Wm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jM(){return!FM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BM(){try{return typeof indexedDB=="object"}catch{return!1}}function $M(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="FirebaseError";class Ro extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=UM,Object.setPrototypeOf(this,Ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hE.prototype.create)}}class hE{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?qM(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Ro(r,a,i)}}function qM(t,e){return t.replace(HM,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const HM=/\{\$([^}]+)}/g;function Cc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(t_(s)&&t_(o)){if(!Cc(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function t_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t){return t&&t._delegate?t._delegate:t}class el{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new DM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QM(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ir){return this.instances.has(e)}getOptions(e=Ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ir){return this.component?this.component.multipleInstances?e:Ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GM(t){return t===Ir?void 0:t}function QM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const XM={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},YM=ae.INFO,JM={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},ZM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=JM[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dE{constructor(e){this.name=e,this._logLevel=YM,this._logHandler=ZM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const eV=(t,e)=>e.some(n=>t instanceof n);let n_,i_;function tV(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nV(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fE=new WeakMap,rp=new WeakMap,pE=new WeakMap,zd=new WeakMap,Qm=new WeakMap;function iV(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ki(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fE.set(n,t)}).catch(()=>{}),Qm.set(e,t),e}function rV(t){if(rp.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rp.set(t,e)}let sp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sV(t){sp=t(sp)}function oV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Fd(this),e,...n);return pE.set(i,e.sort?e.sort():[e]),Ki(i)}:nV().includes(t)?function(...e){return t.apply(Fd(this),e),Ki(fE.get(this))}:function(...e){return Ki(t.apply(Fd(this),e))}}function aV(t){return typeof t=="function"?oV(t):(t instanceof IDBTransaction&&rV(t),eV(t,tV())?new Proxy(t,sp):t)}function Ki(t){if(t instanceof IDBRequest)return iV(t);if(zd.has(t))return zd.get(t);const e=aV(t);return e!==t&&(zd.set(t,e),Qm.set(e,t)),e}const Fd=t=>Qm.get(t);function lV(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Ki(o);return i&&o.addEventListener("upgradeneeded",u=>{i(Ki(o.result),u.oldVersion,u.newVersion,Ki(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const uV=["get","getKey","getAll","getAllKeys","count"],cV=["put","add","delete","clear"],jd=new Map;function r_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=cV.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||uV.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&u.done]))[0]};return jd.set(e,s),s}sV(t=>({...t,get:(e,n,i)=>r_(e,n)||t.get(e,n,i),has:(e,n)=>!!r_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dV(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function dV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const op="@firebase/app",s_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new dE("@firebase/app"),fV="@firebase/app-compat",pV="@firebase/analytics-compat",mV="@firebase/analytics",gV="@firebase/app-check-compat",yV="@firebase/app-check",wV="@firebase/auth",vV="@firebase/auth-compat",_V="@firebase/database",bV="@firebase/data-connect",EV="@firebase/database-compat",xV="@firebase/functions",TV="@firebase/functions-compat",kV="@firebase/installations",CV="@firebase/installations-compat",SV="@firebase/messaging",IV="@firebase/messaging-compat",PV="@firebase/performance",AV="@firebase/performance-compat",RV="@firebase/remote-config",DV="@firebase/remote-config-compat",OV="@firebase/storage",NV="@firebase/storage-compat",MV="@firebase/firestore",VV="@firebase/ai",LV="@firebase/firestore-compat",zV="firebase",FV="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]",jV={[op]:"fire-core",[fV]:"fire-core-compat",[mV]:"fire-analytics",[pV]:"fire-analytics-compat",[yV]:"fire-app-check",[gV]:"fire-app-check-compat",[wV]:"fire-auth",[vV]:"fire-auth-compat",[_V]:"fire-rtdb",[bV]:"fire-data-connect",[EV]:"fire-rtdb-compat",[xV]:"fire-fn",[TV]:"fire-fn-compat",[kV]:"fire-iid",[CV]:"fire-iid-compat",[SV]:"fire-fcm",[IV]:"fire-fcm-compat",[PV]:"fire-perf",[AV]:"fire-perf-compat",[RV]:"fire-rc",[DV]:"fire-rc-compat",[OV]:"fire-gcs",[NV]:"fire-gcs-compat",[MV]:"fire-fst",[LV]:"fire-fst-compat",[VV]:"fire-vertex","fire-js":"fire-js",[zV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,BV=new Map,lp=new Map;function o_(t,e){try{t.container.addComponent(e)}catch(n){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ic(t){const e=t.name;if(lp.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,t);for(const n of Sc.values())o_(n,t);for(const n of BV.values())o_(n,t);return!0}function $V(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function UV(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new hE("app","Firebase",qV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new el("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=FV;function mE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:ap,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Xi.create("bad-app-name",{appName:String(r)});if(n||(n=cE()),!n)throw Xi.create("no-options");const s=Sc.get(r);if(s){if(Cc(n,s.options)&&Cc(i,s.config))return s;throw Xi.create("duplicate-app",{appName:r})}const o=new KM(r);for(const u of lp.values())o.addComponent(u);const a=new HV(n,i,o);return Sc.set(r,a),a}function GV(t=ap){const e=Sc.get(t);if(!e&&t===ap&&cE())return mE();if(!e)throw Xi.create("no-app",{appName:t});return e}function Js(t,e,n){let i=jV[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const o=[`Unable to register library "${i}" with version "${e}":`];r&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(o.join(" "));return}Ic(new el(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="firebase-heartbeat-database",KV=1,tl="firebase-heartbeat-store";let Bd=null;function gE(){return Bd||(Bd=lV(QV,KV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),Bd}async function XV(t){try{const n=(await gE()).transaction(tl),i=await n.objectStore(tl).get(yE(t));return await n.done,i}catch(e){if(e instanceof Ro)gi.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gi.warn(n.message)}}}async function a_(t,e){try{const i=(await gE()).transaction(tl,"readwrite");await i.objectStore(tl).put(e,yE(t)),await i.done}catch(n){if(n instanceof Ro)gi.warn(n.message);else{const i=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gi.warn(i.message)}}}function yE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=1024,JV=30;class ZV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new t5(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=l_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>JV){const o=n5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){gi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l_(),{heartbeatsToSend:i,unsentEntries:r}=e5(this._heartbeatsCache.heartbeats),s=kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return gi.warn(n),""}}}function l_(){return new Date().toISOString().substring(0,10)}function e5(t,e=YV){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),u_(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),u_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class t5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BM()?$M().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function u_(t){return kc(JSON.stringify({version:2,heartbeats:t})).length}function n5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t){Ic(new el("platform-logger",e=>new hV(e),"PRIVATE")),Ic(new el("heartbeat",e=>new ZV(e),"PRIVATE")),Js(op,s_,t),Js(op,s_,"esm2020"),Js("fire-js","")}i5("");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,wE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,y){function x(){}x.prototype=y.prototype,E.F=y.prototype,E.prototype=new x,E.prototype.constructor=E,E.D=function(C,I,D){for(var T=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)T[ve-2]=arguments[ve];return y.prototype[I].apply(C,T)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,y,x){x||(x=0);const C=Array(16);if(typeof y=="string")for(var I=0;I<16;++I)C[I]=y.charCodeAt(x++)|y.charCodeAt(x++)<<8|y.charCodeAt(x++)<<16|y.charCodeAt(x++)<<24;else for(I=0;I<16;++I)C[I]=y[x++]|y[x++]<<8|y[x++]<<16|y[x++]<<24;y=E.g[0],x=E.g[1],I=E.g[2];let D=E.g[3],T;T=y+(D^x&(I^D))+C[0]+3614090360&4294967295,y=x+(T<<7&4294967295|T>>>25),T=D+(I^y&(x^I))+C[1]+3905402710&4294967295,D=y+(T<<12&4294967295|T>>>20),T=I+(x^D&(y^x))+C[2]+606105819&4294967295,I=D+(T<<17&4294967295|T>>>15),T=x+(y^I&(D^y))+C[3]+3250441966&4294967295,x=I+(T<<22&4294967295|T>>>10),T=y+(D^x&(I^D))+C[4]+4118548399&4294967295,y=x+(T<<7&4294967295|T>>>25),T=D+(I^y&(x^I))+C[5]+1200080426&4294967295,D=y+(T<<12&4294967295|T>>>20),T=I+(x^D&(y^x))+C[6]+2821735955&4294967295,I=D+(T<<17&4294967295|T>>>15),T=x+(y^I&(D^y))+C[7]+4249261313&4294967295,x=I+(T<<22&4294967295|T>>>10),T=y+(D^x&(I^D))+C[8]+1770035416&4294967295,y=x+(T<<7&4294967295|T>>>25),T=D+(I^y&(x^I))+C[9]+2336552879&4294967295,D=y+(T<<12&4294967295|T>>>20),T=I+(x^D&(y^x))+C[10]+4294925233&4294967295,I=D+(T<<17&4294967295|T>>>15),T=x+(y^I&(D^y))+C[11]+2304563134&4294967295,x=I+(T<<22&4294967295|T>>>10),T=y+(D^x&(I^D))+C[12]+1804603682&4294967295,y=x+(T<<7&4294967295|T>>>25),T=D+(I^y&(x^I))+C[13]+4254626195&4294967295,D=y+(T<<12&4294967295|T>>>20),T=I+(x^D&(y^x))+C[14]+2792965006&4294967295,I=D+(T<<17&4294967295|T>>>15),T=x+(y^I&(D^y))+C[15]+1236535329&4294967295,x=I+(T<<22&4294967295|T>>>10),T=y+(I^D&(x^I))+C[1]+4129170786&4294967295,y=x+(T<<5&4294967295|T>>>27),T=D+(x^I&(y^x))+C[6]+3225465664&4294967295,D=y+(T<<9&4294967295|T>>>23),T=I+(y^x&(D^y))+C[11]+643717713&4294967295,I=D+(T<<14&4294967295|T>>>18),T=x+(D^y&(I^D))+C[0]+3921069994&4294967295,x=I+(T<<20&4294967295|T>>>12),T=y+(I^D&(x^I))+C[5]+3593408605&4294967295,y=x+(T<<5&4294967295|T>>>27),T=D+(x^I&(y^x))+C[10]+38016083&4294967295,D=y+(T<<9&4294967295|T>>>23),T=I+(y^x&(D^y))+C[15]+3634488961&4294967295,I=D+(T<<14&4294967295|T>>>18),T=x+(D^y&(I^D))+C[4]+3889429448&4294967295,x=I+(T<<20&4294967295|T>>>12),T=y+(I^D&(x^I))+C[9]+568446438&4294967295,y=x+(T<<5&4294967295|T>>>27),T=D+(x^I&(y^x))+C[14]+3275163606&4294967295,D=y+(T<<9&4294967295|T>>>23),T=I+(y^x&(D^y))+C[3]+4107603335&4294967295,I=D+(T<<14&4294967295|T>>>18),T=x+(D^y&(I^D))+C[8]+1163531501&4294967295,x=I+(T<<20&4294967295|T>>>12),T=y+(I^D&(x^I))+C[13]+2850285829&4294967295,y=x+(T<<5&4294967295|T>>>27),T=D+(x^I&(y^x))+C[2]+4243563512&4294967295,D=y+(T<<9&4294967295|T>>>23),T=I+(y^x&(D^y))+C[7]+1735328473&4294967295,I=D+(T<<14&4294967295|T>>>18),T=x+(D^y&(I^D))+C[12]+2368359562&4294967295,x=I+(T<<20&4294967295|T>>>12),T=y+(x^I^D)+C[5]+4294588738&4294967295,y=x+(T<<4&4294967295|T>>>28),T=D+(y^x^I)+C[8]+2272392833&4294967295,D=y+(T<<11&4294967295|T>>>21),T=I+(D^y^x)+C[11]+1839030562&4294967295,I=D+(T<<16&4294967295|T>>>16),T=x+(I^D^y)+C[14]+4259657740&4294967295,x=I+(T<<23&4294967295|T>>>9),T=y+(x^I^D)+C[1]+2763975236&4294967295,y=x+(T<<4&4294967295|T>>>28),T=D+(y^x^I)+C[4]+1272893353&4294967295,D=y+(T<<11&4294967295|T>>>21),T=I+(D^y^x)+C[7]+4139469664&4294967295,I=D+(T<<16&4294967295|T>>>16),T=x+(I^D^y)+C[10]+3200236656&4294967295,x=I+(T<<23&4294967295|T>>>9),T=y+(x^I^D)+C[13]+681279174&4294967295,y=x+(T<<4&4294967295|T>>>28),T=D+(y^x^I)+C[0]+3936430074&4294967295,D=y+(T<<11&4294967295|T>>>21),T=I+(D^y^x)+C[3]+3572445317&4294967295,I=D+(T<<16&4294967295|T>>>16),T=x+(I^D^y)+C[6]+76029189&4294967295,x=I+(T<<23&4294967295|T>>>9),T=y+(x^I^D)+C[9]+3654602809&4294967295,y=x+(T<<4&4294967295|T>>>28),T=D+(y^x^I)+C[12]+3873151461&4294967295,D=y+(T<<11&4294967295|T>>>21),T=I+(D^y^x)+C[15]+530742520&4294967295,I=D+(T<<16&4294967295|T>>>16),T=x+(I^D^y)+C[2]+3299628645&4294967295,x=I+(T<<23&4294967295|T>>>9),T=y+(I^(x|~D))+C[0]+4096336452&4294967295,y=x+(T<<6&4294967295|T>>>26),T=D+(x^(y|~I))+C[7]+1126891415&4294967295,D=y+(T<<10&4294967295|T>>>22),T=I+(y^(D|~x))+C[14]+2878612391&4294967295,I=D+(T<<15&4294967295|T>>>17),T=x+(D^(I|~y))+C[5]+4237533241&4294967295,x=I+(T<<21&4294967295|T>>>11),T=y+(I^(x|~D))+C[12]+1700485571&4294967295,y=x+(T<<6&4294967295|T>>>26),T=D+(x^(y|~I))+C[3]+2399980690&4294967295,D=y+(T<<10&4294967295|T>>>22),T=I+(y^(D|~x))+C[10]+4293915773&4294967295,I=D+(T<<15&4294967295|T>>>17),T=x+(D^(I|~y))+C[1]+2240044497&4294967295,x=I+(T<<21&4294967295|T>>>11),T=y+(I^(x|~D))+C[8]+1873313359&4294967295,y=x+(T<<6&4294967295|T>>>26),T=D+(x^(y|~I))+C[15]+4264355552&4294967295,D=y+(T<<10&4294967295|T>>>22),T=I+(y^(D|~x))+C[6]+2734768916&4294967295,I=D+(T<<15&4294967295|T>>>17),T=x+(D^(I|~y))+C[13]+1309151649&4294967295,x=I+(T<<21&4294967295|T>>>11),T=y+(I^(x|~D))+C[4]+4149444226&4294967295,y=x+(T<<6&4294967295|T>>>26),T=D+(x^(y|~I))+C[11]+3174756917&4294967295,D=y+(T<<10&4294967295|T>>>22),T=I+(y^(D|~x))+C[2]+718787259&4294967295,I=D+(T<<15&4294967295|T>>>17),T=x+(D^(I|~y))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(I+(T<<21&4294967295|T>>>11))&4294967295,E.g[2]=E.g[2]+I&4294967295,E.g[3]=E.g[3]+D&4294967295}i.prototype.v=function(E,y){y===void 0&&(y=E.length);const x=y-this.blockSize,C=this.C;let I=this.h,D=0;for(;D<y;){if(I==0)for(;D<=x;)r(this,E,D),D+=this.blockSize;if(typeof E=="string"){for(;D<y;)if(C[I++]=E.charCodeAt(D++),I==this.blockSize){r(this,C),I=0;break}}else for(;D<y;)if(C[I++]=E[D++],I==this.blockSize){r(this,C),I=0;break}}this.h=I,this.o+=y},i.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;y=this.o*8;for(var x=E.length-8;x<E.length;++x)E[x]=y&255,y/=256;for(this.v(E),E=Array(16),y=0,x=0;x<4;++x)for(let C=0;C<32;C+=8)E[y++]=this.g[x]>>>C&255;return E};function s(E,y){var x=a;return Object.prototype.hasOwnProperty.call(x,E)?x[E]:x[E]=y(E)}function o(E,y){this.h=y;const x=[];let C=!0;for(let I=E.length-1;I>=0;I--){const D=E[I]|0;C&&D==y||(x[I]=D,C=!1)}this.g=x}var a={};function u(E){return-128<=E&&E<128?s(E,function(y){return new o([y|0],y<0?-1:0)}):new o([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return P(c(-E));const y=[];let x=1;for(let C=0;E>=x;C++)y[C]=E/x|0,x*=4294967296;return new o(y,0)}function d(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return P(d(E.substring(1),y));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=c(Math.pow(y,8));let C=f;for(let D=0;D<E.length;D+=8){var I=Math.min(8,E.length-D);const T=parseInt(E.substring(D,D+I),y);I<8?(I=c(Math.pow(y,I)),C=C.j(I).add(c(T))):(C=C.j(x),C=C.add(c(T)))}return C}var f=u(0),m=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(S(this))return-P(this).m();let E=0,y=1;for(let x=0;x<this.g.length;x++){const C=this.i(x);E+=(C>=0?C:4294967296+C)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(b(this))return"0";if(S(this))return"-"+P(this).toString(E);const y=c(Math.pow(E,6));var x=this;let C="";for(;;){const I=R(x,y).g;x=_(x,I.j(y));let D=((x.g.length>0?x.g[0]:x.h)>>>0).toString(E);if(x=I,b(x))return D+C;for(;D.length<6;)D="0"+D;C=D+C}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function b(E){if(E.h!=0)return!1;for(let y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function S(E){return E.h==-1}t.l=function(E){return E=_(this,E),S(E)?-1:b(E)?0:1};function P(E){const y=E.g.length,x=[];for(let C=0;C<y;C++)x[C]=~E.g[C];return new o(x,~E.h).add(m)}t.abs=function(){return S(this)?P(this):this},t.add=function(E){const y=Math.max(this.g.length,E.g.length),x=[];let C=0;for(let I=0;I<=y;I++){let D=C+(this.i(I)&65535)+(E.i(I)&65535),T=(D>>>16)+(this.i(I)>>>16)+(E.i(I)>>>16);C=T>>>16,D&=65535,T&=65535,x[I]=T<<16|D}return new o(x,x[x.length-1]&-2147483648?-1:0)};function _(E,y){return E.add(P(y))}t.j=function(E){if(b(this)||b(E))return f;if(S(this))return S(E)?P(this).j(P(E)):P(P(this).j(E));if(S(E))return P(this.j(P(E)));if(this.l(g)<0&&E.l(g)<0)return c(this.m()*E.m());const y=this.g.length+E.g.length,x=[];for(var C=0;C<2*y;C++)x[C]=0;for(C=0;C<this.g.length;C++)for(let I=0;I<E.g.length;I++){const D=this.i(C)>>>16,T=this.i(C)&65535,ve=E.i(I)>>>16,ti=E.i(I)&65535;x[2*C+2*I]+=T*ti,v(x,2*C+2*I),x[2*C+2*I+1]+=D*ti,v(x,2*C+2*I+1),x[2*C+2*I+1]+=T*ve,v(x,2*C+2*I+1),x[2*C+2*I+2]+=D*ve,v(x,2*C+2*I+2)}for(E=0;E<y;E++)x[E]=x[2*E+1]<<16|x[2*E];for(E=y;E<2*y;E++)x[E]=0;return new o(x,0)};function v(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function k(E,y){this.g=E,this.h=y}function R(E,y){if(b(y))throw Error("division by zero");if(b(E))return new k(f,f);if(S(E))return y=R(P(E),y),new k(P(y.g),P(y.h));if(S(y))return y=R(E,P(y)),new k(P(y.g),y.h);if(E.g.length>30){if(S(E)||S(y))throw Error("slowDivide_ only works with positive integers.");for(var x=m,C=y;C.l(E)<=0;)x=V(x),C=V(C);var I=F(x,1),D=F(C,1);for(C=F(C,2),x=F(x,2);!b(C);){var T=D.add(C);T.l(E)<=0&&(I=I.add(x),D=T),C=F(C,1),x=F(x,1)}return y=_(E,I.j(y)),new k(I,y)}for(I=f;E.l(y)>=0;){for(x=Math.max(1,Math.floor(E.m()/y.m())),C=Math.ceil(Math.log(x)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),D=c(x),T=D.j(y);S(T)||T.l(E)>0;)x-=C,D=c(x),T=D.j(y);b(D)&&(D=m),I=I.add(D),E=_(E,T)}return new k(I,E)}t.B=function(E){return R(this,E).h},t.and=function(E){const y=Math.max(this.g.length,E.g.length),x=[];for(let C=0;C<y;C++)x[C]=this.i(C)&E.i(C);return new o(x,this.h&E.h)},t.or=function(E){const y=Math.max(this.g.length,E.g.length),x=[];for(let C=0;C<y;C++)x[C]=this.i(C)|E.i(C);return new o(x,this.h|E.h)},t.xor=function(E){const y=Math.max(this.g.length,E.g.length),x=[];for(let C=0;C<y;C++)x[C]=this.i(C)^E.i(C);return new o(x,this.h^E.h)};function V(E){const y=E.g.length+1,x=[];for(let C=0;C<y;C++)x[C]=E.i(C)<<1|E.i(C-1)>>>31;return new o(x,E.h)}function F(E,y){const x=y>>5;y%=32;const C=E.g.length-x,I=[];for(let D=0;D<C;D++)I[D]=y>0?E.i(D+x)>>>y|E.i(D+x+1)<<32-y:E.i(D+x);return new o(I,E.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,wE=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Yi=o}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vE,pa,_E,Du,up,bE,EE,xE;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof hu=="object"&&hu];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function r(l,h){if(h)e:{var p=i;l=l.split(".");for(var w=0;w<l.length-1;w++){var O=l[w];if(!(O in p))break e;p=p[O]}l=l[l.length-1],w=p[l],h=h(w),h!=w&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}r("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(l){return l||function(h){var p=[],w;for(w in h)Object.prototype.hasOwnProperty.call(h,w)&&p.push([w,h[w]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function u(l,h,p){return l.call.apply(l.bind,arguments)}function c(l,h,p){return c=u,c.apply(null,arguments)}function d(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function f(l,h){function p(){}p.prototype=h.prototype,l.Z=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Ob=function(w,O,N){for(var $=Array(arguments.length-2),te=2;te<arguments.length;te++)$[te-2]=arguments[te];return h.prototype[O].apply(w,$)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function g(l){const h=l.length;if(h>0){const p=Array(h);for(let w=0;w<h;w++)p[w]=l[w];return p}return[]}function b(l,h){for(let w=1;w<arguments.length;w++){const O=arguments[w];var p=typeof O;if(p=p!="object"?p:O?Array.isArray(O)?"array":p:"null",p=="array"||p=="object"&&typeof O.length=="number"){p=l.length||0;const N=O.length||0;l.length=p+N;for(let $=0;$<N;$++)l[p+$]=O[$]}else l.push(O)}}class S{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function P(l){o.setTimeout(()=>{throw l},0)}function _(){var l=E;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,p){const w=k.get();w.set(h,p),this.h?this.h.next=w:this.g=w,this.h=w}}var k=new S(()=>new R,l=>l.reset());class R{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let V,F=!1,E=new v,y=()=>{const l=Promise.resolve(void 0);V=()=>{l.then(x)}};function x(){for(var l;l=_();){try{l.h.call(l.g)}catch(p){P(p)}var h=k;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}F=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};o.addEventListener("test",p,h),o.removeEventListener("test",p,h)}catch{}return l}();function T(l){return/^[\s\xa0]*$/.test(l)}function ve(l,h){I.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}f(ve,I),ve.prototype.init=function(l,h){const p=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ti="closure_listenable_"+(Math.random()*1e6|0),Lo=0;function zo(l,h,p,w,O){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!w,this.ha=O,this.key=++Lo,this.da=this.fa=!1}function q(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Y(l,h,p){for(const w in l)h.call(p,l[w],w,l)}function ee(l,h){for(const p in l)h.call(void 0,l[p],p,l)}function Te(l){const h={};for(const p in l)h[p]=l[p];return h}const Oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fr(l,h){let p,w;for(let O=1;O<arguments.length;O++){w=arguments[O];for(p in w)l[p]=w[p];for(let N=0;N<Oe.length;N++)p=Oe[N],Object.prototype.hasOwnProperty.call(w,p)&&(l[p]=w[p])}}function on(l){this.src=l,this.g={},this.h=0}on.prototype.add=function(l,h,p,w,O){const N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);const $=_n(l,h,w,O);return $>-1?(h=l[$],p||(h.fa=!1)):(h=new zo(h,this.src,N,!!w,O),h.fa=p,l.push(h)),h};function pr(l,h){const p=h.type;if(p in l.g){var w=l.g[p],O=Array.prototype.indexOf.call(w,h,void 0),N;(N=O>=0)&&Array.prototype.splice.call(w,O,1),N&&(q(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function _n(l,h,p,w){for(let O=0;O<l.length;++O){const N=l[O];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==w)return O}return-1}var _i="closure_lm_"+(Math.random()*1e6|0),Th={};function Ig(l,h,p,w,O){if(Array.isArray(h)){for(let N=0;N<h.length;N++)Ig(l,h[N],p,w,O);return null}return p=Rg(p),l&&l[ti]?l.J(h,p,a(w)?!!w.capture:!1,O):Kx(l,h,p,!1,w,O)}function Kx(l,h,p,w,O,N){if(!h)throw Error("Invalid event type");const $=a(O)?!!O.capture:!!O;let te=Ch(l);if(te||(l[_i]=te=new on(l)),p=te.add(h,p,w,$,N),p.proxy)return p;if(w=Xx(),p.proxy=w,w.src=l,w.listener=p,l.addEventListener)D||(O=$),O===void 0&&(O=!1),l.addEventListener(h.toString(),w,O);else if(l.attachEvent)l.attachEvent(Ag(h.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Xx(){function l(p){return h.call(l.src,l.listener,p)}const h=Yx;return l}function Pg(l,h,p,w,O){if(Array.isArray(h))for(var N=0;N<h.length;N++)Pg(l,h[N],p,w,O);else w=a(w)?!!w.capture:!!w,p=Rg(p),l&&l[ti]?(l=l.i,N=String(h).toString(),N in l.g&&(h=l.g[N],p=_n(h,p,w,O),p>-1&&(q(h[p]),Array.prototype.splice.call(h,p,1),h.length==0&&(delete l.g[N],l.h--)))):l&&(l=Ch(l))&&(h=l.g[h.toString()],l=-1,h&&(l=_n(h,p,w,O)),(p=l>-1?h[l]:null)&&kh(p))}function kh(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ti])pr(h.i,l);else{var p=l.type,w=l.proxy;h.removeEventListener?h.removeEventListener(p,w,l.capture):h.detachEvent?h.detachEvent(Ag(p),w):h.addListener&&h.removeListener&&h.removeListener(w),(p=Ch(h))?(pr(p,l),p.h==0&&(p.src=null,h[_i]=null)):q(l)}}}function Ag(l){return l in Th?Th[l]:Th[l]="on"+l}function Yx(l,h){if(l.da)l=!0;else{h=new ve(h,this);const p=l.listener,w=l.ha||l.src;l.fa&&kh(l),l=p.call(w,h)}return l}function Ch(l){return l=l[_i],l instanceof on?l:null}var Sh="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rg(l){return typeof l=="function"?l:(l[Sh]||(l[Sh]=function(h){return l.handleEvent(h)}),l[Sh])}function ht(){C.call(this),this.i=new on(this),this.M=this,this.G=null}f(ht,C),ht.prototype[ti]=!0,ht.prototype.removeEventListener=function(l,h,p,w){Pg(this,l,h,p,w)};function Ct(l,h){var p,w=l.G;if(w)for(p=[];w;w=w.G)p.push(w);if(l=l.M,w=h.type||h,typeof h=="string")h=new I(h,l);else if(h instanceof I)h.target=h.target||l;else{var O=h;h=new I(w,l),fr(h,O)}O=!0;let N,$;if(p)for($=p.length-1;$>=0;$--)N=h.g=p[$],O=Cl(N,w,!0,h)&&O;if(N=h.g=l,O=Cl(N,w,!0,h)&&O,O=Cl(N,w,!1,h)&&O,p)for($=0;$<p.length;$++)N=h.g=p[$],O=Cl(N,w,!1,h)&&O}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const p=l.g[h];for(let w=0;w<p.length;w++)q(p[w]);delete l.g[h],l.h--}}this.G=null},ht.prototype.J=function(l,h,p,w){return this.i.add(String(l),h,!1,p,w)},ht.prototype.K=function(l,h,p,w){return this.i.add(String(l),h,!0,p,w)};function Cl(l,h,p,w){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let O=!0;for(let N=0;N<h.length;++N){const $=h[N];if($&&!$.da&&$.capture==p){const te=$.listener,He=$.ha||$.src;$.fa&&pr(l.i,$),O=te.call(He,w)!==!1&&O}}return O&&!w.defaultPrevented}function Jx(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(l,h||0)}function Dg(l){l.g=Jx(()=>{l.g=null,l.i&&(l.i=!1,Dg(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Zx extends C{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Dg(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fo(l){C.call(this),this.h=l,this.g={}}f(Fo,C);var Og=[];function Ng(l){Y(l.g,function(h,p){this.g.hasOwnProperty(p)&&kh(h)},l),l.g={}}Fo.prototype.N=function(){Fo.Z.N.call(this),Ng(this)},Fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ih=o.JSON.stringify,eT=o.JSON.parse,tT=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Mg(){}function Vg(){}var jo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ph(){I.call(this,"d")}f(Ph,I);function Ah(){I.call(this,"c")}f(Ah,I);var mr={},Lg=null;function Sl(){return Lg=Lg||new ht}mr.Ia="serverreachability";function zg(l){I.call(this,mr.Ia,l)}f(zg,I);function Bo(l){const h=Sl();Ct(h,new zg(h))}mr.STAT_EVENT="statevent";function Fg(l,h){I.call(this,mr.STAT_EVENT,l),this.stat=h}f(Fg,I);function St(l){const h=Sl();Ct(h,new Fg(h,l))}mr.Ja="timingevent";function jg(l,h){I.call(this,mr.Ja,l),this.size=h}f(jg,I);function $o(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},h)}function Uo(){this.g=!0}Uo.prototype.ua=function(){this.g=!1};function nT(l,h,p,w,O,N){l.info(function(){if(l.g)if(N){var $="",te=N.split("&");for(let me=0;me<te.length;me++){var He=te[me].split("=");if(He.length>1){const Ye=He[0];He=He[1];const Ln=Ye.split("_");$=Ln.length>=2&&Ln[1]=="type"?$+(Ye+"="+He+"&"):$+(Ye+"=redacted&")}}}else $=null;else $=N;return"XMLHTTP REQ ("+w+") [attempt "+O+"]: "+h+`
`+p+`
`+$})}function iT(l,h,p,w,O,N,$){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+O+"]: "+h+`
`+p+`
`+N+" "+$})}function ds(l,h,p,w){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+sT(l,p)+(w?" "+w:"")})}function rT(l,h){l.info(function(){return"TIMEOUT: "+h})}Uo.prototype.info=function(){};function sT(l,h){if(!l.g)return h;if(!h)return null;try{const N=JSON.parse(h);if(N){for(l=0;l<N.length;l++)if(Array.isArray(N[l])){var p=N[l];if(!(p.length<2)){var w=p[1];if(Array.isArray(w)&&!(w.length<1)){var O=w[0];if(O!="noop"&&O!="stop"&&O!="close")for(let $=1;$<w.length;$++)w[$]=""}}}}return Ih(N)}catch{return h}}var Il={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$g;function Rh(){}f(Rh,Mg),Rh.prototype.g=function(){return new XMLHttpRequest},$g=new Rh;function qo(l){return encodeURIComponent(String(l))}function oT(l){var h=1;l=l.split(":");const p=[];for(;h>0&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function bi(l,h,p,w){this.j=l,this.i=h,this.l=p,this.S=w||1,this.V=new Fo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ug}function Ug(){this.i=null,this.g="",this.h=!1}var qg={},Dh={};function Oh(l,h,p){l.M=1,l.A=Al(Vn(h)),l.u=p,l.R=!0,Hg(l,null)}function Hg(l,h){l.F=Date.now(),Pl(l),l.B=Vn(l.A);var p=l.B,w=l.S;Array.isArray(w)||(w=[String(w)]),ry(p.i,"t",w),l.C=0,p=l.j.L,l.h=new Ug,l.g=Ey(l.j,p?h:null,!l.u),l.P>0&&(l.O=new Zx(c(l.Y,l,l.g),l.P)),h=l.V,p=l.g,w=l.ba;var O="readystatechange";Array.isArray(O)||(O&&(Og[0]=O.toString()),O=Og);for(let N=0;N<O.length;N++){const $=Ig(p,O[N],w||h.handleEvent,!1,h.h||h);if(!$)break;h.g[$.key]=$}h=l.J?Te(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),Bo(),nT(l.i,l.v,l.B,l.l,l.S,l.u)}bi.prototype.ba=function(l){l=l.target;const h=this.O;h&&Ti(l)==3?h.j():this.Y(l)},bi.prototype.Y=function(l){try{if(l==this.g)e:{const te=Ti(this.g),He=this.g.ya(),me=this.g.ca();if(!(te<3)&&(te!=3||this.g&&(this.h.h||this.g.la()||hy(this.g)))){this.K||te!=4||He==7||(He==8||me<=0?Bo(3):Bo(2)),Nh(this);var h=this.g.ca();this.X=h;var p=aT(this);if(this.o=h==200,iT(this.i,this.v,this.B,this.l,this.S,te,h),this.o){if(this.U&&!this.L){t:{if(this.g){var w,O=this.g;if((w=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(w)){var N=w;break t}}N=null}if(l=N)ds(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mh(this,l);else{this.o=!1,this.m=3,St(12),gr(this),Ho(this);break e}}if(this.R){l=!0;let Ye;for(;!this.K&&this.C<p.length;)if(Ye=lT(this,p),Ye==Dh){te==4&&(this.m=4,St(14),l=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==qg){this.m=4,St(15),ds(this.i,this.l,p,"[Invalid Chunk]"),l=!1;break}else ds(this.i,this.l,Ye,null),Mh(this,Ye);if(Wg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),te!=4||p.length!=0||this.h.h||(this.m=1,St(16),l=!1),this.o=this.o&&l,!l)ds(this.i,this.l,p,"[Invalid Chunked Response]"),gr(this),Ho(this);else if(p.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Uh($),$.P=!0,St(11))}}else ds(this.i,this.l,p,null),Mh(this,p);te==4&&gr(this),this.o&&!this.K&&(te==4?wy(this.j,this):(this.o=!1,Pl(this)))}else ET(this.g),h==400&&p.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),gr(this),Ho(this)}}}catch{}finally{}};function aT(l){if(!Wg(l))return l.g.la();const h=hy(l.g);if(h==="")return"";let p="";const w=h.length,O=Ti(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return gr(l),Ho(l),"";l.h.i=new o.TextDecoder}for(let N=0;N<w;N++)l.h.h=!0,p+=l.h.i.decode(h[N],{stream:!(O&&N==w-1)});return h.length=0,l.h.g+=p,l.C=0,l.h.g}function Wg(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function lT(l,h){var p=l.C,w=h.indexOf(`
`,p);return w==-1?Dh:(p=Number(h.substring(p,w)),isNaN(p)?qg:(w+=1,w+p>h.length?Dh:(h=h.slice(w,w+p),l.C=w+p,h)))}bi.prototype.cancel=function(){this.K=!0,gr(this)};function Pl(l){l.T=Date.now()+l.H,Gg(l,l.H)}function Gg(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=$o(c(l.aa,l),h)}function Nh(l){l.D&&(o.clearTimeout(l.D),l.D=null)}bi.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(rT(this.i,this.B),this.M!=2&&(Bo(),St(17)),gr(this),this.m=2,Ho(this)):Gg(this,this.T-l)};function Ho(l){l.j.I==0||l.K||wy(l.j,l)}function gr(l){Nh(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,Ng(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function Mh(l,h){try{var p=l.j;if(p.I!=0&&(p.g==l||Vh(p.h,l))){if(!l.L&&Vh(p.h,l)&&p.I==3){try{var w=p.Ba.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var O=w;if(O[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<l.F)Ml(p),Ol(p);else break e;$h(p),St(18)}}else p.xa=O[1],0<p.xa-p.K&&O[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=$o(c(p.Va,p),6e3));Xg(p.h)<=1&&p.ta&&(p.ta=void 0)}else wr(p,11)}else if((l.L||p.g==l)&&Ml(p),!T(h))for(O=p.Ba.g.parse(h),h=0;h<O.length;h++){let me=O[h];const Ye=me[0];if(!(Ye<=p.K))if(p.K=Ye,me=me[1],p.I==2)if(me[0]=="c"){p.M=me[1],p.ba=me[2];const Ln=me[3];Ln!=null&&(p.ka=Ln,p.j.info("VER="+p.ka));const vr=me[4];vr!=null&&(p.za=vr,p.j.info("SVER="+p.za));const ki=me[5];ki!=null&&typeof ki=="number"&&ki>0&&(w=1.5*ki,p.O=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const Ci=l.g;if(Ci){const Ll=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ll){var N=w.h;N.g||Ll.indexOf("spdy")==-1&&Ll.indexOf("quic")==-1&&Ll.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Lh(N,N.h),N.h=null))}if(w.G){const qh=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;qh&&(w.wa=qh,_e(w.J,w.G,qh))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-l.F,p.j.info("Handshake RTT: "+p.T+"ms")),w=p;var $=l;if(w.na=by(w,w.L?w.ba:null,w.W),$.L){Yg(w.h,$);var te=$,He=w.O;He&&(te.H=He),te.D&&(Nh(te),Pl(te)),w.g=$}else gy(w);p.i.length>0&&Nl(p)}else me[0]!="stop"&&me[0]!="close"||wr(p,7);else p.I==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?wr(p,7):Bh(p):me[0]!="noop"&&p.l&&p.l.qa(me),p.A=0)}}Bo(4)}catch{}}var uT=class{constructor(l,h){this.g=l,this.map=h}};function Qg(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Xg(l){return l.h?1:l.g?l.g.size:0}function Vh(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Lh(l,h){l.g?l.g.add(h):l.h=h}function Yg(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Qg.prototype.cancel=function(){if(this.i=Jg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Jg(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const p of l.g.values())h=h.concat(p.G);return h}return g(l.i)}var Zg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cT(l,h){if(l){l=l.split("&");for(let p=0;p<l.length;p++){const w=l[p].indexOf("=");let O,N=null;w>=0?(O=l[p].substring(0,w),N=l[p].substring(w+1)):O=l[p],h(O,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Ei(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof Ei?(this.l=l.l,Wo(this,l.j),this.o=l.o,this.g=l.g,Go(this,l.u),this.h=l.h,zh(this,sy(l.i)),this.m=l.m):l&&(h=String(l).match(Zg))?(this.l=!1,Wo(this,h[1]||"",!0),this.o=Qo(h[2]||""),this.g=Qo(h[3]||"",!0),Go(this,h[4]),this.h=Qo(h[5]||"",!0),zh(this,h[6]||"",!0),this.m=Qo(h[7]||"")):(this.l=!1,this.i=new Xo(null,this.l))}Ei.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(Ko(h,ey,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ko(h,ey,!0),"@"),l.push(qo(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&l.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Ko(p,p.charAt(0)=="/"?fT:dT,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Ko(p,mT)),l.join("")},Ei.prototype.resolve=function(l){const h=Vn(this);let p=!!l.j;p?Wo(h,l.j):p=!!l.o,p?h.o=l.o:p=!!l.g,p?h.g=l.g:p=l.u!=null;var w=l.h;if(p)Go(h,l.u);else if(p=!!l.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var O=h.h.lastIndexOf("/");O!=-1&&(w=h.h.slice(0,O+1)+w)}if(O=w,O==".."||O==".")w="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){w=O.lastIndexOf("/",0)==0,O=O.split("/");const N=[];for(let $=0;$<O.length;){const te=O[$++];te=="."?w&&$==O.length&&N.push(""):te==".."?((N.length>1||N.length==1&&N[0]!="")&&N.pop(),w&&$==O.length&&N.push("")):(N.push(te),w=!0)}w=N.join("/")}else w=O}return p?h.h=w:p=l.i.toString()!=="",p?zh(h,sy(l.i)):p=!!l.m,p&&(h.m=l.m),h};function Vn(l){return new Ei(l)}function Wo(l,h,p){l.j=p?Qo(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Go(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function zh(l,h,p){h instanceof Xo?(l.i=h,gT(l.i,l.l)):(p||(h=Ko(h,pT)),l.i=new Xo(h,l.l))}function _e(l,h,p){l.i.set(h,p)}function Al(l){return _e(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Qo(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ko(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,hT),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function hT(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ey=/[#\/\?@]/g,dT=/[#\?:]/g,fT=/[#\?]/g,pT=/[#\?@]/g,mT=/#/g;function Xo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function yr(l){l.g||(l.g=new Map,l.h=0,l.i&&cT(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Xo.prototype,t.add=function(l,h){yr(this),this.i=null,l=fs(this,l);let p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function ty(l,h){yr(l),h=fs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function ny(l,h){return yr(l),h=fs(l,h),l.g.has(h)}t.forEach=function(l,h){yr(this),this.g.forEach(function(p,w){p.forEach(function(O){l.call(h,O,w,this)},this)},this)};function iy(l,h){yr(l);let p=[];if(typeof h=="string")ny(l,h)&&(p=p.concat(l.g.get(fs(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)p=p.concat(l[h]);return p}t.set=function(l,h){return yr(this),this.i=null,l=fs(this,l),ny(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=iy(this,l),l.length>0?String(l[0]):h):h};function ry(l,h,p){ty(l,h),p.length>0&&(l.i=null,l.g.set(fs(l,h),g(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let w=0;w<h.length;w++){var p=h[w];const O=qo(p);p=iy(this,p);for(let N=0;N<p.length;N++){let $=O;p[N]!==""&&($+="="+qo(p[N])),l.push($)}}return this.i=l.join("&")};function sy(l){const h=new Xo;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function fs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function gT(l,h){h&&!l.j&&(yr(l),l.i=null,l.g.forEach(function(p,w){const O=w.toLowerCase();w!=O&&(ty(this,w),ry(this,O,p))},l)),l.j=h}function yT(l,h){const p=new Uo;if(o.Image){const w=new Image;w.onload=d(xi,p,"TestLoadImage: loaded",!0,h,w),w.onerror=d(xi,p,"TestLoadImage: error",!1,h,w),w.onabort=d(xi,p,"TestLoadImage: abort",!1,h,w),w.ontimeout=d(xi,p,"TestLoadImage: timeout",!1,h,w),o.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else h(!1)}function wT(l,h){const p=new Uo,w=new AbortController,O=setTimeout(()=>{w.abort(),xi(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:w.signal}).then(N=>{clearTimeout(O),N.ok?xi(p,"TestPingServer: ok",!0,h):xi(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),xi(p,"TestPingServer: error",!1,h)})}function xi(l,h,p,w,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),w(p)}catch{}}function vT(){this.g=new tT}function Fh(l){this.i=l.Sb||null,this.h=l.ab||!1}f(Fh,Mg),Fh.prototype.g=function(){return new Rl(this.i,this.h)};function Rl(l,h){ht.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Rl,ht),t=Rl.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,Jo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yo(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Jo(this)),this.g&&(this.readyState=3,Jo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oy(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function oy(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Yo(this):Jo(this),this.readyState==3&&oy(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Yo(this))},t.Na=function(l){this.g&&(this.response=l,Yo(this))},t.ga=function(){this.g&&Yo(this)};function Yo(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Jo(l)}t.setRequestHeader=function(l,h){this.A.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Jo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ay(l){let h="";return Y(l,function(p,w){h+=w,h+=":",h+=p,h+=`\r
`}),h}function jh(l,h,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=ay(p),typeof l=="string"?p!=null&&qo(p):_e(l,h,p))}function Ae(l){ht.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ae,ht);var _T=/^https?$/i,bT=["POST","PUT"];t=Ae.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,h,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$g.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){ly(this,N);return}if(l=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var O in w)p.set(O,w[O]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const N of w.keys())p.set(N,w.get(N));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),O=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(bT,h,void 0)>=0)||w||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,$]of p)this.g.setRequestHeader(N,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(N){ly(this,N)}};function ly(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,uy(l),Dl(l)}function uy(l){l.A||(l.A=!0,Ct(l,"complete"),Ct(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,Ct(this,"complete"),Ct(this,"abort"),Dl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dl(this,!0)),Ae.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?cy(this):this.Xa())},t.Xa=function(){cy(this)};function cy(l){if(l.h&&typeof s<"u"){if(l.v&&Ti(l)==4)setTimeout(l.Ca.bind(l),0);else if(Ct(l,"readystatechange"),Ti(l)==4){l.h=!1;try{const N=l.ca();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var w;if(w=N===0){let $=String(l.D).match(Zg)[1]||null;!$&&o.self&&o.self.location&&($=o.self.location.protocol.slice(0,-1)),w=!_T.test($?$.toLowerCase():"")}p=w}if(p)Ct(l,"complete"),Ct(l,"success");else{l.o=6;try{var O=Ti(l)>2?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.ca()+"]",uy(l)}}finally{Dl(l)}}}}function Dl(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const p=l.g;l.g=null,h||Ct(l,"ready");try{p.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ti(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),eT(h)}};function hy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ET(l){const h={};l=(l.g&&Ti(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(T(l[w]))continue;var p=oT(l[w]);const O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const N=h[O]||[];h[O]=N,N.push(p)}ee(h,function(w){return w.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zo(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function dy(l){this.za=0,this.i=[],this.j=new Uo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zo("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zo("baseRetryDelayMs",5e3,l),this.Za=Zo("retryDelaySeedMs",1e4,l),this.Ta=Zo("forwardChannelMaxRetries",2,l),this.va=Zo("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Qg(l&&l.concurrentRequestLimit),this.Ba=new vT,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dy.prototype,t.ka=8,t.I=1,t.connect=function(l,h,p,w){St(0),this.W=l,this.H=h||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.J=by(this,null,this.W),Nl(this)};function Bh(l){if(fy(l),l.I==3){var h=l.V++,p=Vn(l.J);if(_e(p,"SID",l.M),_e(p,"RID",h),_e(p,"TYPE","terminate"),ea(l,p),h=new bi(l,l.j,h),h.M=2,h.A=Al(Vn(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!p&&o.Image&&(new Image().src=h.A,p=!0),p||(h.g=Ey(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Pl(h)}_y(l)}function Ol(l){l.g&&(Uh(l),l.g.cancel(),l.g=null)}function fy(l){Ol(l),l.v&&(o.clearTimeout(l.v),l.v=null),Ml(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Nl(l){if(!Kg(l.h)&&!l.m){l.m=!0;var h=l.Ea;V||y(),F||(V(),F=!0),E.add(h,l),l.D=0}}function xT(l,h){return Xg(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=$o(c(l.Ea,l,h),vy(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const O=new bi(this,this.j,l);let N=this.o;if(this.U&&(N?(N=Te(N),fr(N,this.U)):N=this.U),this.u!==null||this.R||(O.J=N,N=null),this.S)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,h>4096){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=my(this,O,h),p=Vn(this.J),_e(p,"RID",l),_e(p,"CVER",22),this.G&&_e(p,"X-HTTP-Session-Id",this.G),ea(this,p),N&&(this.R?h="headers="+qo(ay(N))+"&"+h:this.u&&jh(p,this.u,N)),Lh(this.h,O),this.Ra&&_e(p,"TYPE","init"),this.S?(_e(p,"$req",h),_e(p,"SID","null"),O.U=!0,Oh(O,p,null)):Oh(O,p,h),this.I=2}}else this.I==3&&(l?py(this,l):this.i.length==0||Kg(this.h)||py(this))};function py(l,h){var p;h?p=h.l:p=l.V++;const w=Vn(l.J);_e(w,"SID",l.M),_e(w,"RID",p),_e(w,"AID",l.K),ea(l,w),l.u&&l.o&&jh(w,l.u,l.o),p=new bi(l,l.j,p,l.D+1),l.u===null&&(p.J=l.o),h&&(l.i=h.G.concat(l.i)),h=my(l,p,1e3),p.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Lh(l.h,p),Oh(p,w,h)}function ea(l,h){l.H&&Y(l.H,function(p,w){_e(h,w,p)}),l.l&&Y({},function(p,w){_e(h,w,p)})}function my(l,h,p){p=Math.min(l.i.length,p);const w=l.l?c(l.l.Ka,l.l,l):null;e:{var O=l.i;let te=-1;for(;;){const He=["count="+p];te==-1?p>0?(te=O[0].g,He.push("ofs="+te)):te=0:He.push("ofs="+te);let me=!0;for(let Ye=0;Ye<p;Ye++){var N=O[Ye].g;const Ln=O[Ye].map;if(N-=te,N<0)te=Math.max(0,O[Ye].g-100),me=!1;else try{N="req"+N+"_"||"";try{var $=Ln instanceof Map?Ln:Object.entries(Ln);for(const[vr,ki]of $){let Ci=ki;a(ki)&&(Ci=Ih(ki)),He.push(N+vr+"="+encodeURIComponent(Ci))}}catch(vr){throw He.push(N+"type="+encodeURIComponent("_badmap")),vr}}catch{w&&w(Ln)}}if(me){$=He.join("&");break e}}$=void 0}return l=l.i.splice(0,p),h.G=l,$}function gy(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;V||y(),F||(V(),F=!0),E.add(h,l),l.A=0}}function $h(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=$o(c(l.Da,l),vy(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,yy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=$o(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Ol(this),yy(this))};function Uh(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function yy(l){l.g=new bi(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=Vn(l.na);_e(h,"RID","rpc"),_e(h,"SID",l.M),_e(h,"AID",l.K),_e(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&_e(h,"TO",l.ia),_e(h,"TYPE","xmlhttp"),ea(l,h),l.u&&l.o&&jh(h,l.u,l.o),l.O&&(l.g.H=l.O);var p=l.g;l=l.ba,p.M=1,p.A=Al(Vn(h)),p.u=null,p.R=!0,Hg(p,l)}t.Va=function(){this.C!=null&&(this.C=null,Ol(this),$h(this),St(19))};function Ml(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function wy(l,h){var p=null;if(l.g==h){Ml(l),Uh(l),l.g=null;var w=2}else if(Vh(l.h,h))p=h.G,Yg(l.h,h),w=1;else return;if(l.I!=0){if(h.o)if(w==1){p=h.u?h.u.length:0,h=Date.now()-h.F;var O=l.D;w=Sl(),Ct(w,new jg(w,p)),Nl(l)}else gy(l);else if(O=h.m,O==3||O==0&&h.X>0||!(w==1&&xT(l,h)||w==2&&$h(l)))switch(p&&p.length>0&&(h=l.h,h.i=h.i.concat(p)),O){case 1:wr(l,5);break;case 4:wr(l,10);break;case 3:wr(l,6);break;default:wr(l,2)}}}function vy(l,h){let p=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(p*=2),p*h}function wr(l,h){if(l.j.info("Error code "+h),h==2){var p=c(l.bb,l),w=l.Ua;const O=!w;w=new Ei(w||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Wo(w,"https"),Al(w),O?yT(w.toString(),p):wT(w.toString(),p)}else St(2);l.I=0,l.l&&l.l.pa(h),_y(l),fy(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function _y(l){if(l.I=0,l.ja=[],l.l){const h=Jg(l.h);(h.length!=0||l.i.length!=0)&&(b(l.ja,h),b(l.ja,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.oa()}}function by(l,h,p){var w=p instanceof Ei?Vn(p):new Ei(p);if(w.g!="")h&&(w.g=h+"."+w.g),Go(w,w.u);else{var O=o.location;w=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;const N=new Ei(null);w&&Wo(N,w),h&&(N.g=h),O&&Go(N,O),p&&(N.h=p),w=N}return p=l.G,h=l.wa,p&&h&&_e(w,p,h),_e(w,"VER",l.ka),ea(l,w),w}function Ey(l,h,p){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new Ae(new Fh({ab:p})):new Ae(l.ma),h.Fa(l.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xy(){}t=xy.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Vl(){}Vl.prototype.g=function(l,h){return new qt(l,h)};function qt(l,h){ht.call(this),this.g=new dy(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!T(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!T(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ps(this)}f(qt,ht),qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Bh(this.g)},qt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.v&&(p={},p.__data__=Ih(l),l=p);h.i.push(new uT(h.Ya++,l)),h.I==3&&Nl(h)},qt.prototype.N=function(){this.g.l=null,delete this.j,Bh(this.g),delete this.g,qt.Z.N.call(this)};function Ty(l){Ph.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}f(Ty,Ph);function ky(){Ah.call(this),this.status=1}f(ky,Ah);function ps(l){this.g=l}f(ps,xy),ps.prototype.ra=function(){Ct(this.g,"a")},ps.prototype.qa=function(l){Ct(this.g,new Ty(l))},ps.prototype.pa=function(l){Ct(this.g,new ky)},ps.prototype.oa=function(){Ct(this.g,"b")},Vl.prototype.createWebChannel=Vl.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,xE=function(){return new Vl},EE=function(){return Sl()},bE=mr,up={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Il.NO_ERROR=0,Il.TIMEOUT=8,Il.HTTP_ERROR=6,Du=Il,Bg.COMPLETE="complete",_E=Bg,Vg.EventType=jo,jo.OPEN="a",jo.CLOSE="b",jo.ERROR="c",jo.MESSAGE="d",ht.prototype.listen=ht.prototype.J,pa=Vg,Ae.prototype.listenOnce=Ae.prototype.K,Ae.prototype.getLastError=Ae.prototype.Ha,Ae.prototype.getLastErrorCode=Ae.prototype.ya,Ae.prototype.getStatus=Ae.prototype.ca,Ae.prototype.getResponseJson=Ae.prototype.La,Ae.prototype.getResponseText=Ae.prototype.la,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Fa,vE=Ae}).apply(typeof hu<"u"?hu:typeof self<"u"?self:typeof window<"u"?window:{});const h_="@firebase/firestore",d_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new dE("@firebase/firestore");function vs(){return es.logLevel}function H(t,...e){if(es.logLevel<=ae.DEBUG){const n=e.map(Km);es.debug(`Firestore (${Do}): ${t}`,...n)}}function yi(t,...e){if(es.logLevel<=ae.ERROR){const n=e.map(Km);es.error(`Firestore (${Do}): ${t}`,...n)}}function wo(t,...e){if(es.logLevel<=ae.WARN){const n=e.map(Km);es.warn(`Firestore (${Do}): ${t}`,...n)}}function Km(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,TE(t,i,n)}function TE(t,e,n){let i=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw yi(i),new Error(i)}function de(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||TE(e,r,i)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends Ro{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class s5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class o5{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ji,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ji)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(de(typeof i.accessToken=="string",31837,{l:i}),new kE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string",2055,{h:e}),new mt(e)}}class a5{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l5{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new a5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,UV(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){de(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new f_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new f_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=c5(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function re(t,e){return t<e?-1:t>e?1:0}function cp(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),s=e.charAt(i);if(r!==s)return $d(r)===$d(s)?re(r,s):$d(r)?1:-1}return re(t.length,e.length)}const h5=55296,d5=57343;function $d(t){const e=t.charCodeAt(0);return e>=h5&&e<=d5}function vo(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="__name__";class $n{constructor(e,n,i){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&X(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=$n.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return re(e.length,n.length)}static compareSegments(e,n){const i=$n.isNumericId(e),r=$n.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?$n.extractNumericId(e).compare($n.extractNumericId(n)):cp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}}class ge extends $n{construct(e,n,i){return new ge(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new U(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const f5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends $n{construct(e,n,i){return new at(e,n,i)}static isValidIdentifier(e){return f5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p_}static keyField(){return new at([p_])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new U(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new U(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new U(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(ge.fromString(e))}static fromName(e){return new Q(ge.fromString(e).popFirst(5))}static empty(){return new Q(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t,e,n){if(!n)throw new U(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p5(t,e,n,i){if(e===!0&&i===!0)throw new U(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function m_(t){if(!Q.isDocumentKey(t))throw new U(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g_(t){if(Q.isDocumentKey(t))throw new U(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function SE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function Pc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hh(t);throw new U(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function bl(t,e){if(!SE(t))throw new U(L.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const o=t[i];if(r&&typeof o!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new U(L.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=-62135596800,w_=1e6;class Ee{static now(){return Ee.fromMillis(Date.now())}static fromDate(e){return Ee.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*w_);return new Ee(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<y_)throw new U(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w_}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bl(e,Ee._jsonSchema))return new Ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ee._jsonSchemaVersion="firestore/timestamp/1.0",Ee._jsonSchema={type:qe("string",Ee._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new Ee(0,0))}static max(){return new J(new Ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=-1;function m5(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=J.fromTimestamp(i===1e9?new Ee(n+1,0):new Ee(n,i));return new rr(r,Q.empty(),e)}function g5(t){return new rr(t.readTime,t.key,nl)}class rr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new rr(J.min(),Q.empty(),nl)}static max(){return new rr(J.max(),Q.empty(),nl)}}function y5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==w5)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,i)=>{n(e)})}static reject(e){return new z((n,i)=>{i(e)})}static waitFor(e){return new z((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},u=>i(u))}),o=!0,s===r&&n()})}static or(e){let n=z.resolve(!1);for(const i of e)n=n.next(r=>r?z.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new z((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,n){return new z((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function _5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=-1;function fh(t){return t==null}function Ac(t){return t===0&&1/t==-1/0}function b5(t){return typeof t=="number"&&Number.isInteger(t)&&!Ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="";function E5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=v_(e)),e=x5(t.get(n),e);return v_(e)}function x5(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case IE:n+="";break;default:n+=s}}return n}function v_(t){return t+IE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function as(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||ot.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new du(this.root,e,this.comparator,!1)}getReverseIterator(){return new du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new du(this.root,e,this.comparator,!0)}}class du{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ot{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??ot.RED,this.left=r??ot.EMPTY,this.right=s??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new ot(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return ot.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b_(this.data.getIterator())}getIteratorFrom(e){return new b_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class b_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new In([])}unionWith(e){let n=new Xe(at.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AE("Invalid base64 string: "+s):s}}(e);return new ct(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const T5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(t){if(de(!!t,39018),typeof t=="string"){let e=0;const n=T5.exec(t);if(de(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function or(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="server_timestamp",DE="__type__",OE="__previous_value__",NE="__local_write_time__";function Jm(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[DE])==null?void 0:i.stringValue)===RE}function ph(t){const e=t.mapValue.fields[OE];return Jm(e)?ph(e):e}function il(t){const e=sr(t.mapValue.fields[NE].timestampValue);return new Ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n,i,r,s,o,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const Rc="(default)";class rl{constructor(e,n){this.projectId=e,this.database=n||Rc}static empty(){return new rl("","")}get isDefaultDatabase(){return this.database===Rc}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="__type__",C5="__max__",fu={mapValue:{}},VE="__vector__",Dc="value";function ar(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jm(t)?4:I5(t)?9007199254740991:S5(t)?10:11:X(28295,{value:t})}function Jn(t,e){if(t===e)return!0;const n=ar(t);if(n!==ar(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return il(t).isEqual(il(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=sr(r.timestampValue),a=sr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return or(r.bytesValue).isEqual(or(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Me(r.geoPointValue.latitude)===Me(s.geoPointValue.latitude)&&Me(r.geoPointValue.longitude)===Me(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Me(r.integerValue)===Me(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Me(r.doubleValue),a=Me(s.doubleValue);return o===a?Ac(o)===Ac(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return vo(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(__(o)!==__(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Jn(o[u],a[u])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function sl(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function _o(t,e){if(t===e)return 0;const n=ar(t),i=ar(e);if(n!==i)return re(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Me(s.integerValue||s.doubleValue),u=Me(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return E_(t.timestampValue,e.timestampValue);case 4:return E_(il(t),il(e));case 5:return cp(t.stringValue,e.stringValue);case 6:return function(s,o){const a=or(s),u=or(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=re(a[c],u[c]);if(d!==0)return d}return re(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=re(Me(s.latitude),Me(o.latitude));return a!==0?a:re(Me(s.longitude),Me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var m,g,b,S;const a=s.fields||{},u=o.fields||{},c=(m=a[Dc])==null?void 0:m.arrayValue,d=(g=u[Dc])==null?void 0:g.arrayValue,f=re(((b=c==null?void 0:c.values)==null?void 0:b.length)||0,((S=d==null?void 0:d.values)==null?void 0:S.length)||0);return f!==0?f:x_(c,d)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===fu.mapValue&&o===fu.mapValue)return 0;if(s===fu.mapValue)return 1;if(o===fu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=cp(u[f],d[f]);if(m!==0)return m;const g=_o(a[u[f]],c[d[f]]);if(g!==0)return g}return re(u.length,d.length)}(t.mapValue,e.mapValue);default:throw X(23264,{he:n})}}function E_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=sr(t),i=sr(e),r=re(n.seconds,i.seconds);return r!==0?r:re(n.nanos,i.nanos)}function x_(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=_o(n[r],i[r]);if(s)return s}return re(n.length,i.length)}function bo(t){return hp(t)}function hp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=sr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return or(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=hp(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${hp(n.fields[o])}`;return r+"}"}(t.mapValue):X(61005,{value:t})}function Ou(t){switch(ar(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(t);return e?16+Ou(e):16;case 5:return 2*t.stringValue.length;case 6:return or(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Ou(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return as(i.fields,(s,o)=>{r+=s.length+Ou(o)}),r}(t.mapValue);default:throw X(13486,{value:t})}}function T_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dp(t){return!!t&&"integerValue"in t}function Zm(t){return!!t&&"arrayValue"in t}function k_(t){return!!t&&"nullValue"in t}function C_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nu(t){return!!t&&"mapValue"in t}function S5(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ME])==null?void 0:i.stringValue)===VE}function Ia(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return as(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ia(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ia(t.arrayValue.values[n]);return e}return{...t}}function I5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===C5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Nu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ia(n)}setAll(e){let n=at.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Ia(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Nu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Nu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){as(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new cn(Ia(this.value))}}function LE(t){const e=[];return as(t.fields,(n,i)=>{const r=new at([n]);if(Nu(i)){const s=LE(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,J.min(),J.min(),J.min(),cn.empty(),0)}static newFoundDocument(e,n,i,r){return new wt(e,1,n,J.min(),i,r,0)}static newNoDocument(e,n){return new wt(e,2,n,J.min(),J.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,J.min(),J.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.position=e,this.inclusive=n}}function S_(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=Q.comparator(Q.fromName(o.referenceValue),n.key):i=_o(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function I_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function P5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{}class $e extends zE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new R5(e,n,i):n==="array-contains"?new N5(e,i):n==="in"?new M5(e,i):n==="not-in"?new V5(e,i):n==="array-contains-any"?new L5(e,i):new $e(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new D5(e,i):new O5(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_o(n,this.value)):n!==null&&ar(this.value)===ar(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends zE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mn(e,n)}matches(e){return FE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FE(t){return t.op==="and"}function jE(t){return A5(t)&&FE(t)}function A5(t){for(const e of t.filters)if(e instanceof Mn)return!1;return!0}function fp(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+bo(t.value);if(jE(t))return t.filters.map(e=>fp(e)).join(",");{const e=t.filters.map(n=>fp(n)).join(",");return`${t.op}(${e})`}}function BE(t,e){return t instanceof $e?function(i,r){return r instanceof $e&&i.op===r.op&&i.field.isEqual(r.field)&&Jn(i.value,r.value)}(t,e):t instanceof Mn?function(i,r){return r instanceof Mn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&BE(o,r.filters[a]),!0):!1}(t,e):void X(19439)}function $E(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(t):t instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map($E).join(" ,")+"}"}(t):"Filter"}class R5 extends $e{constructor(e,n,i){super(e,n,i),this.key=Q.fromName(i.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class D5 extends $e{constructor(e,n){super(e,"in",n),this.keys=UE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class O5 extends $e{constructor(e,n){super(e,"not-in",n),this.keys=UE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UE(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>Q.fromName(i.referenceValue))}class N5 extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zm(n)&&sl(n.arrayValue,this.value)}}class M5 extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sl(this.value.arrayValue,n)}}class V5 extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sl(this.value.arrayValue,n)}}class L5 extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>sl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function P_(t,e=null,n=[],i=[],r=null,s=null,o=null){return new z5(t,e,n,i,r,s,o)}function eg(t){const e=Z(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>fp(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>bo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>bo(i)).join(",")),e.Te=n}return e.Te}function tg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!P5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I_(t.startAt,e.startAt)&&I_(t.endAt,e.endAt)}function pp(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F5(t,e,n,i,r,s,o,a){return new Mo(t,e,n,i,r,s,o,a)}function qE(t){return new Mo(t)}function A_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HE(t){return t.collectionGroup!==null}function Pa(t){const e=Z(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xe(at.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new ol(s,i))}),n.has(at.keyField().canonicalString())||e.Ie.push(new ol(at.keyField(),i))}return e.Ie}function Gn(t){const e=Z(t);return e.Ee||(e.Ee=j5(e,Pa(t))),e.Ee}function j5(t,e){if(t.limitType==="F")return P_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new ol(r.field,s)});const n=t.endAt?new Oc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Oc(t.startAt.position,t.startAt.inclusive):null;return P_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function mp(t,e){const n=t.filters.concat([e]);return new Mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gp(t,e,n){return new Mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mh(t,e){return tg(Gn(t),Gn(e))&&t.limitType===e.limitType}function WE(t){return`${eg(Gn(t))}|lt:${t.limitType}`}function _s(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>$E(r)).join(", ")}]`),fh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>bo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>bo(r)).join(",")),`Target(${i})`}(Gn(t))}; limitType=${t.limitType})`}function gh(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Q.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of Pa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,u){const c=S_(o,a,u);return o.inclusive?c<=0:c<0}(i.startAt,Pa(i),r)||i.endAt&&!function(o,a,u){const c=S_(o,a,u);return o.inclusive?c>=0:c>0}(i.endAt,Pa(i),r))}(t,e)}function B5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GE(t){return(e,n)=>{let i=!1;for(const r of Pa(t)){const s=$5(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function $5(t,e,n){const i=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?_o(u,c):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=new Pe(Q.comparator);function wi(){return U5}const QE=new Pe(Q.comparator);function ma(...t){let e=QE;for(const n of t)e=e.insert(n.key,n);return e}function KE(t){let e=QE;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Lr(){return Aa()}function XE(){return Aa()}function Aa(){return new ls(t=>t.toString(),(t,e)=>t.isEqual(e))}const q5=new Pe(Q.comparator),H5=new Xe(Q.comparator);function se(...t){let e=H5;for(const n of t)e=e.add(n);return e}const W5=new Xe(re);function G5(){return W5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function YE(t){return{integerValue:""+t}}function Q5(t,e){return b5(e)?YE(e):ng(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function K5(t,e,n){return t instanceof Nc?function(r,s){const o={fields:{[DE]:{stringValue:RE},[NE]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Jm(s)&&(s=ph(s)),s&&(o.fields[OE]=s),{mapValue:o}}(n,e):t instanceof al?ZE(t,e):t instanceof ll?ex(t,e):function(r,s){const o=JE(r,s),a=R_(o)+R_(r.Ae);return dp(o)&&dp(r.Ae)?YE(a):ng(r.serializer,a)}(t,e)}function X5(t,e,n){return t instanceof al?ZE(t,e):t instanceof ll?ex(t,e):n}function JE(t,e){return t instanceof Mc?function(i){return dp(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Nc extends yh{}class al extends yh{constructor(e){super(),this.elements=e}}function ZE(t,e){const n=tx(e);for(const i of t.elements)n.some(r=>Jn(r,i))||n.push(i);return{arrayValue:{values:n}}}class ll extends yh{constructor(e){super(),this.elements=e}}function ex(t,e){let n=tx(e);for(const i of t.elements)n=n.filter(r=>!Jn(r,i));return{arrayValue:{values:n}}}class Mc extends yh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function R_(t){return Me(t.integerValue||t.doubleValue)}function tx(t){return Zm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Y5(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof al&&r instanceof al||i instanceof ll&&r instanceof ll?vo(i.elements,r.elements,Jn):i instanceof Mc&&r instanceof Mc?Jn(i.Ae,r.Ae):i instanceof Nc&&r instanceof Nc}(t.transform,e.transform)}class J5{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wh{}function nx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rx(t.key,hi.none()):new El(t.key,t.data,hi.none());{const n=t.data,i=cn.empty();let r=new Xe(at.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new us(t.key,i,new In(r.toArray()),hi.none())}}function Z5(t,e,n){t instanceof El?function(r,s,o){const a=r.value.clone(),u=O_(r.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof us?function(r,s,o){if(!Mu(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=O_(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(ix(r)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ra(t,e,n,i){return t instanceof El?function(s,o,a,u){if(!Mu(s.precondition,o))return a;const c=s.value.clone(),d=N_(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof us?function(s,o,a,u){if(!Mu(s.precondition,o))return a;const c=N_(s.fieldTransforms,u,o),d=o.data;return d.setAll(ix(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,o,a){return Mu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function eL(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=JE(i.transform,r||null);s!=null&&(n===null&&(n=cn.empty()),n.set(i.field,s))}return n||null}function D_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&vo(i,r,(s,o)=>Y5(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class El extends wh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class us extends wh{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ix(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function O_(t,e,n){const i=new Map;de(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,X5(o,a,n[r]))}return i}function N_(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,K5(s,o,e))}return i}class rx extends wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tL extends wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Z5(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ra(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ra(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=XE();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const u=nx(o,a);u!==null&&i.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(n,i)=>D_(n,i))&&vo(this.baseMutations,e.baseMutations,(n,i)=>D_(n,i))}}class ig{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){de(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return q5}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new ig(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,oe;function sL(t){switch(t){case L.OK:return X(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function sx(t){if(t===void 0)return yi("GRPC error has no .code"),L.UNKNOWN;switch(t){case Fe.OK:return L.OK;case Fe.CANCELLED:return L.CANCELLED;case Fe.UNKNOWN:return L.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return L.INTERNAL;case Fe.UNAVAILABLE:return L.UNAVAILABLE;case Fe.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Fe.NOT_FOUND:return L.NOT_FOUND;case Fe.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Fe.ABORTED:return L.ABORTED;case Fe.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Fe.DATA_LOSS:return L.DATA_LOSS;default:return X(39323,{code:t})}}(oe=Fe||(Fe={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=new Yi([4294967295,4294967295],0);function M_(t){const e=oL().encode(t),n=new wE;return n.update(e),new Uint8Array(n.digest())}function V_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yi([n,i],0),new Yi([r,s],0)]}class rg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ga(`Invalid padding: ${n}`);if(i<0)throw new ga(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ga(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ga(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yi.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Yi.fromNumber(i)));return r.compare(aL)===1&&(r=new Yi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=M_(e),[i,r]=V_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(i,r,s);if(!this.we(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new rg(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=M_(e),[i,r]=V_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(i,r,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,xl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new vh(J.min(),r,new Pe(re),wi(),se())}}class xl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new xl(i,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,i,r){this.be=e,this.removedTargetIds=n,this.key=i,this.De=r}}class ox{constructor(e,n){this.targetId=e,this.Ce=n}}class ax{constructor(e,n,i=ct.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class L_{constructor(){this.ve=0,this.Fe=z_(),this.Me=ct.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=se(),n=se(),i=se();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:X(38017,{changeType:s})}}),new xl(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=z_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lL{constructor(e){this.Ge=e,this.ze=new Map,this.je=wi(),this.Je=pu(),this.He=pu(),this.Ye=new Pe(re)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const s=r.target;if(pp(s))if(i===0){const o=new Q(s.path);this.et(n,o,wt.newNoDocument(o,J.min()))}else de(i===1,20013,{expectedCount:i});else{const o=this._t(n);if(o!==i){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=or(i).toUint8Array()}catch(u){if(u instanceof AE)return wo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new rg(o,r,s)}catch(u){return wo(u instanceof ga?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&pp(a.target)){const u=new Q(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,wt.newNoDocument(u,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let i=se();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const r=new vh(e,n,this.Ye,this.je,i);return this.je=wi(),this.Je=pu(),this.He=pu(),this.Ye=new Pe(re),r}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new L_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xe(re),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xe(re),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function pu(){return new Pe(Q.comparator)}function z_(){return new Pe(Q.comparator)}const uL={asc:"ASCENDING",desc:"DESCENDING"},cL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hL={and:"AND",or:"OR"};class dL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yp(t,e){return t.useProto3Json||fh(e)?e:{value:e}}function Vc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fL(t,e){return Vc(t,e.toTimestamp())}function Qn(t){return de(!!t,49232),J.fromTimestamp(function(n){const i=sr(n);return new Ee(i.seconds,i.nanos)}(t))}function sg(t,e){return wp(t,e).canonicalString()}function wp(t,e){const n=function(r){return new ge(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ux(t){const e=ge.fromString(t);return de(px(e),10190,{key:e.toString()}),e}function vp(t,e){return sg(t.databaseId,e.path)}function Ud(t,e){const n=ux(e);if(n.get(1)!==t.databaseId.projectId)throw new U(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(hx(n))}function cx(t,e){return sg(t.databaseId,e)}function pL(t){const e=ux(t);return e.length===4?ge.emptyPath():hx(e)}function _p(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hx(t){return de(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function F_(t,e,n){return{name:vp(t,e),fields:n.value.mapValue.fields}}function mL(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(de(d===void 0||typeof d=="string",58123),ct.fromBase64String(d||"")):(de(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ct.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?L.UNKNOWN:sx(c.code);return new U(d,c.message||"")}(o);n=new ax(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Ud(t,i.document.name),s=Qn(i.document.updateTime),o=i.document.createTime?Qn(i.document.createTime):J.min(),a=new cn({mapValue:{fields:i.document.fields}}),u=wt.newFoundDocument(r,s,o,a),c=i.targetIds||[],d=i.removedTargetIds||[];n=new Vu(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Ud(t,i.document),s=i.readTime?Qn(i.readTime):J.min(),o=wt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Vu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Ud(t,i.document),s=i.removedTargetIds||[];n=new Vu([],s,r,null)}else{if(!("filter"in e))return X(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new rL(r,s),a=i.targetId;n=new ox(a,o)}}return n}function gL(t,e){let n;if(e instanceof El)n={update:F_(t,e.key,e.value)};else if(e instanceof rx)n={delete:vp(t,e.key)};else if(e instanceof us)n={update:F_(t,e.key,e.data),updateMask:kL(e.fieldMask)};else{if(!(e instanceof tL))return X(16599,{Vt:e.type});n={verify:vp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Nc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ll)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mc)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw X(20930,{transform:o.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:fL(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X(27497)}(t,e.precondition)),n}function yL(t,e){return t&&t.length>0?(de(e!==void 0,14353),t.map(n=>function(r,s){let o=r.updateTime?Qn(r.updateTime):Qn(s);return o.isEqual(J.min())&&(o=Qn(s)),new J5(o,r.transformResults||[])}(n,e))):[]}function wL(t,e){return{documents:[cx(t,e.path)]}}function vL(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=cx(t,r);const s=function(c){if(c.length!==0)return fx(Mn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:bs(m.field),direction:EL(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=yp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:r}}function _L(t){let e=pL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){de(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const m=dx(f);return m instanceof Mn&&jE(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(b){return new ol(Es(b.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,fh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,g=f.values||[];return new Oc(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,g=f.values||[];return new Oc(g,m)}(n.endAt)),F5(e,r,o,s,a,"F",u,c)}function bL(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Es(n.unaryFilter.field);return $e.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Es(n.unaryFilter.field);return $e.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Es(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Es(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return $e.create(Es(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(i=>dx(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function EL(t){return uL[t]}function xL(t){return cL[t]}function TL(t){return hL[t]}function bs(t){return{fieldPath:t.canonicalString()}}function Es(t){return at.fromServerFormat(t.fieldPath)}function fx(t){return t instanceof $e?function(n){if(n.op==="=="){if(C_(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NAN"}};if(k_(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C_(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NAN"}};if(k_(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bs(n.field),op:xL(n.op),value:n.value}}}(t):t instanceof Mn?function(n){const i=n.getFilters().map(r=>fx(r));return i.length===1?i[0]:{compositeFilter:{op:TL(n.op),filters:i}}}(t):X(54877,{filter:t})}function kL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function px(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,i,r,s=J.min(),o=J.min(),a=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.yt=e}}function SL(t){const e=_L({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.Cn=new PL}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(rr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(rr.min())}updateCollectionGroup(e,n,i){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class PL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Xe(ge.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xe(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mx=41943040;class Lt{static withCacheSize(e){return new Lt(e,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(mx,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eo(0)}static cr(){return new Eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="LruGarbageCollector",AL=1048576;function $_([t,e],[n,i]){const r=re(t,n);return r===0?re(e,i):r}class RL{constructor(e){this.Ir=e,this.buffer=new Xe($_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();$_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DL{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(B_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?H(B_,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Vr(3e5)})}}class OL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return z.resolve(dh.ce);const i=new RL(n);return this.mr.forEachTarget(e,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(j_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,r,s,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(c=Date.now(),vs()<=ae.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:f})))}}function NL(t,e){return new OL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.changes=new ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?z.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ra(i.mutation,r,In.empty(),Ee.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,se()).next(()=>i))}getLocalViewOfDocuments(e,n,i=se()){const r=Lr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=ma();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Lr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,se()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=wi();const o=Aa(),a=function(){return Aa()}();return n.forEach((u,c)=>{const d=i.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof us)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ra(d.mutation,c,d.mutation.getFieldMask(),Ee.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new VL(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const i=Aa();let r=new Pe((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=i.get(u)||In.empty();d=a.applyToLocalView(c,d),i.set(u,d);const f=(r.get(a.batchId)||se()).add(u);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=XE();d.forEach(m=>{if(!s.has(m)){const g=nx(n.get(m),i.get(m));g!==null&&f.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return z.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):z.resolve(Lr());let a=nl,u=s;return o.next(c=>z.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,se())).next(d=>({batchId:a,changes:KE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(i=>{let r=ma();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=ma();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,u=>{const c=function(f,m){return new Mo(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,wt.newInvalidDocument(d)))});let a=ma();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Ra(d.mutation,c,In.empty(),Ee.now()),gh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Qn(r.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:SL(r.bundledQuery),readTime:Qn(r.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.overlays=new Pe(Q.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Lr();return z.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.St(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(i)),z.resolve()}getOverlaysForCollection(e,n,i){const r=Lr(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return z.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Pe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let d=s.get(c.largestBatchId);d===null&&(d=Lr(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Lr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return z.resolve(a)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new iL(n,i));let s=this.qr.get(n);s===void 0&&(s=se(),this.qr.set(n,s)),this.qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.Qr=new Xe(Je.$r),this.Ur=new Xe(Je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Je(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new Je(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new Q(new ge([])),i=new Je(n,e),r=new Je(n,e+1),s=[];return this.Ur.forEachInRange([i,r],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new ge([])),i=new Je(n,e),r=new Je(n,e+1);let s=se();return this.Ur.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Je(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Je{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||re(e.Yr,n.Yr)}static Kr(e,n){return re(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xe(Je.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nL(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Zr=this.Zr.add(new Je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ei(i),s=r<0?0:r;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Ym:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Je(n,0),r=new Je(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],o=>{const a=this.Xr(o.Yr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xe(re);return n.forEach(r=>{const s=new Je(r,0),o=new Je(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{i=i.add(a.Yr)})}),z.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;Q.isDocumentKey(s)||(s=s.child(""));const o=new Je(new Q(s),0);let a=new Xe(re);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(u.Yr)),!0)},o),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){de(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return z.forEach(n.mutations,r=>{const s=new Je(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new Je(n,0),r=this.Zr.firstAfterOrEqual(i);return z.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.ri=e,this.docs=function(){return new Pe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return z.resolve(i?i.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let i=wi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():wt.newInvalidDocument(r))}),z.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=wi();const o=n.path,a=new Q(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||y5(g5(d),i)<=0||(r.has(d.key)||gh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,i,r){X(9500)}ii(e,n){return z.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new UL(this)}getSize(e){return z.resolve(this.size)}}class UL extends ML{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.persistence=e,this.si=new ls(n=>eg(n),tg),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.oi=0,this._i=new og,this.targetCount=0,this.ai=Eo.ur()}forEachTarget(e,n){return this.si.forEach((i,r)=>n(r)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),z.waitFor(s).next(()=>r)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return z.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),z.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return z.resolve(i)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new jL,this.referenceDelegate=e(this),this.Pi=new qL(this),this.indexManager=new IL,this.remoteDocumentCache=function(r){return new $L(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new CL(n),this.Ii=new zL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new BL(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){H("MemoryPersistence","Starting transaction:",e);const r=new HL(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ai(e,n){return z.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class HL extends v5{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Ri=new og,this.Vi=null}static mi(e){return new ag(e)}get fi(){if(this.Vi)return this.Vi;throw X(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),z.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.fi.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,i=>{const r=Q.fromPath(i);return this.gi(e,r).next(s=>{s||n.removeEntry(r,J.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lc{constructor(e,n){this.persistence=e,this.pi=new ls(i=>E5(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=NL(this,n)}static mi(e,n){return new Lc(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(i,r)=>this.br(e,i,r).next(s=>s?z.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,n).next(a=>{a||(i++,s.removeEntry(o,J.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),z.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ou(e.data.value)),n}br(e,n,i){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return z.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=r}static As(e,n){let i=se(),r=se();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new lg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return jM()?8:_5(zM())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new WL;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,i,r){return i.documentReadCount<this.fs?(vs()<=ae.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",_s(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(vs()<=ae.DEBUG&&H("QueryEngine","Query:",_s(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(vs()<=ae.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",_s(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):z.resolve())}ys(e,n){if(A_(n))return z.resolve(null);let i=Gn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=gp(n,null,"F"),i=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=se(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,o,u.readTime)?this.ys(e,gp(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,i,r){return A_(n)||r.isEqual(J.min())?z.resolve(null):this.ps.getDocuments(e,i).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,i,r)?z.resolve(null):(vs()<=ae.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_s(n)),this.vs(e,o,n,m5(r,nl)).next(a=>a))})}Ds(e,n){let i=new Xe(GE(e));return n.forEach((r,s)=>{gh(e,s)&&(i=i.add(s))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,n,i){return vs()<=ae.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",_s(n)),this.ps.getDocumentsMatchingQuery(e,n,rr.min(),i)}vs(e,n,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="LocalStore",QL=3e8;class KL{constructor(e,n,i,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Pe(re),this.xs=new ls(s=>eg(s),tg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function XL(t,e,n,i){return new KL(t,e,n,i)}async function yx(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let u=se();for(const c of r){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function YL(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,m=f.keys();let g=z.resolve();return m.forEach(b=>{g=g.next(()=>d.getEntry(u,b)).next(S=>{const P=c.docVersions.get(b);de(P!==null,48541),S.version.compareTo(P)<0&&(f.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),d.addEntry(S)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function wx(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function JL(t,e){const n=Z(t),i=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const m=r.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,f)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(ct.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,i)),r=r.insert(f,g),function(S,P,_){return S.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=QL?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,g,d)&&a.push(n.Pi.updateTargetData(s,g))});let u=wi(),c=se();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(ZL(s,o,e.documentUpdates).next(d=>{u=d.ks,c=d.qs})),!i.isEqual(J.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=r,s))}function ZL(t,e,n){let i=se(),r=se();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=wi();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):H(ug,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:r}})}function e6(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ym),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function t6(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,e).next(s=>s?(r=s,z.resolve(r)):n.Pi.allocateTargetId(i).next(o=>(r=new Fi(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function bp(t,e,n){const i=Z(t),r=i.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!No(o))throw o;H(ug,`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function U_(t,e,n){const i=Z(t);let r=J.min(),s=se();return i.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=Z(u),m=f.xs.get(d);return m!==void 0?z.resolve(f.Ms.get(m)):f.Pi.getTargetData(c,d)}(i,o,Gn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>i.Fs.getDocumentsMatchingQuery(o,e,n?r:J.min(),n?s:se())).next(a=>(n6(i,B5(e),a),{documents:a,Qs:s})))}function n6(t,e,n){let i=t.Os.get(e)||J.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Os.set(e,i)}class q_{constructor(){this.activeTargetIds=G5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i6{constructor(){this.Mo=new q_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new q_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="ConnectivityMonitor";class W_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(H_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(H_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu=null;function Ep(){return mu===null?mu=function(){return 268435456+Math.round(2147483648*Math.random())}():mu++,"0x"+mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="RestConnection",s6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Rc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,n,i,r,s){const o=Ep(),a=this.zo(e,n.toUriEncodedString());H(qd,`Sending RPC '${e}' ${o}:`,a,i);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,s);const{host:c}=new URL(a),d=Gm(c);return this.Jo(e,a,u,i,d).then(f=>(H(qd,`Received RPC '${e}' ${o}: `,f),f),f=>{throw wo(qd,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",i),f})}Ho(e,n,i,r,s,o){return this.Go(e,n,i,r,s)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}zo(e,n){const i=s6[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class l6 extends o6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,s){const o=Ep();return new Promise((a,u)=>{const c=new vE;c.setWithCredentials(!0),c.listenOnce(_E.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Du.NO_ERROR:const f=c.getResponseJson();H(pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Du.TIMEOUT:H(pt,`RPC '${e}' ${o} timed out`),u(new U(L.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const m=c.getStatus();if(H(pt,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const S=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(v)>=0?v:L.UNKNOWN}(b.status);u(new U(S,b.message))}else u(new U(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new U(L.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{H(pt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(r);H(pt,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",d,i,15)})}T_(e,n,i){const r=Ep(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xE(),a=EE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");H(pt,`Creating RPC '${e}' stream ${r}: ${d}`,u);const f=o.createWebChannel(d,u);this.I_(f);let m=!1,g=!1;const b=new a6({Yo:P=>{g?H(pt,`Not sending because RPC '${e}' stream ${r} is closed:`,P):(m||(H(pt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),H(pt,`RPC '${e}' stream ${r} sending:`,P),f.send(P))},Zo:()=>f.close()}),S=(P,_,v)=>{P.listen(_,k=>{try{v(k)}catch(R){setTimeout(()=>{throw R},0)}})};return S(f,pa.EventType.OPEN,()=>{g||(H(pt,`RPC '${e}' stream ${r} transport opened.`),b.o_())}),S(f,pa.EventType.CLOSE,()=>{g||(g=!0,H(pt,`RPC '${e}' stream ${r} transport closed`),b.a_(),this.E_(f))}),S(f,pa.EventType.ERROR,P=>{g||(g=!0,wo(pt,`RPC '${e}' stream ${r} transport errored. Name:`,P.name,"Message:",P.message),b.a_(new U(L.UNAVAILABLE,"The operation could not be completed")))}),S(f,pa.EventType.MESSAGE,P=>{var _;if(!g){const v=P.data[0];de(!!v,16349);const k=v,R=(k==null?void 0:k.error)||((_=k[0])==null?void 0:_.error);if(R){H(pt,`RPC '${e}' stream ${r} received error:`,R);const V=R.status;let F=function(x){const C=Fe[x];if(C!==void 0)return sx(C)}(V),E=R.message;F===void 0&&(F=L.INTERNAL,E="Unknown error status: "+V+" with message "+R.message),g=!0,b.a_(new U(F,E)),f.close()}else H(pt,`RPC '${e}' stream ${r} received:`,v),b.u_(v)}}),S(a,bE.STAT_EVENT,P=>{P.stat===up.PROXY?H(pt,`RPC '${e}' stream ${r} detected buffering proxy`):P.stat===up.NOPROXY&&H(pt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){return new dL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="PersistentStream";class _x{constructor(e,n,i,r,s,o,a,u){this.Mi=e,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new U(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(G_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u6 extends _x{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mL(this.serializer,e),i=function(s){if(!("targetChange"in s))return J.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?Qn(o.readTime):J.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=_p(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=pp(u)?{documents:wL(s,u)}:{query:vL(s,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lx(s,o.resumeToken);const c=yp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=Vc(s,o.snapshotVersion.toTimestamp());const c=yp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=bL(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=_p(this.serializer),n.removeTarget=e,this.q_(n)}}class c6 extends _x{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return de(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){de(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yL(e.writeResults,e.commitTime),i=Qn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=_p(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>gL(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{}class d6 extends h6{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new U(L.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,wp(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(L.UNKNOWN,s.toString())})}Ho(e,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,wp(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(L.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class f6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yi(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="RemoteStore";class p6{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{i.enqueueAndForget(async()=>{cs(this)&&(H(ts,"Restarting streams for network reachability change."),await async function(u){const c=Z(u);c.Ea.add(4),await Tl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await bh(c)}(this))})}),this.Ra=new f6(i,r)}}async function bh(t){if(cs(t))for(const e of t.da)await e(!0)}async function Tl(t){for(const e of t.da)await e(!1)}function bx(t,e){const n=Z(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fg(n)?dg(n):Vo(n).O_()&&hg(n,e))}function cg(t,e){const n=Z(t),i=Vo(n);n.Ia.delete(e),i.O_()&&Ex(n,e),n.Ia.size===0&&(i.O_()?i.L_():cs(n)&&n.Ra.set("Unknown"))}function hg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(t).Y_(e)}function Ex(t,e){t.Va.Ue(e),Vo(t).Z_(e)}function dg(t){t.Va=new lL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vo(t).start(),t.Ra.ua()}function fg(t){return cs(t)&&!Vo(t).x_()&&t.Ia.size>0}function cs(t){return Z(t).Ea.size===0}function xx(t){t.Va=void 0}async function m6(t){t.Ra.set("Online")}async function g6(t){t.Ia.forEach((e,n)=>{hg(t,e)})}async function y6(t,e){xx(t),fg(t)?(t.Ra.ha(e),dg(t)):t.Ra.set("Unknown")}async function w6(t,e,n){if(t.Ra.set("Online"),e instanceof ax&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.Ia.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.Ia.delete(a),r.Va.removeTarget(a))}(t,e)}catch(i){H(ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await zc(t,i)}else if(e instanceof Vu?t.Va.Ze(e):e instanceof ox?t.Va.st(e):t.Va.tt(e),!n.isEqual(J.min()))try{const i=await wx(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(ct.EMPTY_BYTE_STRING,d.snapshotVersion)),Ex(s,u);const f=new Fi(d.target,u,c,d.sequenceNumber);hg(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){H(ts,"Failed to raise snapshot:",i),await zc(t,i)}}async function zc(t,e,n){if(!No(e))throw e;t.Ea.add(1),await Tl(t),t.Ra.set("Offline"),n||(n=()=>wx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(ts,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bh(t)})}function Tx(t,e){return e().catch(n=>zc(t,n,e))}async function Eh(t){const e=Z(t),n=lr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ym;for(;v6(e);)try{const r=await e6(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,_6(e,r)}catch(r){await zc(e,r)}kx(e)&&Cx(e)}function v6(t){return cs(t)&&t.Ta.length<10}function _6(t,e){t.Ta.push(e);const n=lr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function kx(t){return cs(t)&&!lr(t).x_()&&t.Ta.length>0}function Cx(t){lr(t).start()}async function b6(t){lr(t).ra()}async function E6(t){const e=lr(t);for(const n of t.Ta)e.ea(n.mutations)}async function x6(t,e,n){const i=t.Ta.shift(),r=ig.from(i,e,n);await Tx(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Eh(t)}async function T6(t,e){e&&lr(t).X_&&await async function(i,r){if(function(o){return sL(o)&&o!==L.ABORTED}(r.code)){const s=i.Ta.shift();lr(i).B_(),await Tx(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Eh(i)}}(t,e),kx(t)&&Cx(t)}async function Q_(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),H(ts,"RemoteStore received new credentials");const i=cs(n);n.Ea.add(3),await Tl(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bh(n)}async function k6(t,e){const n=Z(t);e?(n.Ea.delete(2),await bh(n)):e||(n.Ea.add(2),await Tl(n),n.Ra.set("Unknown"))}function Vo(t){return t.ma||(t.ma=function(n,i,r){const s=Z(n);return s.sa(),new u6(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Xo:m6.bind(null,t),t_:g6.bind(null,t),r_:y6.bind(null,t),H_:w6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),fg(t)?dg(t):t.Ra.set("Unknown")):(await t.ma.stop(),xx(t))})),t.ma}function lr(t){return t.fa||(t.fa=function(n,i,r){const s=Z(n);return s.sa(),new c6(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:b6.bind(null,t),r_:T6.bind(null,t),ta:E6.bind(null,t),na:x6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Eh(t)):(await t.fa.stop(),t.Ta.length>0&&(H(ts,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new pg(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mg(t,e){if(yi("AsyncQueue",`${e}: ${t}`),No(t))return new U(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{static emptySet(e){return new Zs(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Q.comparator(n.key,i.key):(n,i)=>Q.comparator(n.key,i.key),this.keyedMap=ma(),this.sortedSet=new Pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Zs;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.ga=new Pe(Q.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):X(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class xo{constructor(e,n,i,r,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new xo(e,n,Zs.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class S6{constructor(){this.queries=X_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=Z(n),s=r.queries;r.queries=X_(),s.forEach((o,a)=>{for(const u of a.Sa)u.onError(i)})})(this,new U(L.ABORTED,"Firestore shutting down"))}}function X_(){return new ls(t=>WE(t),mh)}async function I6(t,e){const n=Z(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.ba()&&e.Da()&&(i=2):(s=new C6,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=mg(o,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&gg(n)}async function P6(t,e){const n=Z(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=e.Da()?0:1:!s.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function A6(t,e){const n=Z(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(r)&&(i=!0);o.wa=r}}i&&gg(n)}function R6(t,e,n){const i=Z(t),r=i.queries.get(e);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(e)}function gg(t){t.Ca.forEach(e=>{e.next()})}var xp,Y_;(Y_=xp||(xp={})).Ma="default",Y_.Cache="cache";class D6{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new xo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.key=e}}class Ix{constructor(e){this.key=e}}class O6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=se(),this.mutatedKeys=se(),this.eu=GE(e),this.tu=new Zs(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new K_,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{const m=r.get(d),g=gh(this.query,f)?f:null,b=!!m&&this.mutatedKeys.has(m.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;m&&g?m.data.isEqual(g.data)?b!==S&&(i.track({type:3,doc:g}),P=!0):this.su(m,g)||(i.track({type:2,doc:g}),P=!0,(u&&this.eu(g,u)>0||c&&this.eu(g,c)<0)&&(a=!0)):!m&&g?(i.track({type:0,doc:g}),P=!0):m&&!g&&(i.track({type:1,doc:m}),P=!0,(u||c)&&(a=!0)),P&&(g?(o=o.add(g),s=S?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{tu:o,iu:i,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(g,b){const S=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Rt:P})}};return S(g)-S(b)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(i),r=r??!1;const a=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new xo(this.query,e.tu,s,o,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=se(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new Ix(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new Sx(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=se();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yg="SyncEngine";class N6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class M6{constructor(e){this.key=e,this.hu=!1}}class V6{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ls(a=>WE(a),mh),this.Iu=new Map,this.Eu=new Set,this.du=new Pe(Q.comparator),this.Au=new Map,this.Ru=new og,this.Vu={},this.mu=new Map,this.fu=Eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L6(t,e,n=!0){const i=Nx(t);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await Px(i,e,n,!0),r}async function z6(t,e){const n=Nx(t);await Px(n,e,!0,!1)}async function Px(t,e,n,i){const r=await t6(t.localStore,Gn(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await F6(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&bx(t.remoteStore,r),a}async function F6(t,e,n,i,r){t.pu=(f,m,g)=>async function(S,P,_,v){let k=P.view.ru(_);k.Cs&&(k=await U_(S.localStore,P.query,!1).then(({documents:E})=>P.view.ru(E,k)));const R=v&&v.targetChanges.get(P.targetId),V=v&&v.targetMismatches.get(P.targetId)!=null,F=P.view.applyChanges(k,S.isPrimaryClient,R,V);return Z_(S,P.targetId,F.au),F.snapshot}(t,f,m,g);const s=await U_(t.localStore,e,!0),o=new O6(e,s.Qs),a=o.ru(s.documents),u=xl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,u);Z_(t,n,c.au);const d=new N6(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function j6(t,e,n){const i=Z(t),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(o=>!mh(o,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await bp(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&cg(i.remoteStore,r.targetId),Tp(i,r.targetId)}).catch(Oo)):(Tp(i,r.targetId),await bp(i.localStore,r.targetId,!0))}async function B6(t,e){const n=Z(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),cg(n.remoteStore,i.targetId))}async function $6(t,e,n){const i=K6(t);try{const r=await function(o,a){const u=Z(o),c=Ee.now(),d=a.reduce((g,b)=>g.add(b.key),se());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=wi(),S=se();return u.Ns.getEntries(g,d).next(P=>{b=P,b.forEach((_,v)=>{v.isValidDocument()||(S=S.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,b)).next(P=>{f=P;const _=[];for(const v of a){const k=eL(v,f.get(v.key).overlayedDocument);k!=null&&_.push(new us(v.key,k,LE(k.value.mapValue),hi.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,_,a)}).next(P=>{m=P;const _=P.applyToLocalDocumentSet(f,S);return u.documentOverlayCache.saveOverlays(g,P.batchId,_)})}).then(()=>({batchId:m.batchId,changes:KE(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new Pe(re)),c=c.insert(a,u),o.Vu[o.currentUser.toKey()]=c}(i,r.batchId,n),await kl(i,r.changes),await Eh(i.remoteStore)}catch(r){const s=mg(r,"Failed to persist write");n.reject(s)}}async function Ax(t,e){const n=Z(t);try{const i=await JL(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Au.get(s);o&&(de(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?de(o.hu,14607):r.removedDocuments.size>0&&(de(o.hu,42227),o.hu=!1))}),await kl(n,i,e)}catch(i){await Oo(i)}}function J_(t,e,n){const i=Z(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const u=Z(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(a)&&(c=!0)}),c&&gg(u)}(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function U6(t,e,n){const i=Z(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),s=r&&r.key;if(s){let o=new Pe(Q.comparator);o=o.insert(s,wt.newNoDocument(s,J.min()));const a=se().add(s),u=new vh(J.min(),new Map,new Pe(re),o,a);await Ax(i,u),i.du=i.du.remove(s),i.Au.delete(e),wg(i)}else await bp(i.localStore,e,!1).then(()=>Tp(i,e,n)).catch(Oo)}async function q6(t,e){const n=Z(t),i=e.batch.batchId;try{const r=await YL(n.localStore,e);Dx(n,i,null),Rx(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await kl(n,r)}catch(r){await Oo(r)}}async function H6(t,e,n){const i=Z(t);try{const r=await function(o,a){const u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(de(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(i.localStore,e);Dx(i,e,n),Rx(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await kl(i,r)}catch(r){await Oo(r)}}function Rx(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Dx(t,e,n){const i=Z(t);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function Tp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||Ox(t,i)})}function Ox(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(cg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),wg(t))}function Z_(t,e,n){for(const i of n)i instanceof Sx?(t.Ru.addReference(i.key,e),W6(t,i)):i instanceof Ix?(H(yg,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||Ox(t,i.key)):X(19791,{wu:i})}function W6(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(H(yg,"New document in limbo: "+n),t.Eu.add(i),wg(t))}function wg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(ge.fromString(e)),i=t.fu.next();t.Au.set(i,new M6(n)),t.du=t.du.insert(n,i),bx(t.remoteStore,new Fi(Gn(qE(n.path)),i,"TargetPurposeLimboResolution",dh.ce))}}async function kl(t,e,n){const i=Z(t),r=[],s=[],o=[];i.Tu.isEmpty()||(i.Tu.forEach((a,u)=>{o.push(i.pu(u,e,n).then(c=>{var d;if((c||n)&&i.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){r.push(c);const f=lg.As(u.targetId,c);s.push(f)}}))}),await Promise.all(o),i.Pu.H_(r),await async function(u,c){const d=Z(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(c,m=>z.forEach(m.Es,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>z.forEach(m.ds,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!No(f))throw f;H(ug,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const g=d.Ms.get(m),b=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(m,S)}}}(i.localStore,s))}async function G6(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){H(yg,"User change. New user:",e.toKey());const i=await yx(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(u=>{u.reject(new U(L.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await kl(n,i.Ls)}}function Q6(t,e){const n=Z(t),i=n.Au.get(e);if(i&&i.hu)return se().add(i.key);{let r=se();const s=n.Iu.get(e);if(!s)return r;for(const o of s){const a=n.Tu.get(o);r=r.unionWith(a.view.nu)}return r}}function Nx(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ax.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U6.bind(null,e),e.Pu.H_=A6.bind(null,e.eventManager),e.Pu.yu=R6.bind(null,e.eventManager),e}function K6(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H6.bind(null,e),e}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XL(this.persistence,new GL,e.initialUser,this.serializer)}Cu(e){return new gx(ag.mi,this.serializer)}Du(e){return new i6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class X6 extends Fc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){de(this.persistence.referenceDelegate instanceof Lc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new DL(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Lt.withCacheSize(this.cacheSizeBytes):Lt.DEFAULT;return new gx(i=>Lc.mi(i,n),this.serializer)}}class kp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>J_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=G6.bind(null,this.syncEngine),await k6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S6}()}createDatastore(e){const n=_h(e.databaseInfo.databaseId),i=function(s){return new l6(s)}(e.databaseInfo);return function(s,o,a,u){return new d6(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new p6(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>J_(this.syncEngine,n,0),function(){return W_.v()?new W_:new r6}())}createSyncEngine(e,n){return function(r,s,o,a,u,c,d){const f=new V6(r,s,o,a,u,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=Z(r);H(ts,"RemoteStore shutting down."),s.Ea.add(5),await Tl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}kp.provider={build:()=>new kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="FirestoreClient";class J6{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=mt.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{H(ur,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(H(ur,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=mg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Wd(t,e){t.asyncQueue.verifyOperationInProgress(),H(ur,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await yx(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function e0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z6(t);H(ur,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Q_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>Q_(e.remoteStore,r)),t._onlineComponents=e}async function Z6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(ur,"Using user provided OfflineComponentProvider");try{await Wd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),await Wd(t,new Fc)}}else H(ur,"Using default OfflineComponentProvider"),await Wd(t,new X6(void 0));return t._offlineComponents}async function Mx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(ur,"Using user provided OnlineComponentProvider"),await e0(t,t._uninitializedComponentsProvider._online)):(H(ur,"Using default OnlineComponentProvider"),await e0(t,new kp))),t._onlineComponents}function e9(t){return Mx(t).then(e=>e.syncEngine)}async function t9(t){const e=await Mx(t),n=e.eventManager;return n.onListen=L6.bind(null,e.syncEngine),n.onUnlisten=j6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=B6.bind(null,e.syncEngine),n}function n9(t,e,n={}){const i=new Ji;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new Y6({next:m=>{d.Nu(),o.enqueueAndForget(()=>P6(s,f)),m.fromCache&&u.source==="server"?c.reject(new U(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new D6(a,d,{includeMetadataChanges:!0,qa:!0});return I6(s,f)}(await t9(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="firestore.googleapis.com",n0=!0;class i0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new U(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lx,this.ssl=n0}else this.host=e.host,this.ssl=e.ssl??n0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AL)throw new U(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vx(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new U(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new U(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new U(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new r5;switch(i.type){case"firstParty":return new l5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new U(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=t0.get(n);i&&(H("ComponentProvider","Removing Datastore"),t0.delete(n),i.terminate())}(this),Promise.resolve()}}function i9(t,e,n,i={}){var c;t=Pc(t,xh);const r=Gm(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;r&&(OM(`https://${a}`),LM("Firestore",!0)),s.host!==Lx&&s.host!==a&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:a,ssl:r,emulatorOptions:i};if(!Cc(u,o)&&(t._setSettings(u),i.mockUserToken)){let d,f;if(typeof i.mockUserToken=="string")d=i.mockUserToken,f=mt.MOCK_USER;else{d=NM(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new U(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new mt(m)}t._authCredentials=new s5(new kE(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class et{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new et(this.firestore,e,this._key)}toJSON(){return{type:et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(bl(n,et._jsonSchema))return new et(e,i||null,new Q(ge.fromString(n.referencePath)))}}et._jsonSchemaVersion="firestore/documentReference/1.0",et._jsonSchema={type:qe("string",et._jsonSchemaVersion),referencePath:qe("string")};class Zi extends hs{constructor(e,n,i){super(e,n,qE(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new et(this.firestore,null,new Q(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function Gd(t,e,...n){if(t=yo(t),CE("collection","path",e),t instanceof xh){const i=ge.fromString(e,...n);return g_(i),new Zi(t,null,i)}{if(!(t instanceof et||t instanceof Zi))throw new U(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ge.fromString(e,...n));return g_(i),new Zi(t.firestore,null,i)}}function r9(t,e,...n){if(t=yo(t),arguments.length===1&&(e=Xm.newId()),CE("doc","path",e),t instanceof xh){const i=ge.fromString(e,...n);return m_(i),new et(t,null,new Q(i))}{if(!(t instanceof et||t instanceof Zi))throw new U(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ge.fromString(e,...n));return m_(i),new et(t.firestore,t instanceof Zi?t.converter:null,new Q(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="AsyncQueue";class s0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vx(this,"async_queue_retry"),this._c=()=>{const i=Hd();i&&H(r0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Hd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ji;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;H(r0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,yi("INTERNAL UNHANDLED ERROR: ",o0(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=pg.createAndSchedule(this,e,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&X(47125,{Pc:o0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function o0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vg extends xh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new s0,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s0(e),this._firestoreClient=void 0,await e}}}function s9(t,e){const n=typeof t=="object"?t:GV(),i=typeof t=="string"?t:Rc,r=$V(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=RM("firestore");s&&i9(r,...s)}return r}function zx(t){if(t._terminated)throw new U(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||o9(t),t._firestoreClient}function o9(t){var i,r,s;const e=t._freezeSettings(),n=function(a,u,c,d){return new k5(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Vx(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new J6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hn(ct.fromBase64String(e))}catch(n){throw new U(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hn(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bl(e,hn._jsonSchema))return hn.fromBase64String(e.bytes)}}hn._jsonSchemaVersion="firestore/bytes/1.0",hn._jsonSchema={type:qe("string",hn._jsonSchemaVersion),bytes:qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Kn._jsonSchemaVersion}}static fromJSON(e){if(bl(e,Kn._jsonSchema))return new Kn(e.latitude,e.longitude)}}Kn._jsonSchemaVersion="firestore/geoPoint/1.0",Kn._jsonSchema={type:qe("string",Kn._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bl(e,Xn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Xn(e.vectorValues);throw new U(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xn._jsonSchemaVersion="firestore/vectorValue/1.0",Xn._jsonSchema={type:qe("string",Xn._jsonSchemaVersion),vectorValues:qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=/^__.*__$/;class l9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new El(e,this.data,n,this.fieldTransforms)}}function jx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ac:t})}}class bg{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jx(this.Ac)&&a9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class u9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||_h(e)}Cc(e,n,i,r=!1){return new bg({Ac:e,methodName:n,Dc:i,path:at.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bx(t){const e=t._freezeSettings(),n=_h(t._databaseId);return new u9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c9(t,e,n,i,r,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,r);qx("Data must be an object, but it was:",o,i);const a=$x(i,o);let u,c;if(s.merge)u=new In(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=d9(e,f,n);if(!o.contains(m))throw new U(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);p9(d,m)||d.push(m)}u=new In(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new l9(new cn(a),u,c)}function h9(t,e,n,i=!1){return Eg(n,t.Cc(i?4:3,e))}function Eg(t,e){if(Ux(t=yo(t)))return qx("Unsupported field value:",e,t),$x(t,e);if(t instanceof Fx)return function(i,r){if(!jx(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let u=Eg(a,r.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=yo(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Q5(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ee.fromDate(i);return{timestampValue:Vc(r.serializer,s)}}if(i instanceof Ee){const s=new Ee(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vc(r.serializer,s)}}if(i instanceof Kn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hn)return{bytesValue:lx(r.serializer,i._byteString)};if(i instanceof et){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Xn)return function(o,a){return{mapValue:{fields:{[ME]:{stringValue:VE},[Dc]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return ng(a.serializer,c)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${hh(i)}`)}(t,e)}function $x(t,e){const n={};return PE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(t,(i,r)=>{const s=Eg(r,e.mc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function Ux(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ee||t instanceof Kn||t instanceof hn||t instanceof et||t instanceof Fx||t instanceof Xn)}function qx(t,e,n){if(!Ux(n)||!SE(n)){const i=hh(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function d9(t,e,n){if((e=yo(e))instanceof _g)return e._internalPath;if(typeof e=="string")return Hx(t,e);throw jc("Field path arguments must be of type string or ",t,!1,void 0,n)}const f9=new RegExp("[~\\*/\\[\\]]");function Hx(t,e,n){if(e.search(f9)>=0)throw jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _g(...e.split("."))._internalPath}catch{throw jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jc(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${i}`),o&&(u+=` in document ${r}`),u+=")"),new U(L.INVALID_ARGUMENT,a+t+u)}function p9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m9 extends Wx{data(){return super.data()}}function xg(t,e){return typeof e=="string"?Hx(t,e):e instanceof _g?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class Gx extends Tg{}function a0(t,e,...n){let i=[];e instanceof Tg&&i.push(e),i=i.concat(n),function(s){const o=s.filter(u=>u instanceof Cg).length,a=s.filter(u=>u instanceof kg).length;if(o>1||o>0&&a>0)throw new U(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class kg extends Gx{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new kg(e,n,i)}_apply(e){const n=this._parse(e);return Qx(e._query,n),new hs(e.firestore,e.converter,mp(e._query,n))}_parse(e){const n=Bx(e.firestore);return function(s,o,a,u,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new U(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){c0(f,d);const b=[];for(const S of f)b.push(u0(u,s,S));m={arrayValue:{values:b}}}else m=u0(u,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||c0(f,d),m=h9(a,o,f,d==="in"||d==="not-in");return $e.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Cg extends Tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Mn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const u of a)Qx(o,u),o=mp(o,u)}(e._query,n),new hs(e.firestore,e.converter,mp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sg extends Gx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sg(e,n)}_apply(e){const n=function(r,s,o){if(r.startAt!==null)throw new U(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new U(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ol(s,o)}(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Mo(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function l0(t,e="asc"){const n=e,i=xg("orderBy",t);return Sg._create(i,n)}function u0(t,e,n){if(typeof(n=yo(n))=="string"){if(n==="")throw new U(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HE(e)&&n.indexOf("/")!==-1)throw new U(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ge.fromString(n));if(!Q.isDocumentKey(i))throw new U(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return T_(t,new Q(i))}if(n instanceof et)return T_(t,n._key);throw new U(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(n)}.`)}function c0(t,e){if(!Array.isArray(t)||t.length===0)throw new U(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qx(t,e){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class y9{convertValue(e,n="none"){switch(ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return as(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var i,r,s;const n=(s=(r=(i=e.fields)==null?void 0:i[Dc].arrayValue)==null?void 0:r.values)==null?void 0:s.map(o=>Me(o.doubleValue));return new Xn(n)}convertGeoPoint(e){return new Kn(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ph(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(il(e));default:return null}}convertTimestamp(e){const n=sr(e);return new Ee(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ge.fromString(e);de(px(i),9688,{name:e});const r=new rl(i.get(1),i.get(3)),s=new Q(i.popFirst(5));return r.isEqual(n)||yi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class gu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends Wx{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(xg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new U(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:qe("string",eo._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class Lu extends eo{data(e={}){return super.data(e)}}class to{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new gu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Lu(this._firestore,this._userDataWriter,i.key,i,new gu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const u=new Lu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new gu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Lu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new gu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:v9(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new U(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function v9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:qe("string",to._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class _9 extends y9{constructor(e){super(),this.firestore=e}convertBytes(e){return new hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new et(this.firestore,null,n)}}function h0(t){t=Pc(t,hs);const e=Pc(t.firestore,vg),n=zx(e),i=new _9(e);return g9(t._query),n9(n,t._query).then(r=>new to(e,i,t,r))}function b9(t,e){const n=Pc(t.firestore,vg),i=r9(t),r=w9(t.converter,e);return E9(n,[c9(Bx(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,hi.exists(!1))]).then(()=>i)}function E9(t,e){return function(i,r){const s=new Ji;return i.asyncQueue.enqueueAndForget(async()=>$6(await e9(i),r,s)),s.promise}(zx(t),e)}(function(e,n=!0){(function(r){Do=r})(WV),Ic(new el("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new vg(new o5(i.getProvider("auth-internal")),new u5(o,i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new U(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(c.options.projectId,d)}(o,r),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Js(h_,d_,e),Js(h_,d_,"esm2020")})();var x9="firebase",T9="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(x9,T9,"app");const k9={apiKey:"AIzaSyDT-nEiXExmW2WavzJAY5HsBps1k_Dgf6o",authDomain:"message-board-cf1bc.firebaseapp.com",databaseURL:"https://message-board-cf1bc-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"message-board-cf1bc",storageBucket:"message-board-cf1bc.firebasestorage.app",messagingSenderId:"845068825403",appId:"1:845068825403:web:e39e084e982b6b093e7d1e",measurementId:"G-D01FEGEJN3"},C9=mE(k9),Qd=s9(C9);function S9(){const[t,e]=Ge.useState([]),[n,i]=Ge.useState({email:"",company:"",content:""}),r="";Ge.useEffect(()=>{(async()=>{try{const d=a0(Gd(Qd,"messages"),l0("timestamp","desc")),m=(await h0(d)).docs.map(g=>g.data());e(m)}catch(d){console.error("❌ 获取留言失败:",d)}})()},[]);const s=async c=>{if(c.preventDefault(),!n.email||!n.content){Ys.fire("提示","请填写邮箱和留言内容","warning");return}try{await b9(Gd(Qd,"messages"),{email:n.email,company:n.company||"",content:n.content,timestamp:new Date}),_M.send("service_75xtg1o","template_ss15tmb",{from_email:n.email,message:n.content,company:n.company||"未填写公司"},"rrsBjpXKg_sqaOD27"),Ys.fire("✅ 提交成功","您的留言已通过邮箱安全发送！","success"),i({email:"",company:"",content:""});const d=a0(Gd(Qd,"messages"),l0("timestamp","desc")),m=(await h0(d)).docs.map(g=>g.data());e(m)}catch(d){console.error("❌ 提交失败:",d),Ys.fire("错误","留言发送失败，请稍后再试。","error")}},o=c=>{if(!c.includes("@"))return"***";const[d,f]=c.split("@");return d.slice(0,2)+"***@"+f},a=c=>c?c.length<=2?"*".repeat(c.length):c[0]+"***":"***",u=c=>"★".repeat(Math.min(c.length,20));return A.jsxs("section",{className:"mb-10",children:[A.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"留言板"}),A.jsxs("form",{onSubmit:s,className:"bg-gradient-to-br from-[#071019] to-[#0b1220] border border-gray-800 rounded-xl p-6 space-y-4",children:[A.jsx("input",{type:"text",placeholder:"公司名称（可选）",value:n.company,onChange:c=>i({...n,company:c.target.value}),className:"w-full p-2 bg-[#0d121b] border border-gray-700 rounded-md text-gray-200"}),A.jsx("input",{type:"email",placeholder:"您的邮箱",value:n.email,onChange:c=>i({...n,email:c.target.value}),className:"w-full p-2 bg-[#0d121b] border border-gray-700 rounded-md text-gray-200",required:!0}),A.jsx("textarea",{placeholder:"留言内容...",value:n.content,onChange:c=>i({...n,content:c.target.value}),className:"w-full p-2 bg-[#0d121b] border border-gray-700 rounded-md text-gray-200 h-24",required:!0}),A.jsx("button",{type:"submit",className:"px-4 py-2 bg-tech-blue text-white rounded-md hover:bg-blue-600 transition-all",children:"提交留言"})]}),A.jsxs("div",{className:"mt-6 max-h-[300px] overflow-y-auto space-y-3 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:[t.length===0&&A.jsx("p",{className:"text-gray-500 text-sm",children:"暂无留言，欢迎成为第一个留言者！"}),t.map((c,d)=>{const f=c.email===r;return A.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-[#0d131b] to-[#101a2a] border border-gray-700",children:[A.jsx("p",{className:"text-gray-300 leading-snug line-clamp-3",children:f?c.content:u(c.content)}),A.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["—— ",f?c.company||"匿名":a(c.company)," (",f?c.email:o(c.email),")"]})]},d)})]})]})}function I9({items:t=[],onOpen:e}){return!Array.isArray(t)||t.length===0?A.jsxs("section",{className:"mb-8 text-gray-400 text-sm",children:[A.jsx("h2",{className:"text-xl font-semibold mb-3",children:"工作经历"}),A.jsx("p",{children:"暂无工作经历记录。"})]}):A.jsxs("section",{className:"mb-8",children:[A.jsx("h2",{className:"text-xl font-semibold mb-3",children:"工作经历"}),A.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map((n,i)=>A.jsxs("div",{onClick:()=>e({type:"work",data:n}),className:`p-5 rounded-xl bg-gradient-to-br from-[#071019] to-[#0b1220]\r
                       border border-gray-800 cursor-pointer hover:scale-[1.02]\r
                       hover:shadow-[0_0_25px_rgba(14,165,255,0.15)] transition-all duration-300`,children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsx("div",{className:"font-medium text-white",children:n.company}),A.jsx("div",{className:"text-sm text-gray-400",children:n.period})]}),A.jsx("p",{className:"text-gray-300 text-sm font-semibold mb-1",children:n.position}),A.jsx("p",{className:"text-gray-400 text-sm mb-2 line-clamp-2",children:n.summary}),n.tags&&n.tags.length>0&&A.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.tags.map((r,s)=>A.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-blue-900/20 border border-blue-700/40 text-blue-300",children:["#",r]},s))})]},i))})]})}function P9(){var n,i,r;const[t,e]=Ge.useState(null);return A.jsxs("div",{className:"min-h-screen text-gray-200 relative",children:[A.jsx(_3,{}),A.jsx(xS,{siteTitle:Ht.siteTitle,email:Ht.hero.email}),A.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-12 relative z-10",children:[A.jsx(TS,{data:Ht.hero}),A.jsx(kS,{data:Ht.about,onOpen:e}),A.jsx(CS,{items:Ht.skills,onOpen:e}),A.jsx(I9,{items:Ht.work,onOpen:e}),A.jsx(SS,{items:Ht.projects,onOpen:e}),A.jsx(IS,{items:Ht.education,onOpen:e}),A.jsx(C3,{items:Ht.papers,onOpen:e}),A.jsx(PS,{items:Ht.interests,onOpen:e}),A.jsx(T3,{}),A.jsx(AS,{email:Ht.hero.email,note:Ht.contactNote,onOpen:e}),A.jsx(S9,{messages:Ht.messages}),A.jsx("div",{className:"h-24"})]}),A.jsxs("footer",{className:"text-center py-6 text-sm text-gray-400 border-t border-gray-800 relative z-10",children:["© ",new Date().getFullYear()," 王祥祺 — 数据分析与机器学习研究员"]}),A.jsx(k3,{show:!!t,onClose:()=>e(null),title:((n=t==null?void 0:t.data)==null?void 0:n.title)||((i=t==null?void 0:t.data)==null?void 0:i.school)||((r=t==null?void 0:t.data)==null?void 0:r.name)||"详情",children:A.jsxs("div",{className:"space-y-4 text-gray-300 leading-relaxed",children:[(t==null?void 0:t.type)==="work"&&A.jsxs(A.Fragment,{children:[A.jsxs("p",{children:[A.jsx("strong",{children:"公司："})," ",t.data.company]}),A.jsxs("p",{children:[A.jsx("strong",{children:"职位："})," ",t.data.position]}),A.jsxs("p",{className:"text-sm text-gray-400",children:[A.jsx("strong",{children:"时间："})," ",t.data.period]}),A.jsx("p",{className:"mt-3 text-gray-300 leading-relaxed",children:t.data.details}),t.data.tags&&A.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.data.tags.map((s,o)=>A.jsxs("span",{className:"text-xs px-2 py-1 bg-blue-900/20 border border-blue-700/40 rounded text-blue-300",children:["#",s]},o))})]}),(t==null?void 0:t.type)==="project"&&A.jsxs(A.Fragment,{children:[A.jsx("p",{children:t.data.desc}),t.data.details&&A.jsxs("p",{className:"text-gray-400 text-sm",children:[A.jsx("strong",{children:"详细说明："})," ",t.data.details]}),t.data.tags&&A.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.data.tags.map((s,o)=>A.jsxs("span",{className:"text-xs px-2 py-1 bg-blue-900/20 border border-blue-700/40 rounded text-blue-300",children:["#",s]},o))}),t.data.period&&A.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["时间：",t.data.period]})]}),(t==null?void 0:t.type)==="education"&&A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"text-gray-300 leading-relaxed",children:t.data.details}),t.data.extra&&A.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[A.jsx("span",{className:"text-blue-400 font-semibold",children:"📘 详细说明："})," ",t.data.extra]}),A.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:[A.jsx("strong",{children:"学习时间："})," ",t.data.period]})]}),(t==null?void 0:t.type)==="skill"&&A.jsxs(A.Fragment,{children:[A.jsxs("p",{children:[A.jsx("strong",{children:"技能名称："})," ",t.data.name]}),t.data.desc&&A.jsxs("p",{className:"text-gray-400 text-sm",children:[A.jsx("strong",{children:"说明："})," ",t.data.desc]})]}),(t==null?void 0:t.type)==="interest"&&A.jsxs(A.Fragment,{children:[A.jsxs("p",{children:[A.jsx("strong",{children:"兴趣方向："})," ",t.data.name||t.data]}),t.data.desc&&A.jsxs("p",{className:"text-gray-400 text-sm",children:[A.jsx("strong",{children:"深入探索："})," ",t.data.desc]})]}),(t==null?void 0:t.type)==="about"&&A.jsx("div",{className:"space-y-3",children:t.data.paragraphs.map((s,o)=>A.jsx("p",{className:"text-gray-300 leading-relaxed",children:s},o))}),(t==null?void 0:t.type)==="paper"&&A.jsxs(A.Fragment,{children:[t.data.authors&&A.jsxs("p",{className:"text-gray-400 text-sm mb-2",children:[A.jsx("strong",{children:"作者："})," ",t.data.authors.join("，")]}),t.data.year&&A.jsxs("p",{className:"text-gray-500 text-sm mb-3",children:[A.jsx("strong",{children:"年份："})," ",t.data.year]}),A.jsx("p",{className:"text-gray-300 leading-relaxed",children:t.data.details}),t.data.pdf&&A.jsx("a",{href:t.data.pdf,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-3 text-blue-400 hover:underline",children:"📄 点击打开 PDF 原文"})]}),(t==null?void 0:t.type)==="contact"&&A.jsxs("div",{className:"space-y-3 text-gray-300",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"邮箱："})," ",A.jsx("a",{href:`mailto:${t.data.email}`,className:"text-blue-400 hover:underline",children:t.data.email})]}),A.jsx("p",{children:t.data.note}),A.jsx("p",{className:"text-gray-400 text-sm",children:"微信：SCI0000001"})]})]})})]})}Tb(document.getElementById("root")).render(A.jsx(P9,{}));
